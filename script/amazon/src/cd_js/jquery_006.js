!function(e){var r={replaceParams:function(r){r=jQuery.extend({url:"",urlPlaceholder:[]},r);var t=r.url;return e.each(r.urlPlaceholder,function(){var r=e("#"+this.id).val();t=r&&(void 0==this.maxLength||r.length<=this.maxLength)?t.replace(this.placeholder,r):t.replace(this.placeholder,"")}),t},addParams:function(r){r=jQuery.extend({url:"",params:[]},r);var t=r.url;return t.indexOf("?")<0?t+="?":t.indexOf("?")!=t.length-1&&t.lastIndexOf("&")!=t.length-1&&(t+="&"),e.each(r.params,function(){t+=this.key+"="+this.value+"&"}),t.lastIndexOf("&")==t.length-1&&(t=t.substring(0,t.length-1)),t},getValuesByRegex:function(r){var t=[];return e(r).each(function(){var r=e(this).val();void 0!=r&&""!=r&&t.push(r)}),t},addValuesByRegex:function(t){t=jQuery.extend({url:"",paramKey:"",regexSelector:""},t);var a=[],l=r.getValuesByRegex(t.regexSelector);return e.each(l,function(){a.push({key:t.paramKey,value:this})}),r.addParams({url:t.url,params:a})},setUrl:function(r){r=jQuery.extend({url:"",idRegex:"",attribute:""},r);var t=e(r.idRegex).attr(r.attribute);t!=r.url&&e(r.idRegex).attr(r.attribute,r.url)},manipulateUrlOnEvent:function(t){t=jQuery.extend({url:"",paramKey:"",regexSelector:"",params:[],idRegex:this,attribute:"href",event:"click",thickbox:!1},t);var a=function(t,a){t.url=r.replaceParams(t),t.url=r.addValuesByRegex(t),t.url=r.addParams(t),r.setUrl(t),t.thickbox!==!1&&(e.Thickbox.show(null,t.url,null),a.preventDefault())};"ready"==t.event?a(t):e(this).bind(t.event,function(e){a(t,e)})}};e.urlUtils=r,e.fn.urlUtils=r.manipulateUrlOnEvent}(jQuery),$.ccfregistry.pluginReady("urlUtils");