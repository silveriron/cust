!function(e){function t(t,i,n){function o(e){var t="undefined"!==c[e]?c[e].id:void 0,i="undefined"!==c[e]?c[e].event:void 0;if("undefined"==typeof t)"undefined"!=typeof console&&console.info("Unknown tracking action id ("+e+")");else{var n={pageId:t,refId:document.location.href,cDes:"VID-"+f.settings.categoryID+"|"+f.settings.videoID};"undefined"!=typeof eCrm&&eCrm.log(n),"undefined"!=typeof i&&"undefined"!=typeof window.cdb&&"undefined"!=typeof window.cdb.tracking&&"undefined"!=typeof window.cdb.tracking.TrackingLogger&&(new cdb.tracking.TrackingLogger).actionLogging(t,i,f.settings.mp4URL)}}function r(e){return{file:e.mp4URL,image:e.previewImageURL||null,"captions.file":e.subtitlesURL||null}}function s(e){var t=[],i={type:"html5",config:{provider:"video"}},n={type:"download",config:{provider:"video"}};return t=-1!==e.mp4URL.toLowerCase().indexOf(".flv")?[n]:[i,n]}function a(){var t="100%"===f.settings.width?u:f.settings.width,i="100%"===f.settings.height?g:f.settings.height;w&&(i-=33),n.css({position:"absolute",width:t+"px",height:i+"px",outline:"none"}),w?n.css({border:"1px solid #afb0b1"}):v||(v=e("<div />").css({position:"absolute",top:"0",left:"0",width:t-2+"px",height:i-35+"px",outline:"none","border-left":"1px solid #afb0b1","border-top":"1px solid #afb0b1","border-right":"1px solid #afb0b1","pointer-events":"none"})),y.setup({width:t,height:i,stretching:f.settings.stretching,autostart:f.settings.autostart,screencolor:"0xFFFFFF",backcolor:"0xFFFFFF",frontcolor:"0xFFFFFF",lightcolor:"0xFFFFFF",skin:d,"controlbar.position":"bottom",dock:!1,modes:s(f.settings),plugins:{"captions-2":p},events:f,wmode:"transparent",playlist:[r(f.settings)]})}var d=i+"skin/comdirect.zip",l=[5,10,20,30,40,50,60,70,80,90,100],c={start:{id:"coai1145",event:"event51"},stop:{id:"coai1146"},close:{id:"coai1147"},play:{id:"coai1148"},pause:{id:"coai1149"},rewind:{id:"coai1150"},forward:{id:"coai1151"},played5Percent:{id:"coai1152"},played10Percent:{id:"coai1153"},played20Percent:{id:"coai1154",event:"event52"},played30Percent:{id:"coai1155"},played40Percent:{id:"coai1156",event:"event53"},played50Percent:{id:"coai1157"},played60Percent:{id:"coai1158",event:"event54"},played70Percent:{id:"coai1159"},played80Percent:{id:"coai1160",event:"event55"},played90Percent:{id:"coai1161",event:"event56"},played100Percent:{id:"coai1162",event:"event57"}},p={color:"#FFFFFF",fontFamily:"Verdana, Arial, Helvetica, sans-serif",fontSize:10,fontStyle:"normal",fontWeight:"normal",textDecoration:"none",back:!1,state:!1},f=this,h=t.id,u=n.parent().width(),g=n.parent().height(),y=window.jwplayer(t),v=null,w=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad)/);this.settings=null,this.firstPlay=!0,this.hasForwardSeeked=!1,this.lastPositionMarker=-1,this.start=function(e){this.firstPlay=!0,this.hasForwardSeeked=!1,this.lastPositionMarker=-1,this.settings?(this.settings=e,y.load([r(this.settings)]),this.settings.autostart&&y.play(!0)):(this.settings=e,a())},this.onReady=function(){var e=n.find("#"+h).css({outline:"none","background-color":f.settings.bgColor});v&&0===v.parent().length&&(n.append(v),e&&e.length>0&&v.css({left:e.position().left,width:e.outerWidth()-2}))},this.onPlay=function(){f.firstPlay?(f.firstPlay=!1,o("start"),e("#"+h).trigger("videostarted")):o("play")},this.onPause=function(){o("pause")},this.onError=function(e){"undefined"!=typeof console&&console.error("S2VideoPlayer.onError: ",e.error)},this.onTime=function(e){if(!this.hasForwardSeeked)for(var t=e.position/e.duration,i=l.length-1,n=0;i>=0;){if(n=l[i],100.5*t>=n){i!==this.lastPositionMarker&&(this.lastPositionMarker=i,o("played"+n+"Percent"));break}i--}},this.onSeek=function(e){var t=e.offset-e.position>=0;t?(this.hasForwardSeeked=!0,o("forward")):o("rewind")},this.destroy=function(){y.stop(),y.remove(),"undefined"!=typeof v&&null!==v&&0!==v.parent().length&&v.remove(),"undefined"!=typeof n&&null!==n&&0!==n.parent().length&&n.remove()}}var i={};e.fn.videoplayer=function(n){var o="/ccf2/common/jwplayer/",r={mp4URL:null,previewImageURL:null,subtitlesURL:null,width:"100%",height:"100%",stretching:"uniform",autostart:!1,videoID:null,categoryID:null,bgColor:"#FFFFFF"};if("undefined"==typeof window.jwplayer)throw"Error: required JWPlayer object is not available!";return n&&e.extend(!0,r,n),this.each(function(){if("undefined"==typeof this.id||""===this.id)throw"Error: id must be set for JWPlayer working! ("+e(this).parent().html()+")";var n=i[this.id];if("undefined"==typeof n||!n){var s=e('<div class="videoplayerContainer" />');e(this).parent().append(s),s.append(e(this)),n=i[this.id]=new t(this,o,s)}n.start(r)})},e.fn.videoplayer.destroy=function(e){return i[e]||"undefined"==typeof console?(i[e].destroy(),delete i[e],void(i[e]=null)):void console.error("Unable to destroy video player, unknown video player id ("+e+")")}}(jQuery),$.ccfregistry.pluginReady("videoplayer");