Abaxx.define("widgets.aspectMessages",function(){jQuery(document).on("click",".abaxx-tags-errors-fadeoutcontainer",function(){jQuery(this).toggleClass("collapsed")});return{}});
Abaxx.define("switchlayout",function(){function initAll(){jQuery("[data-abx-widget\x3dabxformtabs]").each(function(index,layout){var $layout=jQuery(layout);$layout.off(".abxformtabs").on("click.abxformtabs","a",function(event){jQuery(".tabs \x3e div",$layout).removeClass("on");jQuery(".tabs \x3e div",$layout).addClass("off");var t=jQuery(this);t.parent().removeClass("off");t.parent().addClass("on");var contentTabs=jQuery(".tabs-above-body \x3e div",$layout);contentTabs.hide();jQuery(t.attr("href")).show();
event.preventDefault()})});jQuery("[data-abx-widget\x3dswitchlayout]").each(function(index,layout){var $layout=jQuery(layout);var options=$layout.data("abxOptions");if(!$layout.data("abxSwitchlayoutInitialized")){$layout.data("abxSwitchlayoutInitialized",true);Abaxx.switchlayout.init($layout,options)}})}var LAYOUT_DATA_KEY="abaxx.switchlayout.options";var tabSwitchEvent=function($layout,$tab,targetUrl,options){var $previousTab=$layout.find("[data-xlayout\x3d'"+$tab.attr("data-xlayout")+"']."+options.activeTabCss);
$previousTab.removeClass(options.activeTabCss).addClass(options.inactiveTabCss);$tab.addClass(options.activeTabCss).removeClass(options.inactiveTabCss);var previousTabUrl=$previousTab.find("a.switchlayout-tab-link").attr("href");return jQuery.Event("abx_tab_switched",{previousTab:$previousTab.attr("id"),options:options,tabUrl:targetUrl,previousTabUrl:previousTabUrl})};var loadTab=function(tabId,switchEvent){var $tab=typeof tabId==="string"?jQuery("#"+tabId):tabId;var targetUrl=$tab.find("a.switchlayout-tab-link").attr("href");
var $layout=$("[id\x3d'"+$tab.attr("data-xlayout")+"'][data-abx-widget\x3d'switchlayout']");var options=$layout.data(LAYOUT_DATA_KEY);var url=Abaxx.ajax.urlForSinglePart(targetUrl,options.keepDecorator);url=Abaxx.core.setUrlParameter(url,"$event",switchEvent||options.switchEvent);jQuery.ajax(url,{dataType:"text",async:false,success:function(text){var html=Abaxx.ajax.parseHtml(text);var bodySelector="[id\x3d'"+options.bodyId+"']";var newBody;if(html.redirectUrl){var linkEvent=new Abaxx.core.OpenLinkEvent({url:targetUrl});
jQuery(document).trigger(linkEvent)}else{newBody=jQuery(bodySelector,html.scriptless);if(newBody.length===0)jQuery(bodySelector).html(html.scriptless);else jQuery(bodySelector).html(newBody.html());Abaxx.ajax.insertStylesheets(html.stylesheets);Abaxx.ajax.executeScripts(html.scripts);Abaxx.ajax.triggerHtmlChangedEvent({changed:jQuery(bodySelector)});$tab.trigger(tabSwitchEvent($layout,$tab,targetUrl,options));Abaxx.ajax.triggerPartialLoadEvent($tab)}}})};var displayErrorsInCurrentTab=function(response,
options){var html=Abaxx.ajax.parseHtml(response.responseText);var bodySelector="[id\x3d'"+options.bodyId+"']";var newElement=jQuery(bodySelector,jQuery(html.scriptless));if(newElement.length>0)jQuery(bodySelector).replaceWith(newElement);else jQuery(bodySelector).html(html.scriptless);Abaxx.ajax.insertStylesheets(html.stylesheets);Abaxx.ajax.executeScripts(html.scripts);Abaxx.ajax.triggerHtmlChangedEvent({changed:jQuery(bodySelector)});Abaxx.ajax.triggerPartialLoadEvent(jQuery(bodySelector))};var switchAfterSubmit=
function(tabId,tabUrl,options){var se=options.switchedEvent||options.switchEvent+"After";if(options.async)loadTab(tabId,se);else{var linkEvent=new Abaxx.core.OpenLinkEvent({url:Abaxx.core.setUrlParameter(tabUrl,"$event",se)});jQuery(document).trigger(linkEvent)}};var switchToTab=function(tabId){var $tab=typeof tabId==="string"?jQuery("[id\x3d'"+tabId+"']"):tabId;var $layout=$("[id\x3d'"+$tab.attr("data-xlayout")+"'][data-abx-widget\x3d'switchlayout']");var tabUrl=$tab.find("a.switchlayout-tab-link").attr("href");
var options=$layout.data(LAYOUT_DATA_KEY);var afterSubmit=function(text,status,response){if(/class=("|')aspect-error\1/.test(response.responseText))displayErrorsInCurrentTab(response,options);else switchAfterSubmit(tabId,tabUrl,options)};if(!$tab.hasClass(options.activeTabCss))if(!options.submitBeforeSwitch||!Abaxx.ajax.submitForm(options.bodyId,{keepDecorator:options.keepDecorator===true,event:options.switchEvent,onSuccess:afterSubmit}))if(options.async)loadTab($tab);else{var linkEvent=new Abaxx.core.OpenLinkEvent({url:Abaxx.core.setUrlParameter(tabUrl,
"$event",options.switchEvent)});jQuery(document).trigger(linkEvent)}return false};var init=function(layoutOrId,options){var bindToEvent=(options.autoSwitch?"mouseover":"click")+".switchlayout";var $layout=typeof layoutOrId==="string"?jQuery("#"+layoutOrId):layoutOrId;var layoutId=$layout.attr("id");var tabSelector="[data-xlayout\x3d'"+layoutId+"']";options.bodyId=options.bodyId||layoutId+"_asyncbody";options.activeTabCss=options.activeTabCss||"on";options.inactiveTabCss=options.inactiveTabCss||"off";
$layout.data(LAYOUT_DATA_KEY,options);$layout.off(".switchlayout");if(options.autoSwitch||options.submitBeforeSwitch||options.async)$layout.on(bindToEvent,tabSelector,function(event){var $this=jQuery(this);if(!event.isDefaultPrevented()){switchToTab($this);event.preventDefault();event.stopPropagation()}})};Abaxx.core.onReady(initAll);return{switchToTab:switchToTab,init:init}});window.jQuery=window.$=jQuery;
(function(jQuery,undefined){function newTmplItem(options,parentItem,fn,data){var newItem={data:data||(data===0||data===false)?data:parentItem?parentItem.data:{},_wrap:parentItem?parentItem._wrap:null,tmpl:null,parent:parentItem||null,nodes:[],calls:tiCalls,nest:tiNest,wrap:tiWrap,html:tiHtml,update:tiUpdate};if(options)jQuery.extend(newItem,options,{nodes:[],parent:parentItem});if(fn){newItem.tmpl=fn;newItem._ctnt=newItem._ctnt||newItem.tmpl(jQuery,newItem);newItem.key=++itemKey;(stack.length?wrappedItems:
newTmplItems)[itemKey]=newItem}return newItem}function build(tmplItem,nested,content){var frag;var ret=content?jQuery.map(content,function(item){return typeof item==="string"?tmplItem.key?item.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+tmplItmAtt+'\x3d"'+tmplItem.key+'" $2'):item:build(item,tmplItem,item._ctnt)}):tmplItem;if(nested)return ret;ret=ret.join("");ret.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(all,before,middle,after){frag=jQuery(middle).get();storeTmplItems(frag);
if(before)frag=unencode(before).concat(frag);if(after)frag=frag.concat(unencode(after))});return frag?frag:unencode(ret)}function unencode(text){var el=document.createElement("div");el.innerHTML=text;return jQuery.makeArray(el.childNodes)}function buildTmplFn(markup){return new Function("jQuery","$item","var $\x3djQuery,call,__\x3d[],$data\x3d$item.data;"+"with($data){__.push('"+jQuery.trim(markup).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{\x3d $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(all,slash,type,fnargs,target,parens,args){var tag=jQuery.tmpl.tag[type];var def;var expr;var exprAutoFnDetect;if(!tag)throw"Unknown template tag: "+type;def=tag._default||[];if(parens&&!/\w$/.test(target)){target+=parens;parens=""}if(target){target=unescape(target);args=args?","+unescape(args)+")":parens?")":"";expr=parens?target.indexOf(".")>-1?target+unescape(parens):"("+target+").call($item"+args:target;exprAutoFnDetect=parens?expr:"(typeof("+target+")\x3d\x3d\x3d'function'?("+target+
").call($item):("+target+"))"}else exprAutoFnDetect=expr=def.$1||"null";fnargs=unescape(fnargs);return"');"+tag[slash?"close":"open"].split("$notnull_1").join(target?"typeof("+target+")!\x3d\x3d'undefined' \x26\x26 ("+target+")!\x3dnull":"true").split("$1a").join(exprAutoFnDetect).split("$1").join(expr).split("$2").join(fnargs||def.$2||"")+"__.push('"})+"');}return __;")}function updateWrapped(options,wrapped){options._wrap=build(options,true,jQuery.isArray(wrapped)?wrapped:[htmlExpr.test(wrapped)?
wrapped:jQuery(wrapped).html()]).join("")}function unescape(args){return args?args.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function outerHtml(elem){var div=document.createElement("div");div.appendChild(elem.cloneNode(true));return div.innerHTML}function storeTmplItems(content){function processItemKey(el){function cloneTmplItem(key){key=key+keySuffix;tmplItem=newClonedItems[key]=newClonedItems[key]||newTmplItem(tmplItem,newTmplItems[tmplItem.parent.key+keySuffix]||tmplItem.parent)}var pntKey;
var pntNode=el;var pntItem;var tmplItem;var key$$0;if(key$$0=el.getAttribute(tmplItmAtt)){for(;pntNode.parentNode&&(pntNode=pntNode.parentNode).nodeType===1&&!(pntKey=pntNode.getAttribute(tmplItmAtt)););if(pntKey!==key$$0){pntNode=pntNode.parentNode?pntNode.nodeType===11?0:pntNode.getAttribute(tmplItmAtt)||0:0;if(!(tmplItem=newTmplItems[key$$0])){tmplItem=wrappedItems[key$$0];tmplItem=newTmplItem(tmplItem,newTmplItems[pntNode]||wrappedItems[pntNode]);tmplItem.key=++itemKey;newTmplItems[itemKey]=tmplItem}if(cloneIndex)cloneTmplItem(key$$0)}el.removeAttribute(tmplItmAtt)}else if(cloneIndex&&
(tmplItem=jQuery.data(el,"tmplItem"))){cloneTmplItem(tmplItem.key);newTmplItems[tmplItem.key]=tmplItem;pntNode=jQuery.data(el.parentNode,"tmplItem");pntNode=pntNode?pntNode.key:0}if(tmplItem){for(pntItem=tmplItem;pntItem&&pntItem.key!=pntNode;){pntItem.nodes.push(el);pntItem=pntItem.parent}delete tmplItem._ctnt;delete tmplItem._wrap;jQuery.data(el,"tmplItem",tmplItem)}}var keySuffix="_"+cloneIndex;var elem;var elems;var newClonedItems={};var i;var l;var m;for(i=0,l=content.length;i<l;i++){if((elem=
content[i]).nodeType!==1)continue;elems=elem.getElementsByTagName("*");for(m=elems.length-1;m>=0;m--)processItemKey(elems[m]);processItemKey(elem)}}function tiCalls(content,tmpl,data,options){if(!content)return stack.pop();stack.push({_:content,tmpl:tmpl,item:this,data:data,options:options})}function tiNest(tmpl,data,options){return jQuery.tmpl(jQuery.template(tmpl),data,options,this)}function tiWrap(call,wrapped){var options=call.options||{};options.wrapped=wrapped;return jQuery.tmpl(jQuery.template(call.tmpl),
call.data,options,call.item)}function tiHtml(filter,textOnly){var wrapped=this._wrap;return jQuery.map(jQuery(jQuery.isArray(wrapped)?wrapped.join(""):wrapped).filter(filter||"*"),function(e){return textOnly?e.innerText||e.textContent:e.outerHTML||outerHtml(e)})}function tiUpdate(){var coll=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(coll[0]);jQuery(coll).remove()}var oldManip=jQuery.fn.domManip;var tmplItmAtt="_tmplitem";var htmlExpr=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /;var newTmplItems=
{};var wrappedItems={};var appendToTmplItems;var topTmplItem={key:0,data:{}};var itemKey=0;var cloneIndex=0;var stack=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[];var insert=jQuery(selector);var elems;var i;var l;var tmplItems;var parent=this.length===1&&this[0].parentNode;appendToTmplItems=newTmplItems||{};if(parent&&parent.nodeType===11&&parent.childNodes.length===
1&&insert.length===1){insert[original](this[0]);ret=this}else{for(i=0,l=insert.length;i<l;i++){cloneIndex=i;elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}cloneIndex=0;ret=this.pushStack(ret,name,insert.selector)}tmplItems=appendToTmplItems;appendToTmplItems=null;jQuery.tmpl.complete(tmplItems);return ret}});jQuery.fn.extend({tmpl:function(data,options,parentItem){return jQuery.tmpl(this[0],data,options,parentItem)},tmplItem:function(){return jQuery.tmplItem(this[0])},
template:function(name){return jQuery.template(name,this[0])},domManip:function(args,table,callback,options){if(args[0]&&jQuery.isArray(args[0])){var dmArgs=jQuery.makeArray(arguments);var elems=args[0];var elemsLength=elems.length;var i=0;for(var tmplItem;i<elemsLength&&!(tmplItem=jQuery.data(elems[i++],"tmplItem")););if(tmplItem&&cloneIndex)dmArgs[2]=function(fragClone){jQuery.tmpl.afterManip(this,fragClone,callback)};oldManip.apply(this,dmArgs)}else oldManip.apply(this,arguments);cloneIndex=0;
if(!appendToTmplItems)jQuery.tmpl.complete(newTmplItems);return this}});jQuery.extend({tmpl:function(tmpl,data,options,parentItem){var ret;var topLevel=!parentItem;if(topLevel){parentItem=topTmplItem;tmpl=jQuery.template[tmpl]||jQuery.template(null,tmpl);wrappedItems={}}else if(!tmpl){tmpl=parentItem.tmpl;newTmplItems[parentItem.key]=parentItem;parentItem.nodes=[];if(parentItem.wrapped)updateWrapped(parentItem,parentItem.wrapped);return jQuery(build(parentItem,null,parentItem.tmpl(jQuery,parentItem)))}if(!tmpl)return[];
if(typeof data==="function")data=data.call(parentItem||{});if(options&&options.wrapped)updateWrapped(options,options.wrapped);ret=jQuery.isArray(data)?jQuery.map(data,function(dataItem){return dataItem?newTmplItem(options,parentItem,tmpl,dataItem):null}):[newTmplItem(options,parentItem,tmpl,data)];return topLevel?jQuery(build(parentItem,null,ret)):ret},tmplItem:function(elem){var tmplItem;if(elem instanceof jQuery)elem=elem[0];for(;elem&&elem.nodeType===1&&!(tmplItem=jQuery.data(elem,"tmplItem"))&&
(elem=elem.parentNode););return tmplItem||topTmplItem},template:function(name,tmpl){if(tmpl){if(typeof tmpl==="string")tmpl=buildTmplFn(tmpl);else if(tmpl instanceof jQuery)tmpl=tmpl[0]||{};if(tmpl.nodeType)tmpl=jQuery.data(tmpl,"tmpl")||jQuery.data(tmpl,"tmpl",buildTmplFn(tmpl.innerHTML));return typeof name==="string"?jQuery.template[name]=tmpl:tmpl}return name?typeof name!=="string"?jQuery.template(null,name):jQuery.template[name]||jQuery.template(null,htmlExpr.test(name)?name:jQuery(name)):null},
encode:function(text){return(""+text).split("\x3c").join("\x26lt;").split("\x3e").join("\x26gt;").split('"').join("\x26#34;").split("'").join("\x26#39;")}});jQuery.extend(jQuery.tmpl,{tag:{"tmpl":{_default:{$2:"null"},open:"if($notnull_1){__\x3d__.concat($item.nest($1,$2));}"},"wrap":{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__\x3d[];",close:"call\x3d$item.calls();__\x3dcall._.concat($item.wrap(call,__));"},"each":{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",
close:"}});}"},"if":{open:"if(($notnull_1) \x26\x26 $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) \x26\x26 $1a){"},"html":{open:"if($notnull_1){__.push($1a);}"},"\x3d":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(items){newTmplItems={}},afterManip:function afterManip(elem,fragClone,callback){var content=fragClone.nodeType===11?jQuery.makeArray(fragClone.childNodes):fragClone.nodeType===1?[fragClone]:[];callback.call(elem,
fragClone);storeTmplItems(content);cloneIndex++}})})(jQuery);
(function($,window){function is_string(arg){return typeof arg==="string"}function curry(func){var args=aps.call(arguments,1);return function(){return func.apply(this,args.concat(aps.call(arguments)))}}function get_fragment(url){return url.replace(/^[^#]*#?(.*)$/,"$1")}function get_querystring(url){return url.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function jq_param_sub(is_fragment,get_func,url,params,merge_mode){var result;var qs;var matches;var url_params;var hash;if(params!==undefined){matches=
url.match(is_fragment?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);hash=matches[3]||"";if(merge_mode===2&&is_string(params))qs=params.replace(is_fragment?re_trim_fragment:re_trim_querystring,"");else{url_params=jq_deparam(matches[2]);params=is_string(params)?jq_deparam[is_fragment?str_fragment:str_querystring](params):params;qs=merge_mode===2?params:merge_mode===1?$.extend({},params,url_params):$.extend({},url_params,params);qs=jq_param(qs);if(is_fragment)qs=qs.replace(re_no_escape,decode)}result=
matches[1]+(is_fragment?"#":qs||!matches[1]?"?":"")+qs+hash}else result=get_func(url!==undefined?url:window[str_location][str_href]);return result}function jq_deparam_sub(is_fragment,url_or_params,coerce){if(url_or_params===undefined||typeof url_or_params==="boolean"){coerce=url_or_params;url_or_params=jq_param[is_fragment?str_fragment:str_querystring]()}else url_or_params=is_string(url_or_params)?url_or_params.replace(is_fragment?re_trim_fragment:re_trim_querystring,""):url_or_params;return jq_deparam(url_or_params,
coerce)}function jq_fn_sub(mode,force_attr,params,merge_mode){if(!is_string(params)&&typeof params!=="object"){merge_mode=params;params=force_attr;force_attr=undefined}return this.each(function(){var that=$(this);var attr=force_attr||jq_elemUrlAttr()[(this.nodeName||"").toLowerCase()]||"";var url=attr&&that.attr(attr)||"";that.attr(attr,jq_param[mode](url,params,merge_mode))})}"$:nomunge";var undefined;var aps=Array.prototype.slice;var decode=decodeURIComponent;var jq_param=$.param;var jq_param_fragment;
var jq_deparam;var jq_deparam_fragment;var jq_bbq=$.bbq=$.bbq||{};var jq_bbq_pushState;var jq_bbq_getState;var jq_elemUrlAttr;var jq_event_special=$.event.special;var str_hashchange="hashchange";var str_querystring="querystring";var str_fragment="fragment";var str_elemUrlAttr="elemUrlAttr";var str_location="location";var str_href="href";var str_src="src";var re_trim_querystring=/^.*\?|#.*$/g;var re_trim_fragment=/^.*\#/;var re_no_escape;var elemUrlAttr_cache={};jq_param[str_querystring]=curry(jq_param_sub,
0,get_querystring);jq_param[str_fragment]=jq_param_fragment=curry(jq_param_sub,1,get_fragment);jq_param_fragment.noEscape=function(chars){chars=chars||"";var arr=$.map(chars.split(""),encodeURIComponent);re_no_escape=new RegExp(arr.join("|"),"g")};jq_param_fragment.noEscape(",/");$.deparam=jq_deparam=function(params,coerce){var obj={};var coerce_types={"true":!0,"false":!1,"null":null};$.each(params.replace(/\+/g," ").split("\x26"),function(j,v){var param=v.split("\x3d");var key=decode(param[0]);
var val;var cur=obj;var i=0;var keys=key.split("][");var keys_last=keys.length-1;if(/\[/.test(keys[0])&&/\]$/.test(keys[keys_last])){keys[keys_last]=keys[keys_last].replace(/\]$/,"");keys=keys.shift().split("[").concat(keys);keys_last=keys.length-1}else keys_last=0;if(param.length===2){val=decode(param[1]);if(coerce)val=val&&!isNaN(val)?+val:val==="undefined"?undefined:coerce_types[val]!==undefined?coerce_types[val]:val;if(keys_last)for(;i<=keys_last;i++){key=keys[i]===""?cur.length:keys[i];cur=cur[key]=
i<keys_last?cur[key]||(keys[i+1]&&isNaN(keys[i+1])?{}:[]):val}else if($.isArray(obj[key]))obj[key].push(val);else if(obj[key]!==undefined)obj[key]=[obj[key],val];else obj[key]=val}else if(key)obj[key]=coerce?undefined:""});return obj};jq_deparam[str_querystring]=curry(jq_deparam_sub,0);jq_deparam[str_fragment]=jq_deparam_fragment=curry(jq_deparam_sub,1);$[str_elemUrlAttr]||($[str_elemUrlAttr]=function(obj){return $.extend(elemUrlAttr_cache,obj)})({a:str_href,base:str_href,iframe:str_src,img:str_src,
input:str_src,form:"action",link:str_href,script:str_src});jq_elemUrlAttr=$[str_elemUrlAttr];$.fn[str_querystring]=curry(jq_fn_sub,str_querystring);$.fn[str_fragment]=curry(jq_fn_sub,str_fragment);jq_bbq.pushState=jq_bbq_pushState=function(params,merge_mode){if(is_string(params)&&/^#/.test(params)&&merge_mode===undefined)merge_mode=2;var has_args=params!==undefined;var url=jq_param_fragment(window[str_location][str_href],has_args?params:{},has_args?merge_mode:2);window[str_location][str_href]=url+
(/#/.test(url)?"":"#")};jq_bbq.getState=jq_bbq_getState=function(key,coerce){return key===undefined||typeof key==="boolean"?jq_deparam_fragment(key):jq_deparam_fragment(coerce)[key]};jq_bbq.removeState=function(arr){var state={};if(arr!==undefined){state=jq_bbq_getState();$.each($.isArray(arr)?arr:arguments,function(i,v){delete state[v]})}jq_bbq_pushState(state,2)};jq_event_special[str_hashchange]=$.extend(jq_event_special[str_hashchange],{add:function(handleObj){function new_handler(e){var hash=
e[str_fragment]=jq_param_fragment();e.getState=function(key,coerce){return key===undefined||typeof key==="boolean"?jq_deparam(hash,key):jq_deparam(hash,coerce)[key]};old_handler.apply(this,arguments)}var old_handler;if($.isFunction(handleObj)){old_handler=handleObj;return new_handler}else{old_handler=handleObj.handler;handleObj.handler=new_handler}}})})(jQuery,this);
(function($,window,undefined){function get_fragment(url){url=url||window[str_location][str_href];return url.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var fake_onhashchange;var jq_event_special=$.event.special;var str_location="location";var str_hashchange="hashchange";var str_href="href";var browser=$.browser;var mode=document.documentMode;var is_old_ie=browser&&browser.msie&&(mode===undefined||mode<8);var supports_onhashchange="on"+str_hashchange in window&&!is_old_ie;$[str_hashchange+"Delay"]=100;
jq_event_special[str_hashchange]=$.extend(jq_event_special[str_hashchange],{setup:function(){if(supports_onhashchange)return false;$(fake_onhashchange.start)},teardown:function(){if(supports_onhashchange)return false;$(fake_onhashchange.stop)}});fake_onhashchange=function(){function init(){set_history=get_history=function(val){return val};if(is_old_ie){iframe=$('\x3ciframe src\x3d"javascript:0"/\x3e').hide().insertAfter("body")[0].contentWindow;get_history=function(){return get_fragment(iframe.document[str_location][str_href])};
set_history=function(hash,history_hash){if(hash!==history_hash){var doc=iframe.document;doc.open().close();doc[str_location].hash="#"+hash}};set_history(get_fragment())}}var self={};var timeout_id;var iframe;var set_history;var get_history;self.start=function(){if(timeout_id)return;var last_hash=get_fragment();set_history||init();(function loopy(){var hash=get_fragment();var history_hash=get_history(last_hash);if(hash!==last_hash){set_history(last_hash=hash,history_hash);$(window).trigger(str_hashchange)}else if(history_hash!==
last_hash)window[str_location][str_href]=window[str_location][str_href].replace(/#.*/,"")+"#"+history_hash;timeout_id=setTimeout(loopy,$[str_hashchange+"Delay"])})()};self.stop=function(){if(!iframe){timeout_id&&clearTimeout(timeout_id);timeout_id=0}};return self}()})(jQuery,this);
(function($){"$:nomunge";var re_match=/:(nth)-last-child(?:\((even|odd|[\dn+-]*)\))?/;var jq_expr=$.expr;var jq_expr_filter_CHILD=jq_expr.filter.CHILD;jq_expr[":"]["nth-last-child"]=function(elem,i,match,array){var matches=match[0].match(re_match);var children=$(elem.parentNode).children();var counterpart_elem;matches=jq_expr.preFilter.CHILD(matches);jq_expr_filter_CHILD(elem,matches);counterpart_elem=children.eq(children.length-elem.nodeIndex)[0];return jq_expr_filter_CHILD(counterpart_elem,matches)}})(jQuery);
(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length)settings.single="metadata";var data$$0=$.data(elem,settings.single);if(data$$0)return data$$0;data$$0="{}";var getData=function(data){if(typeof data!="string")return data;if(data.indexOf("{")<0)data=eval("("+data+")")};var getObject=
function(data){if(typeof data!="string")return data;data=eval("("+data+")");return data};if(settings.type=="html5"){var object={};$(elem.attributes).each(function(){var name=this.nodeName;if(name.match(/^data-/))name=name.replace(/^data-/,"");else return true;object[name]=getObject(this.nodeValue)})}else{if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m)data$$0=m[1]}else if(settings.type=="elem"){if(!elem.getElementsByTagName)return;var e=elem.getElementsByTagName(settings.name);
if(e.length)data$$0=$.trim(e[0].innerHTML)}else if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr)data$$0=attr}object=getObject(data$$0.indexOf("{")<0?"{"+data$$0+"}":data$$0)}$.data(elem,settings.single,object);return object}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);
(function($){function both(val){return typeof val=="object"?val:{top:val,left:val}}var $scrollTo=$.scrollTo=function(target,duration,settings){$(window).scrollTo(target,duration,settings)};$scrollTo.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1};$scrollTo.window=function(scope){return $(window)._scrollable()};$.fn._scrollable=function(){return this.map(function(){var elem=this;var isWin=!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;
if(!isWin)return elem;var doc=(elem.contentWindow||elem).document||elem.ownerDocument||elem;return $.browser.safari||doc.compatMode=="BackCompat"?doc.body:doc.documentElement})};$.fn.scrollTo=function(target,duration,settings){if(typeof duration=="object"){settings=duration;duration=0}if(typeof settings=="function")settings={onAfter:settings};if(target=="max")target=9E9;settings=$.extend({},$scrollTo.defaults,settings);duration=duration||settings.speed||settings.duration;settings.queue=settings.queue&&
settings.axis.length>1;if(settings.queue)duration/=2;settings.offset=both(settings.offset);settings.over=both(settings.over);return this._scrollable().each(function(){function animate(callback){$elem.animate(attr,duration,settings.easing,callback&&function(){callback.call(this,target,settings)})}var elem=this;var $elem=$(elem);var targ=target;var toff;var attr={};var win=$elem.is("html,body");switch(typeof targ){case "number":case "string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);
break}targ=$(targ,this);case "object":if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(settings.axis.split(""),function(i,axis){var Pos=axis=="x"?"Left":"Top";var pos=Pos.toLowerCase();var key="scroll"+Pos;var old=elem[key];var max=$scrollTo.max(elem,axis);if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(settings.margin){attr[key]-=parseInt(targ.css("margin"+Pos))||0;attr[key]-=parseInt(targ.css("border"+Pos+"Width"))||0}attr[key]+=settings.offset[pos]||0;if(settings.over[pos])attr[key]+=
targ[axis=="x"?"width":"height"]()*settings.over[pos]}else{var val=targ[pos];attr[key]=val.slice&&val.slice(-1)=="%"?parseFloat(val)/100*max:val}if(/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max);if(!i&&settings.queue){if(old!=attr[key])animate(settings.onAfterFirst);delete attr[key]}});animate(settings.onAfter)}).end()};$scrollTo.max=function(elem,axis){var Dim=axis=="x"?"Width":"Height";var scroll="scroll"+Dim;if(!$(elem).is("html,body"))return elem[scroll]-$(elem)[Dim.toLowerCase()]();
var size="client"+Dim;var html=elem.ownerDocument.documentElement;var body=elem.ownerDocument.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])}})(jQuery);
(function(window){var characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";var fromCharCode=String.fromCharCode;var INVALID_CHARACTER_ERR=function(){try{document.createElement("$")}catch(error){return error}}();window.btoa||(window.btoa=function(string){var a;var b;var b1;var b2;var b3;var b4;var c;var i=0;var len=string.length;var max=Math.max;for(var result="";i<len;){a=string.charCodeAt(i++)||0;b=string.charCodeAt(i++)||0;c=string.charCodeAt(i++)||0;if(max(a,b,c)>255)throw INVALID_CHARACTER_ERR;
b1=a>>2&63;b2=(a&3)<<4|b>>4&15;b3=(b&15)<<2|c>>6&3;b4=c&63;if(!b)b3=b4=64;else if(!c)b4=64;result+=characters.charAt(b1)+characters.charAt(b2)+characters.charAt(b3)+characters.charAt(b4)}return result});window.atob||(window.atob=function(string){string=string.replace(/=+$/,"");var a;var b;var b1;var b2;var b3;var b4;var c;var i=0;var len=string.length;var chars=[];if(len%4===1)throw INVALID_CHARACTER_ERR;for(;i<len;){b1=characters.indexOf(string.charAt(i++));b2=characters.indexOf(string.charAt(i++));
b3=characters.indexOf(string.charAt(i++));b4=characters.indexOf(string.charAt(i++));a=(b1&63)<<2|b2>>4&3;b=(b2&15)<<4|b3>>2&15;c=(b3&3)<<6|b4&63;chars.push(fromCharCode(a));b&&chars.push(fromCharCode(b));c&&chars.push(fromCharCode(c))}return chars.join("")})})(this);
(function(window){var iTim=window.iTim||{};var de=document.documentElement;iTim.debug=!!iTim.debug;iTim.extend=function(obj){var i=1;for(var length=arguments.length;i<length;++i)for(var p in arguments[i])obj[p]=arguments[i][p];return obj};iTim.extend(iTim,{log:function(){if(this.debug&&window.console)if(!console.log.apply){var evilEval=[];var i=0;for(var l=arguments.length;i<l;++i)evilEval.push("arguments["+i+"]");evilEval="console.log("+evilEval.join(",")+")";eval(evilEval)}else console.log.apply(console,
arguments);return arguments[arguments.length-1]},each:function(obj,fn,scope){fn=scope?function(oldFn){return function(){oldFn.apply(scope,arguments)}}(fn):fn;if(obj.length){var i=0;for(var length=obj.length;i<length;++i)if(false===fn.call(obj[i],i,obj[i],obj))return}else for(i in obj)if(obj.hasOwnProperty(i))if(false===fn.call(obj[i],i,obj[i],obj))return},ns:function(ns,root,obj){root=root||window;iTim.each(ns.split("."),function(){root=root[this]=root[this]||{}});if(obj)this.extend(root,obj);return root},
trim:function(s){s=(s||"").replace(/^\s+|\s+$/g,"");s=s.replace(/\s+/g," ");return s},object:function(obj){var F=function(){};F.prototype=obj;var newObj=new F;newObj.__prototype=obj;return newObj},observable:function(obj$$0){obj$$0=obj$$0||{};this.extend(obj$$0,{listeners:null,createEvent:function(eventName){this.listeners=this.listeners||{};if(this.listeners[eventName])throw"event already registered: "+eventName;this.listeners[eventName]=[]},subscribe:function(eventName,fn){this.listeners[eventName].push(fn)},
unsubscribe:function(eventName,fn){iTim.each(this.listeners[eventName],function(index,listener){if(listener===fn){this.listeners[eventName].splice(index,1);return false}},this)},fire:function(eventName,obj,scope){scope=scope||window;iTim.each(this.listeners[eventName],function(){this.call(scope,obj)})}});return obj$$0},memoize:function(fn,memo){memo=memo||{};return function(arg){if(memo[arg])return memo[arg];return memo[arg]=fn.call(this,arg)}},format:function(template){var args=arguments;return template.replace(/(\\?)\{(\d+)\}/g,
function(match,escaped,name){if(escaped)return match;return args[++name]})},bind:function(fn,scope){return function(){return fn.apply(scope,arguments)}},url:function(str){function params(s){var p={};s.replace(/([\w_]+)(?:\[\])?=([^&]+)/g,function(m,n,c){if(p[n]!==undefined){if(typeof p[n]=="string")p[n]=[p[n]];p[n].push(c)}else p[n]=c});return p}var url={href:""+str,resolve:function(u){if(!u.pathname)u=iTim.url(u);if(u.host)return u;var d=[];if(!u.absolute)d.push.apply(d,this.directories);d.push.apply(d,
u.directories);for(var i=0;d[i]!==undefined;)if(d[i]==".")d.splice(i,1);else if(d[i]=="..")if(i>0){d.splice(i-1,2);--i}else d.splice(i,1);else++i;var r=d.join("/")+"/"+u.file+u.search+u.hash;if(this.absolute)r=this.protocol+(this.host&&this.protocol?"//":"")+this.host+(r.charAt(0)!="/"?"/":"")+r;else if(u.absolute)r=(r.charAt(0)!="/"?"/":"")+r;return iTim.url(r)}};str={str:""+str,toString:function(){return this.str},get:function(x,p){var r=x.exec(this.str);this.str=this.str.replace(x,"");return r?
r[+p||0]:""}};url.hash=str.get(/#.*$/);url.search=str.get(/\?.*$/);url.protocol=str.get(/^\w+:/);url.hostname=str.toString().indexOf("//")==0?str.get(/^(\/\/)([\w.\-]+)/,2):"";url.port=str.get(/^:(\d+)/,1);url.host=url.hostname+(url.port?":"+url.port:"");url.pathname=str.toString();url.path=str.get(/^.*\/[.]{0,2}/);url.absolute=url.path.charAt(0)=="/"||!!url.host;url.local=!url.host||url.host==location.host;url.extension=str.get(/\.\w+$/);url.filename=str.toString();url.file=url.filename+url.extension;
url.directories=[];url.path.replace(/([^\/]+|\/\/)/g,function(m,c){if(c=="//")url.directories.push("");else url.directories.push(c)});url.searchParams=params(url.search);url.hashParams=params(url.hash);url.params=this.extend({},url.searchParams,url.hashParams);return url},resize:function(opt){with(opt){var fitTo=fitTo||"inside";var width=+width||1;var height=+height||1;var toWidth=+toWidth||0;var toHeight=+toHeight||0;var fromWidth=width;var fromHeight=height;var toRatio=toWidth&&toHeight?toWidth/
toHeight:null;if(!toRatio)if(fitTo=="scale")if(!toHeight)toHeight=toWidth;else toWidth=toHeight;else if(!toWidth)fitTo="height";else if(!toHeight)fitTo="width";else fitTo="none";var ratio=width/height;switch(fitTo){case "inside":if(ratio>toRatio){if(width>toWidth){height=toWidth/width*height;width=toWidth}}else if(height>toHeight){width=toHeight/height*width;height=toHeight}break;case "outside":if(ratio>toRatio){width=toHeight/height*width;height=toHeight}else{height=toWidth/width*height;width=toWidth}break;
case "scale":width*=toWidth;height*=toHeight;break;case "stretch":width=toWidth;height=toHeight;break;case "width":if(width>toWidth){height=toWidth/width*height;width=toWidth}break;case "height":if(height>toHeight){width=toHeight/height*width;height=toHeight}break}var changed=fromWidth!=width||fromHeight!=height;var format=ratio>1?"landscape":ratio<1?"portrait":"square";var result={fitTo:fitTo,width:width,height:height,toHeight:toHeight,toWidth:toWidth,changed:changed,fromRatio:ratio,toRatio:toRatio,
ratio:width/height,format:format,left:(toWidth-width)/2,top:(toHeight-height)/2};return result}},ccase:function(s){return(""+s).replace(/[-_]([a-z])/g,function(m,l){return l.toUpperCase()})},escapeRegex:function(str){return(str||"").replace(/[.\\(){}\[\]*+^$\-?]/g,function(m){return"\\"+m})},id:function(){var nextId=1;return function(el){var id="itim_"+nextId++;if(el)if(el.id)id=el.id;else el.id=id;return id}}(),waitFor:function(symbol,fn){return function(){if(window[symbol])return fn.apply(this,
arguments);var tries=0;var args=arguments;var that=this;var interval=setInterval(function(){if(window[symbol]||tries++>150)clearInterval(interval);if(window[symbol])fn.apply(that,args)},70)}},Tracking:{},Page:{},translations:{},translate:function(key,defaultLabel){return this.translations[key]||defaultLabel||key},init:function(){var de=document.documentElement;var isIframe=false;try{isIframe=window.frameElement||window.parent!=self}catch(ex){isIframe=true}this.currentLang=this.currentLang||de.getAttribute("xml:lang")||
de.getAttribute("lang");if(!this.currentLang){var meta=document.getElementsByTagName("meta");var i=0;for(var length=meta.length;i<length;++i){var tag=meta[i];if((tag.getAttribute("http-equiv")||tag.getAttribute("name")||"").match(/^(?:content-language|lang)$/i))this.currentLang=tag.getAttribute("content")}}this.currentLang=this.currentLang||(navigator.browserLanguage||navigator.language).substring(0,2);de.className+=" js "+this.currentLang+(isIframe?" iframe ":"")}});window.iTim=iTim})(window);
if(!this.JSON)this.JSON={};
(function(){function f(n){return n<10?"0"+n:n}function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i;var k;var v;var length;var mind=gap;var partial;var value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function")value=value.toJSON(key);if(typeof rep==="function")value=
rep.call(holder,key,value);switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value)return"null";gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1)partial[i]=str(i,value)||"null";v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&
typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}}}else for(k in value)if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v)partial.push(quote(k)+(gap?": ":":")+v)}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?
this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
var gap;var indent;var meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var rep;if(typeof JSON.stringify!=="function")JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number")for(i=0;i<space;i+=1)indent+=" ";else if(typeof space==="string")indent=space;rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number"))throw new Error("JSON.stringify");return str("",{"":value})};
if(typeof JSON.parse!=="function")JSON.parse=function(text,reviver){function walk(holder,key){var k;var v;var value=holder[key];if(value&&typeof value==="object")for(k in value)if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined)value[k]=v;else delete value[k]}return reviver.call(holder,key,value)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text))text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse");}})();
(function(iTim){var regexSubDomains=/^[^.]+(?:\.[^.]+)*(\.[^.]+\.[^.]+)$/;var defaultOptions={name:"iTimCookieJar",path:"/",domain:regexSubDomains.test(location.hostname)&&!/^(\d+\.)+\d+$/.test(location.hostname)?regexSubDomains.exec(location.hostname)[1]:null,expires:null,maxCookieLength:3E3};var cookieJar={opt:null,cookies:null,get:function(){return JSON.stringify(this.cookies)},write:function(){var expires=this.opt.expires?"; Expires\x3d"+this.opt.expires:"";var domain=this.opt.domain?"; Domain\x3d"+
this.opt.domain:"";var path=this.opt.path?"; Path\x3d"+this.opt.path:"";s=iTim.format("{0}\x3d{1}{2}{3}{4}",this.opt.name,this.escape(this.get()),expires,domain,path);if(s.length>this.opt.maxCookieLength)throw iTim.format("maximum cookie length of {0} exceeded for cookie jar {1}.",this.opt.maxCookieLength,this.opt.name);document.cookie=s},erase:function(){var domain=this.opt.domain?"; Domain\x3d"+this.opt.domain:"";var path=this.opt.path?"; Path\x3d"+this.opt.path:"";document.cookie=iTim.format("{0}\x3d; Expires\x3dThu Jan 01 1970 00:00:00 GMT{1}{2}",
this.opt.name,domain,path);this.cookies={}},size:function(){return this.escape(this.get()).length},unescape:function(s){return decodeURIComponent(s)},escape:function(s){return encodeURIComponent(s)},load:function(){var s=(new RegExp(this.opt.name+"\x3d(.*?)(?:;|$)")).exec(document.cookie);s=s&&s[1]||"{}";this.cookies=JSON.parse(this.unescape(s));return this},init:function(opt){this.opt=opt;this.load();return this}};iTim.CookieJar={options:defaultOptions,jars:{},get:function(opt){if(typeof opt=="string")opt=
{name:opt};opt=iTim.extend({},defaultOptions,opt||{});if(this.jars[opt.name])return this.jars[opt.name];var jar=iTim.object(cookieJar).init(opt);this.jars[opt.name]=jar;return jar},write:function(){iTim.each(this.jars,function(){this.write()})}}})(iTim);
(function(iTim){iTim.StoredOptions={items:{},keyInherits:"inherits",get:function(opt){if(!opt)return{};if(this.items[opt])return this.items[opt];if(opt[this.keyInherits]){var parent=this.get(opt[this.keyInherits]);parent=this.get(parent);opt=jQuery.extend(true,{},parent,opt);delete opt[this.keyInherits];return opt}return opt},set:function(name,opt){if(opt[this.keyInherits])opt=this.get(opt);return this.items[name]=opt}}})(iTim);
(function($){var options={};var AccordionElementClass=function(el,opt$$0){this.options={};this.accordion=el;this.debug=false;this.accordionItems={};this.accordionItemsContent=[];this.init=function(object,opt){var defaults={"api":true,"multi":false,"initOpen":false,"slideSpeed":"slow","debug":false,"levelClasses":true,"moreText":{"use":false,"openText":"mehr (Default Text)","closeText":"weniger (Default Text)"},"selectors":{"activeClass":"open","item":".accordionItem","content":".accordionContent",
"eventContainer":".accordionLink","moreTextTarget":".accordionLinkTarget","itemLevel":"accordionItemLevel"},"autoScroll":{"use":true,"scrollToPlugin":{"use":true,"speed":400,"offset":20}},"callbacks":{"init":this.callbackInit,"clicked":this.callbackClicked}};this.options=jQuery.extend(true,defaults,opt);if(this.options.debug)console.log("Current options:",this.options);this.accordion.addClass("jQueryPluginAccordionProceed");this.initAccordion();this.initOpenElements()};this.initOpenElements=function(){var opt=
this.options;if(typeof this.options.initOpen=="number"||jQuery.isArray(this.options.initOpen)){var elements=$(this.options.selectors.eventContainer,this.accordion);if(typeof this.options.initOpen=="number")this.options.initOpen=[this.options.initOpen];for(var i=0;i<this.options.initOpen.length;i++){$(elements[this.options.initOpen[i]]).trigger("click");if(!this.options.multi)break}}if(location.hash&&location.hash!="#")if($("body").find(location.hash).length>0){if(this.options.debug)console.log("Has tag was found:",
location.hash);var link=$(location.hash+" "+opt.selectors.eventContainer,this.accordion);if(this.options.debug)console.log("Has tag-element was found:",link);if(link.length)link.click()}},this.callbackClicked=function(element){},this.callbackInit=function(element){},this.scrollToElement=function(link){var opt=this.options;if(!opt.autoScroll.use)return;jumpTarget=link.closest(opt.selectors.item);if(!jumpTarget.length)return;if(opt.autoScroll.scrollToPlugin.use&&$.fn.scrollTo)$.scrollTo(jumpTarget,
opt.autoScroll.scrollToPlugin.speed,{axis:"y",offset:-opt.autoScroll.scrollToPlugin.offset});else $(document.documentElement).scrollTop(jumpTarget.offset().top-opt.autoScroll.scrollToPlugin.offset)},this.hideContent=function(element,all){all=all||false;var obj=this;var opt=this.options;if(opt.multi)return;this.accordionItems.removeClass(opt.selectors.activeClass).find(opt.selectors.content).hide()},this.proceedAccordion=function(link){var opt=this.options;var accordion=this.accordion;var obj=this;
link=$(link);var item=link.closest(opt.selectors.item);var content=$(item.find(opt.selectors.content).get(0));if(!content.length&&opt.debug)console.log("FAILED: no content found: "+content.length);if(!opt.multi&&!item.hasClass(opt.selectors.activeClass))obj.hideContent(item);item.toggleClass(opt.selectors.activeClass);content.slideToggle(opt.slideSpeed,function(){obj.scrollToElement(link);obj.handleMoreText(item,link)})},this.handleMoreText=function(item,link){var opt=this.options;if(!opt.moreText.use)return;
var openText=opt.moreText.openText;var closeText=opt.moreText.closeText;if(link.data("opentext"))openText=link.data("opentext");if(link.data("closetext"))closeText=link.data("closetext");if(!openText||!closeText)return;if(opt.debug)console.log("Proceed: handleMoreText",openText,closeText);var textTarget=link;if(opt.selectors.moreTextTarget&&item.find(opt.selectors.moreTextTarget).length)textTarget=item.find(opt.selectors.moreTextTarget);if(link.data("texttarget")&&item.find(link.data("texttarget")).length)textTarget=
item.find(link.data("texttarget"));if(item.hasClass(opt.selectors.activeClass))textTarget.html(closeText);else textTarget.html(openText)},this.initAccordion=function(){var opt=this.options;var accordion=this.accordion;var obj=this;this.accordion.find(opt.selectors.content).hide();this.accordionItems=this.accordion.find(this.options.selectors.item);if(opt.callbacks.init)this.callbackInit=opt.callbacks.init;if(opt.callbacks.clicked)this.callbackClicked=opt.callbacks.clicked;$(this.options.selectors.eventContainer,
this.accordion).on("click",function(event){obj.proceedAccordion($(this));obj.callbackClicked();return false});if(this.options.levelClasses){$(opt.selectors.item+" \x3e "+opt.selectors.content+" \x3e "+opt.selectors.item+" \x3e "+opt.selectors.content+" \x3e "+opt.selectors.item+" \x3e "+opt.selectors.content+" \x3e "+opt.selectors.item+"",this.accordion).addClass(opt.selectors.itemLevel+"4");$(opt.selectors.item+" \x3e "+opt.selectors.content+" \x3e "+opt.selectors.item+" \x3e "+opt.selectors.content+
" \x3e "+opt.selectors.item,this.accordion).not("."+opt.selectors.itemLevel+"4").addClass(opt.selectors.itemLevel+"3");$(opt.selectors.item+" \x3e "+opt.selectors.content+" \x3e "+opt.selectors.item,this.accordion).not("."+opt.selectors.itemLevel+"3,"+"."+opt.selectors.itemLevel+"4").addClass(opt.selectors.itemLevel+"2");$(opt.selectors.item,this.accordion).not("."+opt.selectors.itemLevel+"4, "+"."+opt.selectors.itemLevel+"3, "+"."+opt.selectors.itemLevel+"2").addClass(opt.selectors.itemLevel+"1")}this.callbackInit()};
this.init(el,opt$$0)};$.extend($.fn,{AccordionPlugin:function(inOpt){inOpt=inOpt||{};var instance=null;this.each(function(i){var obj=$(this).data("AccordionPlugin");var opt=$.extend(true,{},options,inOpt);if(!obj){obj=new AccordionElementClass($(this),opt);$(this).data("AccordionPlugin",obj)}if(i==0&&opt.api)instance=obj});return instance?instance:this}})})(jQuery);
var fdLocale={fullMonths:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthAbbrs:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],fullDays:["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],dayAbbrs:["Mo","Di","Mi","Do","Fr","Sa","So"],titles:["vorheriger Monat","nächster Monat","vorheriges Jahr","nächstes Jahr","Heute","Kalender anzeigen","KW","Woche [[%0%]] von [[%1%]]","Woche","Wählen Sie ein Datum",
"Klicken \x26 Ziehen zum Verschieben","Zeige [[%0%]] zuerst","Zu Heute wechseln","Datum deaktivieren"]};try{datePickerController.loadLanguage()}catch(err){}
var datePickerController=function datePickerController(){function parseUILanguage(){var languageTag=document.getElementsByTagName("html")[0].getAttribute("lang")||document.getElementsByTagName("html")[0].getAttribute("xml:lang");if(!languageTag)languageTag="en";else languageTag=languageTag.toLowerCase();return languageTag.search(/^([a-z]{2,3})-([a-z]{2})$/)!=-1?[languageTag.match(/^([a-z]{2,3})-([a-z]{2})$/)[1],languageTag]:[languageTag]}function affectJSON(json){if(typeof json!=="object")return;
for(key in json){value=json[key];switch(key.toLowerCase()){case "lang":if(value.search(/^[a-z]{2,3}(-([a-z]{2}))?$/i)!=-1){languageInfo=[value.toLowerCase()];returnLocaleDate=true}break;case "nodrag":nodrag=!!value;break;case "buttontabindex":buttonTabIndex=!!value;break;case "mousewheel":mouseWheel=!!value;break;case "cellformat":if(typeof value=="string"&&value.match(validFmtRegExp))parseCellFormat(value);break;case "titleformat":if(typeof value=="string"&&value.match(validFmtRegExp))titleFormat=
value;break;case "describedby":if(typeof value=="string")describedBy=value;break;case "finalopacity":if(typeof value=="number"&&(+value>20&&+value<=100))finalOpacity=parseInt(value,10);break;case "bespoketitles":bespokeTitles={};for(var dt in value)bespokeTitles[dt]=value[dt]}}}function parseCellFormat(value){if(isOpera){formatParts=["placeholder"];cellFormat="j-sp-F-sp-Y";return}var parts=value.split("-");var fullParts=[];var tmpParts=[];var part;for(var pt=0;pt<parts.length;pt++){part=parts[pt];
if(part=="j"||part=="d"){if(tmpParts.length){fullParts.push(tmpParts.join("-"));tmpParts=[]}fullParts.push("placeholder")}else tmpParts.push(part)}if(tmpParts.length)fullParts.push(tmpParts.join("-"));if(!fullParts.length||fullParts.length>3){formatParts=["placeholder","sp-F-sp-Y"];cellFormat="j-sp-F-sp-Y";return}formatParts=fullParts;cellFormat=value}function pad(value,length){length=length||2;return"0000".substr(0,length-Math.min(String(value).length,length))+value}function addEvent(obj,type,fn){try{if(obj.attachEvent){obj["e"+
type+fn]=fn;obj[type+fn]=function(){obj["e"+type+fn](window.event)};obj.attachEvent("on"+type,obj[type+fn])}else obj.addEventListener(type,fn,true)}catch(err){}}function removeEvent(obj,type,fn){try{if(obj.detachEvent){obj.detachEvent("on"+type,obj[type+fn]);obj[type+fn]=null}else obj.removeEventListener(type,fn,true)}catch(err){}}function stopEvent(e){e=e||document.parentWindow.event;if(e.stopPropagation){e.stopPropagation();e.preventDefault()}return false}function parseJSON(str){if(typeof str!==
"string"||str=="")return{};try{if(typeof JSON==="object"&&JSON.parse)return window.JSON.parse(str);else if(/lang|buttontabindex|mousewheel|cellformat|titleformat|nodrag|describedby/.test(str.toLowerCase())){var f=Function(["var document,top,self,window,parent,Number,Date,Object,Function,","Array,String,Math,RegExp,Image,ActiveXObject;","return (",str.replace(/<\!--.+--\x3e/gim,"").replace(/\bfunction\b/g,"function­"),");"].join(""));return f()}}catch(e){}if(debug)throw"Could not parse the JSON object";
return{"err":"Could not parse the JSON object"}}function setARIARole(element,role){if(element&&element.tagName)element.setAttribute("role",role)}function setARIAProperty(element,property,value){if(element&&element.tagName)element.setAttribute("aria-"+property,value)}function datePicker(options){this.dateSet=null;this.timerSet=false;this.visible=false;this.fadeTimer=null;this.timer=null;this.yearInc=0;this.monthInc=0;this.dayInc=0;this.mx=0;this.my=0;this.x=0;this.y=0;this.created=false;this.disabled=
false;this.opacity=0;this.opacityTo=99;this.inUpdate=false;this.kbEventsAdded=false;this.fullCreate=false;this.selectedTD=null;this.cursorTD=null;this.cursorDate=options.cursorDate?options.cursorDate:"",this.date=options.cursorDate?new Date(+options.cursorDate.substr(0,4),+options.cursorDate.substr(4,2)-1,+options.cursorDate.substr(6,2)):new Date;this.defaults={};this.dynDisabledDates={};this.firstDayOfWeek=localeImport.firstDayOfWeek;this.interval=new Date;this.clickActivated=false;this.noFocus=
true;this.kbEvent=false;this.disabledDates=false;this.enabledDates=false;this.delayedUpdate=false;this.bespokeTitles={};for(var thing in options){if(thing.search(/callbacks|formElements|formatMasks/)!=-1)continue;this[thing]=options[thing]}var i$$0=0;for(var prop;prop=["callbacks","formElements","formatMasks"][i$$0];i$$0++){this[prop]={};for(thing in options[prop])this[prop][thing]=options[prop][thing]}this.date.setHours(5);this.changeHandler=function(){o.setDateFromInput();o.callback("dateset",o.createCbArgObj())};
this.createCbArgObj=function(){return this.dateSet?{"id":this.id,"date":this.dateSet,"dd":pad(this.date.getDate()),"mm":pad(this.date.getMonth()+1),"yyyy":this.date.getFullYear()}:{"id":this.id,"date":null,"dd":null,"mm":null,"yyyy":null}};this.getScrollOffsets=function(){if(typeof window.pageYOffset=="number")return[window.pageXOffset,window.pageYOffset];else if(document.body&&(document.body.scrollLeft||document.body.scrollTop))return[document.body.scrollLeft,document.body.scrollTop];else if(document.documentElement&&
(document.documentElement.scrollLeft||document.documentElement.scrollTop))return[document.documentElement.scrollLeft,document.documentElement.scrollTop];return[0,0]};this.reposition=function(){if(!o.created||o.staticPos)return;o.div.style.visibility="hidden";o.div.style.left=o.div.style.top="0px";o.div.style.display="block";var osh=o.div.offsetHeight;var osw=o.div.offsetWidth;var elem=document.getElementById("fd-but-"+o.id);var pos=o.truePosition(elem);var trueBody=document.compatMode&&document.compatMode!=
"BackCompat"?document.documentElement:document.body;var sOffsets=o.getScrollOffsets();var scrollTop=sOffsets[1];var scrollLeft=sOffsets[0];var fitsBottom=parseInt(trueBody.clientHeight+scrollTop)>parseInt(osh+pos[1]+elem.offsetHeight+2);var fitsTop=parseInt(pos[1]-(osh+elem.offsetHeight+2))>parseInt(scrollTop);o.div.style.visibility="visible";o.div.style.left=Number(parseInt(trueBody.clientWidth+scrollLeft)<parseInt(osw+pos[0])?Math.abs(parseInt(trueBody.clientWidth+scrollLeft-osw)):pos[0])+"px";
o.div.style.top=fitsBottom||!fitsTop?Math.abs(parseInt(pos[1]+elem.offsetHeight+2))+"px":Math.abs(parseInt(pos[1]-(osh+2)))+"px"};this.removeOldFocus=function(){var td=document.getElementById(o.id+"-date-picker-hover");if(td)try{td.setAttribute(!false?"tabIndex":"tabindex","-1");td.tabIndex=-1;td.className=td.className.replace(/date-picker-hover/,"");td.id="";td.onblur=null;td.onfocus=null}catch(err){}};this.addAccessibleDate=function(){var td=document.getElementById(o.id+"-date-picker-hover");if(td&&
!td.getElementsByTagName("span").length){var ymd=td.className.match(/cd-([\d]{4})([\d]{2})([\d]{2})/);var noS=td.className.search(/date-picker-unused|out-of-range|day-disabled|no-selection|not-selectable/)!=-1;var spn=document.createElement("span");var spnC;spn.className="fd-screen-reader";for(;td.firstChild;)td.removeChild(td.firstChild);if(noS){spnC=spn.cloneNode(false);spnC.appendChild(document.createTextNode(getTitleTranslation(13)));td.appendChild(spnC)}var pt=0;for(var part;part=formatParts[pt];pt++)if(part==
"placeholder")td.appendChild(document.createTextNode(+ymd[3]));else{spnC=spn.cloneNode(false);spnC.appendChild(document.createTextNode(printFormattedDate(new Date(ymd[1],+ymd[2]-1,ymd[3]),part,true)));td.appendChild(spnC)}}};this.setNewFocus=function(){var td=document.getElementById(o.id+"-date-picker-hover");if(td)try{td.setAttribute(!false?"tabIndex":"tabindex","0");td.tabIndex=0;td.className=td.className.replace(/date-picker-hover/,"")+" date-picker-hover";if(!this.clickActivated){td.onblur=o.onblur;
td.onfocus=o.onfocus}if(!isOpera&&!this.clickActivated)o.addAccessibleDate();if(!this.noFocus&&!this.clickActivated)setTimeout(function(){try{td.focus()}catch(err){}},0)}catch(err$$0){}};this.setCursorDate=function(yyyymmdd){if(String(yyyymmdd).search(/^([0-9]{8})$/)!=-1){this.date=new Date(+yyyymmdd.substr(0,4),+yyyymmdd.substr(4,2)-1,+yyyymmdd.substr(6,2));this.cursorDate=yyyymmdd;if(this.staticPos)this.updateTable()}};this.updateTable=function(noCallback){if(!o||o.inUpdate||!o.created)return;o.inUpdate=
true;o.removeOldFocus();if(o.timerSet&&!o.delayedUpdate)if(o.monthInc){var n=o.date.getDate();var d=new Date(o.date);d.setDate(2);d.setMonth(d.getMonth()+o.monthInc*1);d.setDate(Math.min(n,daysInMonth(d.getMonth(),d.getFullYear())));o.date=new Date(d)}else{o.date.setDate(Math.min(o.date.getDate()+o.dayInc,daysInMonth(o.date.getMonth()+o.monthInc,o.date.getFullYear()+o.yearInc)));o.date.setMonth(o.date.getMonth()+o.monthInc);o.date.setFullYear(o.date.getFullYear()+o.yearInc)}o.outOfRange();if(!o.noToday)o.disableTodayButton();
o.showHideButtons(o.date);var cd=o.date.getDate();var cm=o.date.getMonth();var cy=o.date.getFullYear();var cursorDate=String(cy)+pad(cm+1)+pad(cd);var tmpDate=new Date(cy,cm,1);tmpDate.setHours(5);var dt;var cName;var td;var i;var currentDate;var cellAdded;var col;var currentStub;var abbr;var bespokeRenderClass;var spnC;var dateSetD;var weekDayC=(tmpDate.getDay()+6)%7;var firstColIndex=(weekDayC-o.firstDayOfWeek+7)%7-1;var dpm=daysInMonth(cm,cy);var today=new Date;var stub=String(tmpDate.getFullYear())+
pad(tmpDate.getMonth()+1);cellAdded=[4,4,4,4,4,4];var lm=new Date(cy,cm-1,1);var nm=new Date(cy,cm+1,1);var daySub=daysInMonth(lm.getMonth(),lm.getFullYear());var stubN=String(nm.getFullYear())+pad(nm.getMonth()+1);var stubP=String(lm.getFullYear())+pad(lm.getMonth()+1);var weekDayN=(nm.getDay()+6)%7;var weekDayP=(lm.getDay()+6)%7;today=today.getFullYear()+pad(today.getMonth()+1)+pad(today.getDate());var spn=document.createElement("span");o.firstDateShown=!o.constrainSelection&&o.fillGrid&&0-firstColIndex<
1?String(stubP)+(daySub+(0-firstColIndex)):stub+"01";o.lastDateShown=!o.constrainSelection&&o.fillGrid?stubN+pad(41-firstColIndex-dpm):stub+String(dpm);o.currentYYYYMM=stub;bespokeRenderClass=o.callback("redraw",{id:o.id,dd:pad(cd),mm:pad(cm+1),yyyy:cy,firstDateDisplayed:o.firstDateShown,lastDateDisplayed:o.lastDateShown})||{};dts=o.getDates(cy,cm+1);o.checkSelectedDate();dateSetD=o.dateSet!=null?o.dateSet.getFullYear()+pad(o.dateSet.getMonth()+1)+pad(o.dateSet.getDate()):false;spn.className="fd-screen-reader";
if(this.selectedTD!=null){setARIAProperty(this.selectedTD,"selected",false);this.selectedTD=null}for(var curr=0;curr<42;curr++){row=Math.floor(curr/7);td=o.tds[curr];for(spnC=spn.cloneNode(false);td.firstChild;)td.removeChild(td.firstChild);if(curr>firstColIndex&&curr<=firstColIndex+dpm||o.fillGrid){currentStub=stub;weekDay=weekDayC;dt=curr-firstColIndex;cName=[];selectable=true;if(dt<1){dt=daySub+dt;currentStub=stubP;weekDay=weekDayP;selectable=!o.constrainSelection;cName.push("month-out")}else if(dt>
dpm){dt-=dpm;currentStub=stubN;weekDay=weekDayN;selectable=!o.constrainSelection;cName.push("month-out")}weekDay=(weekDay+dt+6)%7;cName.push("day-"+localeDefaults.dayAbbrs[weekDay].toLowerCase());currentDate=currentStub+String(dt<10?"0":"")+dt;if(o.rangeLow&&+currentDate<+o.rangeLow||o.rangeHigh&&+currentDate>+o.rangeHigh){td.className="out-of-range";td.title="";td.appendChild(document.createTextNode(dt));if(o.showWeeks)cellAdded[row]=Math.min(cellAdded[row],2)}else{if(selectable){td.title=titleFormat?
printFormattedDate(new Date(+String(currentStub).substr(0,4),+String(currentStub).substr(4,2)-1,+dt),titleFormat,true):"";cName.push("cd-"+currentDate+" yyyymm-"+currentStub+" mmdd-"+currentStub.substr(4,2)+pad(dt))}else{td.title=titleFormat?getTitleTranslation(13)+" "+printFormattedDate(new Date(+String(currentStub).substr(0,4),+String(currentStub).substr(4,2)-1,+dt),titleFormat,true):"";cName.push("yyyymm-"+currentStub+" mmdd-"+currentStub.substr(4,2)+pad(dt)+" not-selectable")}if(currentDate==
today)cName.push("date-picker-today");if(dateSetD==currentDate){cName.push("date-picker-selected-date");setARIAProperty(td,"selected","true");this.selectedTD=td}if(o.disabledDays[weekDay]||dts[currentDate]==0){cName.push("day-disabled");if(titleFormat&&selectable)td.title=getTitleTranslation(13)+" "+td.title}if(currentDate in bespokeRenderClass)cName.push(bespokeRenderClass[currentDate]);if(o.highlightDays[weekDay])cName.push("date-picker-highlight");if(cursorDate==currentDate)td.id=o.id+"-date-picker-hover";
td.appendChild(document.createTextNode(dt));td.className=cName.join(" ");if(o.showWeeks)cellAdded[row]=Math.min(cName[0]=="month-out"?3:1,cellAdded[row])}}else{td.className="date-picker-unused";td.appendChild(document.createTextNode(nbsp));td.title=""}if(o.showWeeks&&curr-row*7==6){for(;o.wkThs[row].firstChild;)o.wkThs[row].removeChild(o.wkThs[row].firstChild);o.wkThs[row].appendChild(document.createTextNode(cellAdded[row]==4&&!o.fillGrid?nbsp:getWeekNumber(cy,cm,curr-firstColIndex-6)));o.wkThs[row].className=
"date-picker-week-header"+["",""," out-of-range"," month-out",""][cellAdded[row]]}}for(var span=o.titleBar.getElementsByTagName("span");span[0].firstChild;)span[0].removeChild(span[0].firstChild);for(;span[1].firstChild;)span[1].removeChild(span[1].firstChild);span[0].appendChild(document.createTextNode(getMonthTranslation(cm,false)+nbsp));span[1].appendChild(document.createTextNode(cy));if(o.timerSet){o.timerInc=50+Math.round((o.timerInc-50)/1.8);o.timer=window.setTimeout(o.updateTable,o.timerInc)}o.inUpdate=
o.delayedUpdate=false;o.setNewFocus()};this.destroy=function(){if(document.getElementById("fd-but-"+this.id))document.getElementById("fd-but-"+this.id).parentNode.removeChild(document.getElementById("fd-but-"+this.id));if(!this.created)return;removeEvent(this.table,"mousedown",o.onmousedown);removeEvent(this.table,"mouseover",o.onmouseover);removeEvent(this.table,"mouseout",o.onmouseout);removeEvent(document,"mousedown",o.onmousedown);removeEvent(document,"mouseup",o.clearTimer);if(window.addEventListener&&
!window.devicePixelRatio)try{window.removeEventListener("DOMMouseScroll",this.onmousewheel,false)}catch(err){}else{removeEvent(document,"mousewheel",this.onmousewheel);removeEvent(window,"mousewheel",this.onmousewheel)}o.removeOnFocusEvents();clearTimeout(o.fadeTimer);clearTimeout(o.timer);if(this.div&&this.div.parentNode)this.div.parentNode.removeChild(this.div);o=null};this.resizeInlineDiv=function(){o.div.style.width=o.table.offsetWidth+"px";o.div.style.height=o.table.offsetHeight+"px"};this.create=
function(){function createTH(details){var th=document.createElement("th");if(details.thClassName)th.className=details.thClassName;if(details.colspan)th.setAttribute("colspan",details.colspan);return th}function createThAndButton(tr,obj){var i=0;for(var details;details=obj[i];i++){var th=createTH(details);tr.appendChild(th);var but=document.createElement("span");but.className=details.className;but.id=o.id+details.id;but.appendChild(document.createTextNode(details.text||o.nbsp));but.title=details.title||
"";th.appendChild(but)}}if(document.getElementById("fd-"+this.id))return;this.noFocus=true;this.div=document.createElement("div");this.div.id="fd-"+this.id;this.div.className="datePicker";this.div.style.visibility="hidden";this.div.style.display="none";if(this.describedBy&&document.getElementById(this.describedBy))setARIAProperty(this.div,"describedby",this.describedBy);if(this.labelledBy)setARIAProperty(this.div,"labelledby",this.labelledBy.id);var tr;var row;var col;var tableHead;var tableBody;
var tableFoot;this.table=document.createElement("table");this.table.className="datePickerTable";this.table.onmouseover=this.onmouseover;this.table.onmouseout=this.onmouseout;this.table.onclick=this.onclick;if(this.staticPos)this.table.onmousedown=this.onmousedown;this.div.appendChild(this.table);var dragEnabledCN=!this.dragDisabled?" drag-enabled":"";if(!this.staticPos){this.div.style.visibility="hidden";this.div.className+=dragEnabledCN;document.getElementsByTagName("body")[0].appendChild(this.div);
setARIAProperty(this.div,"hidden","true")}else{elem=document.getElementById(this.positioned?this.positioned:this.id);if(!elem){this.div=null;if(debug)throw this.positioned?"Could not locate a datePickers associated parent element with an id:"+this.positioned:"Could not locate a datePickers associated input with an id:"+this.id;return}this.div.className+=" static-datepicker";if(this.positioned)elem.appendChild(this.div);else elem.parentNode.insertBefore(this.div,elem.nextSibling);if(this.hideInput)for(var elemID in this.formElements){elem=
document.getElementById(elemID);if(elem)elem.className+=" fd-hidden-input"}setTimeout(this.resizeInlineDiv,300)}setARIARole(this.div,"grid");if(this.statusFormat){tableFoot=document.createElement("tfoot");this.table.appendChild(tableFoot);tr=document.createElement("tr");tr.className="date-picker-tfoot";tableFoot.appendChild(tr);this.statusBar=createTH({thClassName:"date-picker-statusbar"+dragEnabledCN,colspan:this.showWeeks?8:7});tr.appendChild(this.statusBar);this.updateStatus()}tableHead=document.createElement("thead");
this.table.appendChild(tableHead);tr=document.createElement("tr");setARIARole(tr,"presentation");tableHead.appendChild(tr);this.titleBar=createTH({thClassName:"date-picker-title"+dragEnabledCN,colspan:this.showWeeks?8:7});tr.appendChild(this.titleBar);tr=null;var span=document.createElement("span");span.appendChild(document.createTextNode(nbsp));span.className="month-display"+dragEnabledCN;this.titleBar.appendChild(span);span=document.createElement("span");span.appendChild(document.createTextNode(nbsp));
span.className="year-display"+dragEnabledCN;this.titleBar.appendChild(span);span=null;tr=document.createElement("tr");setARIARole(tr,"presentation");tableHead.appendChild(tr);createThAndButton(tr,[{className:"prev-but prev-year",id:"-prev-year-but",text:"«",title:getTitleTranslation(2)},{className:"prev-but prev-month",id:"-prev-month-but",text:"‹",title:getTitleTranslation(0)},{colspan:this.showWeeks?4:3,className:"today-but",id:"-today-but",text:getTitleTranslation(4)},{className:"next-but next-month",
id:"-next-month-but",text:"›",title:getTitleTranslation(1)},{className:"next-but next-year",id:"-next-year-but",text:"»",title:getTitleTranslation(3)}]);tableBody=document.createElement("tbody");this.table.appendChild(tableBody);var colspanTotal=this.showWeeks?8:7;var colOffset=this.showWeeks?0:-1;var but;var abbr;for(var rows=0;rows<7;rows++){row=document.createElement("tr");if(rows!=0){setARIARole(row,"row");tableBody.appendChild(row)}else tableHead.appendChild(row);for(var cols=0;cols<colspanTotal;cols++){if(rows===
0||this.showWeeks&&cols===0)col=document.createElement("th");else{col=document.createElement("td");setARIAProperty(col,"describedby",this.id+"-col-"+cols+(this.showWeeks?" "+this.id+"-row-"+rows:""));setARIAProperty(col,"selected","false")}row.appendChild(col);if(this.showWeeks&&cols>0&&rows>0||!this.showWeeks&&rows>0)setARIARole(col,"gridcell");else if(rows===0&&cols>colOffset){col.className="date-picker-day-header";col.scope="col";setARIARole(col,"columnheader");col.id=this.id+"-col-"+cols}else{col.className=
"date-picker-week-header";col.scope="row";setARIARole(col,"rowheader");col.id=this.id+"-row-"+rows}}}col=row=null;this.ths=this.table.getElementsByTagName("thead")[0].getElementsByTagName("tr")[2].getElementsByTagName("th");for(var y=0;y<colspanTotal;y++){if(y==0&&this.showWeeks){this.ths[y].appendChild(document.createTextNode(getTitleTranslation(6)));this.ths[y].title=getTitleTranslation(8);continue}if(y>(this.showWeeks?0:-1)){but=document.createElement("span");but.className="fd-day-header";this.ths[y].appendChild(but)}}but=
null;this.trs=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("tr");this.tds=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("td");this.butPrevYear=document.getElementById(this.id+"-prev-year-but");this.butPrevMonth=document.getElementById(this.id+"-prev-month-but");this.butToday=document.getElementById(this.id+"-today-but");this.butNextYear=document.getElementById(this.id+"-next-year-but");this.butNextMonth=document.getElementById(this.id+"-next-month-but");if(this.noToday)this.butToday.style.display=
"none";if(this.showWeeks){this.wkThs=this.table.getElementsByTagName("tbody")[0].getElementsByTagName("th");this.div.className+=" weeks-displayed"}tableBody=tableHead=tr=createThAndButton=createTH=null;if(this.rangeLow&&this.rangeHigh&&this.rangeHigh-this.rangeLow<7)this.equaliseDates();this.updateTableHeaders();this.created=true;this.updateTable();if(this.staticPos){this.visible=true;this.opacity=this.opacityTo=this.finalOpacity;this.div.style.visibility="visible";this.div.style.display="block";
this.noFocus=true;this.fade()}else{this.reposition();this.div.style.visibility="visible";this.fade();this.noFocus=true}this.callback("domcreate",{"id":this.id})};this.fade=function(){window.clearTimeout(o.fadeTimer);o.fadeTimer=null;var diff=Math.round(o.opacity+(o.opacityTo-o.opacity)/4);o.setOpacity(diff);if(Math.abs(o.opacityTo-diff)>3&&!o.noFadeEffect)o.fadeTimer=window.setTimeout(o.fade,50);else{o.setOpacity(o.opacityTo);if(o.opacityTo==0){o.div.style.display="none";o.div.style.visibility="hidden";
setARIAProperty(o.div,"hidden","true");o.visible=false}else{setARIAProperty(o.div,"hidden","false");o.visible=true}}};this.trackDrag=function(e){e=e||window.event;var diffx=(e.pageX?e.pageX:e.clientX?e.clientX:e.x)-o.mx;var diffy=(e.pageY?e.pageY:e.clientY?e.clientY:e.Y)-o.my;o.div.style.left=Math.round(o.x+diffx)>0?Math.round(o.x+diffx)+"px":"0px";o.div.style.top=Math.round(o.y+diffy)>0?Math.round(o.y+diffy)+"px":"0px"};this.stopDrag=function(e){var b=document.getElementsByTagName("body")[0];b.className=
b.className.replace(/fd-drag-active/g,"");removeEvent(document,"mousemove",o.trackDrag,false);removeEvent(document,"mouseup",o.stopDrag,false);o.div.style.zIndex=9999};this.onmousedown=function(e){e=e||document.parentWindow.event;var el=e.target!=null?e.target:e.srcElement;var origEl=el;var hideDP=true;var reg=new RegExp("^fd-(but-)?"+o.id+"$");for(o.mouseDownElem=null;el;){if(el.id&&el.id.length&&el.id.search(reg)!=-1){hideDP=false;break}try{el=el.parentNode}catch(err){break}}if(hideDP){hideAll();
return true}if((o.div.className+origEl.className).search("fd-disabled")!=-1)return true;if(origEl.id.search(new RegExp("^"+o.id+"(-prev-year-but|-prev-month-but|-next-month-but|-next-year-but)$"))!=-1){o.mouseDownElem=origEl;addEvent(document,"mouseup",o.clearTimer);addEvent(origEl,"mouseout",o.clearTimer);var incs={"-prev-year-but":[0,-1,0],"-prev-month-but":[0,0,-1],"-next-year-but":[0,1,0],"-next-month-but":[0,0,1]};var check=origEl.id.replace(o.id,"");var dateYYYYMM=Number(o.date.getFullYear()+
pad(o.date.getMonth()+1));o.timerInc=800;o.timerSet=true;o.dayInc=incs[check][0];o.yearInc=incs[check][1];o.monthInc=incs[check][2];o.accellerator=1;if(!(o.currentYYYYMM==dateYYYYMM))if(o.currentYYYYMM<dateYYYYMM&&(o.yearInc==-1||o.monthInc==-1)||o.currentYYYYMM>dateYYYYMM&&(o.yearInc==1||o.monthInc==1)){o.delayedUpdate=false;o.timerInc=1200}else{o.delayedUpdate=true;o.timerInc=800}o.updateTable();return stopEvent(e)}else if(el.className.search("drag-enabled")!=-1){o.mx=e.pageX?e.pageX:e.clientX?
e.clientX:e.x;o.my=e.pageY?e.pageY:e.clientY?e.clientY:e.Y;o.x=parseInt(o.div.style.left);o.y=parseInt(o.div.style.top);addEvent(document,"mousemove",o.trackDrag,false);addEvent(document,"mouseup",o.stopDrag,false);var b=document.getElementsByTagName("body")[0];b.className=b.className.replace(/fd-drag-active/g,"")+" fd-drag-active";o.div.style.zIndex=1E4;return stopEvent(e)}return true};this.onclick=function(e){if(o.opacity!=o.opacityTo||o.disabled)return stopEvent(e);e=e||document.parentWindow.event;
for(var el=e.target!=null?e.target:e.srcElement;el.parentNode;){if(el.tagName&&el.tagName.toLowerCase()=="td"){if(el.className.search(/cd-([0-9]{8})/)==-1||el.className.search(/date-picker-unused|out-of-range|day-disabled|no-selection|not-selectable/)!=-1)return stopEvent(e);var cellDate=el.className.match(/cd-([0-9]{8})/)[1];o.date=new Date(cellDate.substr(0,4),cellDate.substr(4,2)-1,cellDate.substr(6,2));o.dateSet=new Date(o.date);o.noFocus=true;o.callback("dateset",{"id":o.id,"date":o.dateSet,
"dd":o.dateSet.getDate(),"mm":o.dateSet.getMonth()+1,"yyyy":o.dateSet.getFullYear()});o.returnFormattedDate();o.hide();o.stopTimer();break}else if(el.id&&el.id==o.id+"-today-but"){o.date=new Date;o.updateTable();o.stopTimer();break}else if(el.className.search(/date-picker-day-header/)!=-1){var cnt=o.showWeeks?-1:0;for(var elem=el;elem.previousSibling;){elem=elem.previousSibling;if(elem.tagName&&elem.tagName.toLowerCase()=="th")cnt++}o.firstDayOfWeek=(o.firstDayOfWeek+cnt)%7;o.updateTableHeaders();
break}try{el=el.parentNode}catch(err){break}}return stopEvent(e)};this.show=function(autoFocus){if(this.staticPos)return;var elem;for(var elemID in this.formElements){elem=document.getElementById(this.id);if(!elem||elem&&elem.disabled)return}this.noFocus=true;if(!this.created||!document.getElementById("fd-"+this.id)){this.created=false;this.fullCreate=false;this.create();this.fullCreate=true}else{this.setDateFromInput();this.reposition()}this.noFocus=!!!autoFocus;if(this.noFocus){this.clickActivated=
true;addEvent(document,"mousedown",this.onmousedown);if(mouseWheel)if(window.addEventListener&&!window.devicePixelRatio)window.addEventListener("DOMMouseScroll",this.onmousewheel,false);else{addEvent(document,"mousewheel",this.onmousewheel);addEvent(window,"mousewheel",this.onmousewheel)}}else this.clickActivated=false;this.opacityTo=this.finalOpacity;this.div.style.display="block";this.setNewFocus();this.fade();var butt=document.getElementById("fd-but-"+this.id);if(butt)butt.className=butt.className.replace("dp-button-active",
"")+" dp-button-active"};this.hide=function(){if(!this.visible||!this.created||!document.getElementById("fd-"+this.id))return;this.kbEvent=false;o.div.className=o.div.className.replace("datepicker-focus","");this.stopTimer();this.removeOnFocusEvents();this.clickActivated=false;if(this.statusBar)this.updateStatus(getTitleTranslation(9));this.noFocus=true;this.setNewFocus();if(this.staticPos)return;var butt=document.getElementById("fd-but-"+this.id);if(butt)butt.className=butt.className.replace("dp-button-active",
"");removeEvent(document,"mousedown",this.onmousedown);if(mouseWheel)if(window.addEventListener&&!window.devicePixelRatio)try{window.removeEventListener("DOMMouseScroll",this.onmousewheel,false)}catch(err){}else{removeEvent(document,"mousewheel",this.onmousewheel);removeEvent(window,"mousewheel",this.onmousewheel)}this.opacityTo=0;this.fade()};this.onblur=function(e){o.hide()};this.onfocus=function(e){o.noFocus=false;o.div.className=o.div.className.replace("datepicker-focus","")+" datepicker-focus";
o.addOnFocusEvents()};this.onmousewheel=function(e){e=e||document.parentWindow.event;var delta=0;if(e.wheelDelta){delta=e.wheelDelta/120;if(isOpera&&window.opera.version()<9.2)delta=-delta}else if(e.detail)delta=-e.detail/3;var n=o.date.getDate();var d=new Date(o.date);var inc=delta>0?1:-1;d.setDate(2);d.setMonth(d.getMonth()+inc*1);d.setDate(Math.min(n,daysInMonth(d.getMonth(),d.getFullYear())));if(o.outOfRange(d))return stopEvent(e);o.date=new Date(d);o.updateTable();if(o.statusBar)o.updateStatus(printFormattedDate(o.date,
o.statusFormat,true));return stopEvent(e)};this.onkeydown=function(e){o.stopTimer();if(!o.visible)return false;e=e||document.parentWindow.event;var kc=e.keyCode?e.keyCode:e.charCode;if(kc==13){var td=document.getElementById(o.id+"-date-picker-hover");if(!td||td.className.search(/cd-([0-9]{8})/)==-1||td.className.search(/no-selection|out-of-range|day-disabled/)!=-1)return stopEvent(e);o.dateSet=new Date(o.date);o.callback("dateset",o.createCbArgObj());o.returnFormattedDate();o.hide();return stopEvent(e)}else if(kc==
27){if(!o.staticPos){o.hide();return stopEvent(e)}return true}else if(kc==32||kc==0){o.date=new Date;o.updateTable();return stopEvent(e)}else if(kc==9){if(!o.staticPos)return stopEvent(e);return true}if(isMoz){if((new Date).getTime()-o.interval.getTime()<50)return stopEvent(e);o.interval=new Date}if(kc>49&&kc<56||kc>97&&kc<104){if(kc>96)kc-=96-48;kc-=49;o.firstDayOfWeek=(o.firstDayOfWeek+kc)%7;o.updateTableHeaders();return stopEvent(e)}if(kc<33||kc>40)return true;var d=new Date(o.date);var tmp;var cursorYYYYMM=
o.date.getFullYear()+pad(o.date.getMonth()+1);if(kc==36)d.setDate(1);else if(kc==35)d.setDate(daysInMonth(d.getMonth(),d.getFullYear()));else if(kc==33||kc==34){var inc=kc==34?1:-1;if(e.ctrlKey)d.setFullYear(d.getFullYear()+inc*1);else{var n=o.date.getDate();d.setDate(2);d.setMonth(d.getMonth()+inc*1);d.setDate(Math.min(n,daysInMonth(d.getMonth(),d.getFullYear())))}}else if(kc==37)d=new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate()-1);else if(kc==39||kc==34)d=new Date(o.date.getFullYear(),
o.date.getMonth(),o.date.getDate()+1);else if(kc==38)d=new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate()-7);else if(kc==40)d=new Date(o.date.getFullYear(),o.date.getMonth(),o.date.getDate()+7);if(o.outOfRange(d))return stopEvent(e);o.date=d;if(o.statusBar)o.updateStatus(o.getBespokeTitle(o.date.getFullYear(),o.date.getMonth()+1,o.date.getDate())||printFormattedDate(o.date,o.statusFormat,true));var t=String(o.date.getFullYear())+pad(o.date.getMonth()+1)+pad(o.date.getDate());if(e.ctrlKey||
(kc==33||kc==34)||t<o.firstDateShown||t>o.lastDateShown)o.updateTable();else{if(!o.noToday)o.disableTodayButton();o.removeOldFocus();for(var i=0;td=o.tds[i];i++){if(td.className.search("cd-"+t)==-1)continue;o.showHideButtons(o.date);td.id=o.id+"-date-picker-hover";o.setNewFocus();break}}return stopEvent(e)};this.onmouseout=function(e){e=e||document.parentWindow.event;for(var p=e.toElement||e.relatedTarget;p&&p!=this;)try{p=p.parentNode}catch(e$$0){p=this}if(p==this)return false;if(o.currentTR){o.currentTR.className=
"";o.currentTR=null}if(o.statusBar)o.updateStatus(o.getBespokeTitle(o.date.getFullYear(),o.date.getMonth()+1,o.date.getDate())||printFormattedDate(o.date,o.statusFormat,true))};this.onmouseover=function(e){e=e||document.parentWindow.event;for(var el=e.target!=null?e.target:e.srcElement;el.nodeType!=1;)el=el.parentNode;if(!el||!el.tagName)return;var statusText=getTitleTranslation(9);switch(el.tagName.toLowerCase()){case "td":if(el.className.search(/date-picker-unused|out-of-range/)!=-1)statusText=
getTitleTranslation(9);if(el.className.search(/cd-([0-9]{8})/)!=-1){o.stopTimer();var cellDate=el.className.match(/cd-([0-9]{8})/)[1];o.removeOldFocus();el.id=o.id+"-date-picker-hover";o.setNewFocus();o.date=new Date(+cellDate.substr(0,4),+cellDate.substr(4,2)-1,+cellDate.substr(6,2));if(!o.noToday)o.disableTodayButton();statusText=o.getBespokeTitle(+cellDate.substr(0,4),+cellDate.substr(4,2),+cellDate.substr(6,2))||printFormattedDate(o.date,o.statusFormat,true)}break;case "th":if(!o.statusBar)break;
if(el.className.search(/drag-enabled/)!=-1)statusText=getTitleTranslation(10);else if(el.className.search(/date-picker-week-header/)!=-1){var txt=el.firstChild?el.firstChild.nodeValue:"";statusText=txt.search(/^(\d+)$/)!=-1?getTitleTranslation(7,[txt,txt<3&&o.date.getMonth()==11?getWeeksInYear(o.date.getFullYear())+1:getWeeksInYear(o.date.getFullYear())]):getTitleTranslation(9)}break;case "span":if(!o.statusBar)break;if(el.className.search(/drag-enabled/)!=-1)statusText=getTitleTranslation(10);else if(el.className.search(/day-([0-6])/)!=
-1){var day=el.className.match(/day-([0-6])/)[1];statusText=getTitleTranslation(11,[getDayTranslation(day,false)])}else if(el.className.search(/prev-year/)!=-1)statusText=getTitleTranslation(2);else if(el.className.search(/prev-month/)!=-1)statusText=getTitleTranslation(0);else if(el.className.search(/next-year/)!=-1)statusText=getTitleTranslation(3);else if(el.className.search(/next-month/)!=-1)statusText=getTitleTranslation(1);else if(el.className.search(/today-but/)!=-1&&el.className.search(/disabled/)==
-1)statusText=getTitleTranslation(12);break;default:statusText=""}for(;el.parentNode;){el=el.parentNode;if(el.nodeType==1&&el.tagName.toLowerCase()=="tr"){if(o.currentTR){if(el==o.currentTR)break;o.currentTR.className=""}el.className="dp-row-highlight";o.currentTR=el;break}}if(o.statusBar&&statusText)o.updateStatus(statusText)};this.clearTimer=function(){o.stopTimer();o.timerInc=800;o.yearInc=0;o.monthInc=0;o.dayInc=0;removeEvent(document,"mouseup",o.clearTimer);if(o.mouseDownElem!=null)removeEvent(o.mouseDownElem,
"mouseout",o.clearTimer);o.mouseDownElem=null};var o=this;this.setDateFromInput();if(this.staticPos)this.create();else this.createButton();(function(){var elemID;var elem;for(elemID in o.formElements){elem=document.getElementById(elemID);if(elem&&elem.tagName&&elem.tagName.search(/select|input/i)!=-1)addEvent(elem,"change",o.changeHandler);if(!elem||elem.disabled==true)o.disableDatePicker()}})();this.fullCreate=true}var debug=false;var isOpera=Object.prototype.toString.call(window.opera)==="[object Opera]";
var isMoz=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/(compatible|webkit)/.test(navigator.userAgent.toLowerCase());var languageInfo=parseUILanguage();var datePickers={};var uniqueId=0;var weeksInYearCache={};var localeImport=false;var nbsp=String.fromCharCode(160);var describedBy="";var nodrag=false;var buttonTabIndex=true;var returnLocaleDate=false;var mouseWheel=true;var cellFormat="d-sp-F-sp-Y";var titleFormat="F-sp-d-cc-sp-Y";var formatParts=isOpera?["placeholder"]:["placeholder","sp-F-sp-Y"];
var dividors=["dt","sl","ds","cc","sp"];var dvParts="dt|sl|ds|cc|sp";var dParts="d|j";var mParts="m|n|M|F";var yParts="Y|y";var kbEvent=false;var bespokeTitles={};var finalOpacity=100;var validFmtRegExp=/^((sp|dt|sl|ds|cc)|([d|D|l|j|N|w|S|W|M|F|m|n|t|Y|y]))(-((sp|dt|sl|ds|cc)|([d|D|l|j|N|w|S|W|M|F|m|n|t|Y|y])))*$/;var rangeRegExp=/^((\d\d\d\d)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01]))$/;var wcDateRegExp=/^(((\d\d\d\d)|(\*\*\*\*))((0[1-9]|1[012])|(\*\*))(0[1-9]|[12][0-9]|3[01]))$/;(function(){var scriptFiles=
document.getElementsByTagName("script");var scriptInner=String(scriptFiles[scriptFiles.length-1].innerHTML).replace(/[\n\r\s\t]+/g," ").replace(/^\s+/,"").replace(/\s+$/,"");var json=parseJSON(scriptInner);if(typeof json==="object"&&!("err"in json))affectJSON(json);if(typeof fdLocale!="object"){var head=document.getElementsByTagName("head")[0]||document.documentElement;var loc=scriptFiles[scriptFiles.length-1].src.substr(0,scriptFiles[scriptFiles.length-1].src.lastIndexOf("/"))+"/lang/";var script;
for(var i=0;i<languageInfo.length;i++){script=document.createElement("script");script.type="text/javascript";script.src=loc+languageInfo[i]+".js";script.charSet="utf-8";head.appendChild(script)}script=null}else returnLocaleDate=true})();datePicker.prototype.addButtonEvents=function(but){function buttonEvent(e){e=e||window.event;var inpId=this.id.replace("fd-but-","");var dpVisible=isVisible(inpId);var autoFocus=false;var kbEvent=datePickers[inpId].kbEvent;if(kbEvent){datePickers[inpId].kbEvent=false;
return}if(e.type=="keydown"){datePickers[inpId].kbEvent=true;var kc=e.keyCode!=null?e.keyCode:e.charCode;if(kc!=13)return true;if(dpVisible){this.className=this.className.replace("dp-button-active","");hideAll();return stopEvent(e)}autoFocus=true}else datePickers[inpId].kbEvent=false;this.className=this.className.replace("dp-button-active","");if(!dpVisible){this.className+=" dp-button-active";hideAll(inpId);showDatePicker(inpId,autoFocus)}else hideAll();return stopEvent(e)}but.onkeydown=buttonEvent;
but.onclick=buttonEvent;if(!buttonTabIndex||this.bespokeTabIndex===false){but.setAttribute(!false?"tabIndex":"tabindex","-1");but.tabIndex=-1;but.onkeydown=null;removeEvent(but,"keydown",buttonEvent)}else{but.setAttribute(!false?"tabIndex":"tabindex",this.bespokeTabIndex);but.tabIndex=this.bespokeTabIndex}};datePicker.prototype.createButton=function(){if(this.staticPos||document.getElementById("fd-but-"+this.id))return;var inp=document.getElementById(this.id);var span=document.createElement("span");
var but=document.createElement("a");but.href="#"+this.id;but.className="date-picker-control";but.title=getTitleTranslation(5);but.id="fd-but-"+this.id;span.appendChild(document.createTextNode(nbsp));but.appendChild(span);span=document.createElement("span");span.className="fd-screen-reader";span.appendChild(document.createTextNode(but.title));but.appendChild(span);setARIARole(but,"button");setARIAProperty(but,"haspopup",true);if(this.positioned&&document.getElementById(this.positioned))document.getElementById(this.positioned).appendChild(but);
else inp.parentNode.insertBefore(but,inp.nextSibling);this.addButtonEvents(but);but=null;this.callback("dombuttoncreate",{id:this.id})};datePicker.prototype.setBespokeTitles=function(titles){this.bespokeTitles=titles};datePicker.prototype.addBespokeTitles=function(titles){for(var dt in titles)this.bespokeTitles[dt]=titles[dt]};datePicker.prototype.getBespokeTitle=function(y,m,d){var dt;var dtFull;var yyyymmdd=y+String(pad(m))+pad(d);for(dt in this.bespokeTitles){dtFull=dt.replace(/^(\*\*\*\*)/,y).replace(/^(\d\d\d\d)(\*\*)/,
"$1"+pad(m));if(dtFull==yyyymmdd)return this.bespokeTitles[dt]}for(dt in bespokeTitles){dtFull=dt.replace(/^(\*\*\*\*)/,y).replace(/^(\d\d\d\d)(\*\*)/,"$1"+pad(m));if(dtFull==yyyymmdd)return bespokeTitles[dt]}return false};datePicker.prototype.returnSelectedDate=function(){return this.dateSet};datePicker.prototype.setRangeLow=function(range){this.rangeLow=String(range).search(/^(\d\d\d\d)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/)==-1?false:range;if(!this.inUpdate)this.setDateFromInput()};datePicker.prototype.setRangeHigh=
function(range){this.rangeHigh=String(range).search(/^(\d\d\d\d)(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/)==-1?false:range;if(!this.inUpdate)this.setDateFromInput()};datePicker.prototype.setDisabledDays=function(dayArray){if(!dayArray.length||dayArray.length!=7||dayArray.join("").search(/^([0|1]{7})$/)==-1){if(debug)throw"Invalid values located when attempting to call setDisabledDays";return false}this.disabledDays=dayArray;if(!this.inUpdate)this.setDateFromInput()};datePicker.prototype.setDisabledDates=
function(dateObj){this.disabledDates={};this.addDisabledDates(dateObj)};datePicker.prototype.setEnabledDates=function(dateObj){this.enabledDates={};this.addEnabledDates(dateObj)};datePicker.prototype.addDisabledDates=function(dateObj){this.enabledDates=false;this.disabledDates=this.disabledDates||{};for(var startD in dateObj)if(String(startD).search(wcDateRegExp)!=-1&&dateObj[startD]==1||String(startD).search(rangeRegExp)!=-1&&String(dateObj[startD]).search(rangeRegExp)!=-1)this.disabledDates[startD]=
dateObj[startD];if(!this.inUpdate)this.setDateFromInput()};datePicker.prototype.addEnabledDates=function(dateObj){this.disabledDates=false;this.enabledDates=this.enabledDates||{};for(var startD in dateObj)if(String(startD).search(wcDateRegExp)!=-1&&dateObj[startD]==1||String(startD).search(rangeRegExp)!=-1&&String(dateObj[startD]).search(rangeRegExp)!=-1)this.enabledDates[startD]=dateObj[startD];if(!this.inUpdate)this.setDateFromInput()};datePicker.prototype.setSelectedDate=function(yyyymmdd){if(String(yyyymmdd).search(wcDateRegExp)==
-1)return false;var match=yyyymmdd.match(rangeRegExp);var dt=new Date(+match[2],+match[3]-1,+match[4]);if(!dt||isNaN(dt)||!this.canDateBeSelected(dt))return false;this.dateSet=new Date(dt);if(!this.inUpdate)this.updateTable();this.callback("dateset",this.createCbArgObj());this.returnFormattedDate()};datePicker.prototype.checkSelectedDate=function(){if(this.dateSet&&!this.canDateBeSelected(this.dateSet))this.dateSet=null;if(!this.inUpdate)this.updateTable()};datePicker.prototype.addOnFocusEvents=function(){if(this.kbEventsAdded||
this.noFocus)return;addEvent(document,"keypress",this.onkeydown);addEvent(document,"mousedown",this.onmousedown);if(window.devicePixelRatio){removeEvent(document,"keypress",this.onkeydown);addEvent(document,"keydown",this.onkeydown)}this.noFocus=false;this.kbEventsAdded=true};datePicker.prototype.removeOnFocusEvents=function(){if(!this.kbEventsAdded)return;removeEvent(document,"keypress",this.onkeydown);removeEvent(document,"keydown",this.onkeydown);removeEvent(document,"mousedown",this.onmousedown);
this.kbEventsAdded=false};datePicker.prototype.stopTimer=function(){this.timerSet=false;window.clearTimeout(this.timer)};datePicker.prototype.setOpacity=function(op){this.div.style.opacity=op/100;this.div.style.filter="alpha(opacity\x3d"+op+")";this.opacity=op};datePicker.prototype.getDates=function(y,m){var dpm=daysInMonth(m-1,y);var obj={};var dds=this.getGenericDates(y,m,false);var eds=this.getGenericDates(y,m,true);var dts=y+pad(m);for(var i=1;i<=dpm;i++){dt=dts+""+pad(i);if(dds)obj[dt]=dt in
dds?0:1;else if(eds)obj[dt]=dt in eds?1:0;else obj[dt]=1}return obj};datePicker.prototype.getGenericDates=function(y,m,enabled){var deDates=enabled?this.enabledDates:this.disabledDates;if(!deDates)return false;m=pad(m);var obj={};var lower=this.firstDateShown;var upper=this.lastDateShown;var dt1;var dt2;var rngLower;var rngUpper;if(!upper||!lower){lower=this.firstDateShown=y+pad(m)+"01";upper=this.lastDateShown=y+pad(m)+pad(daysInMonth(m,y))}for(dt in deDates){dt1=dt.replace(/^(\*\*\*\*)/,y).replace(/^(\d\d\d\d)(\*\*)/,
"$1"+m);dt2=deDates[dt];if(dt2==1){if(Number(dt1.substr(0,6))>=+String(this.firstDateShown).substr(0,6)&&Number(dt1.substr(0,6))<=+String(this.lastDateShown).substr(0,6))obj[dt1]=1;continue}if(+String(this.firstDateShown).substr(0,6)>=Number(dt1.substr(0,6))&&+String(this.lastDateShown).substr(0,6)<=Number(dt2.substr(0,6))){if(Number(dt1.substr(0,6))==Number(dt2.substr(0,6))){for(var i=dt1;i<=dt2;i++)obj[i]=1;continue}rngLower=Number(dt1.substr(0,6))==+String(this.firstDateShown).substr(0,6)?dt1:
lower;rngUpper=Number(dt2.substr(0,6))==+String(this.lastDateShown).substr(0,6)?dt2:upper;for(i=+rngLower;i<=+rngUpper;i++)obj[i]=1}}return obj};datePicker.prototype.truePosition=function(element){var pos=this.cumulativeOffset(element);if(isOpera)return pos;var iebody=document.compatMode&&document.compatMode!="BackCompat"?document.documentElement:document.body;var dsocleft=document.all?iebody.scrollLeft:window.pageXOffset;var dsoctop=document.all?iebody.scrollTop:window.pageYOffset;var posReal=this.realOffset(element);
return[pos[0]-posReal[0]+dsocleft,pos[1]-posReal[1]+dsoctop]};datePicker.prototype.realOffset=function(element){var t=0;var l=0;do{t+=element.scrollTop||0;l+=element.scrollLeft||0;element=element.parentNode}while(element);return[l,t]};datePicker.prototype.cumulativeOffset=function(element){var t=0;var l=0;do{t+=element.offsetTop||0;l+=element.offsetLeft||0;element=element.offsetParent}while(element);return[l,t]};datePicker.prototype.equaliseDates=function(){var clearDayFound=false;var tmpDate;for(var i=
this.rangeLow;i<=this.rangeHigh;i++){tmpDate=String(i);if(!this.disabledDays[(new Date(tmpDate.substr(0,4),tmpDate.substr(6,2),tmpDate.substr(4,2))).getDay()-1]){clearDayFound=true;break}}if(!clearDayFound)this.disabledDays=[0,0,0,0,0,0,0]};datePicker.prototype.outOfRange=function(tmpDate){if(!this.rangeLow&&!this.rangeHigh)return false;var level=false;if(!tmpDate){level=true;tmpDate=this.date}var d=pad(tmpDate.getDate());var m=pad(tmpDate.getMonth()+1);var y=tmpDate.getFullYear();var dt=String(y)+
String(m)+String(d);if(this.rangeLow&&+dt<+this.rangeLow){if(!level)return true;this.date=new Date(this.rangeLow.substr(0,4),this.rangeLow.substr(4,2)-1,this.rangeLow.substr(6,2),5,0,0);return false}if(this.rangeHigh&&+dt>+this.rangeHigh){if(!level)return true;this.date=new Date(this.rangeHigh.substr(0,4),this.rangeHigh.substr(4,2)-1,this.rangeHigh.substr(6,2),5,0,0)}return false};datePicker.prototype.canDateBeSelected=function(tmpDate){if(!tmpDate)return false;var d=pad(tmpDate.getDate());var m=
pad(tmpDate.getMonth()+1);var y=tmpDate.getFullYear();var dt=String(y)+String(m)+String(d);var dd=this.getDates(y,m);var wd=tmpDate.getDay()==0?7:tmpDate.getDay();if(this.rangeLow&&+dt<+this.rangeLow||this.rangeHigh&&+dt>+this.rangeHigh||dd[dt]==0||this.disabledDays[wd-1])return false;return true};datePicker.prototype.updateStatus=function(msg){for(;this.statusBar.firstChild;)this.statusBar.removeChild(this.statusBar.firstChild);if(msg&&this.statusFormat.search(/-S|S-/)!=-1&&msg.search(/([0-9]{1,2})(st|nd|rd|th)/)!=
-1){msg=msg.replace(/([0-9]{1,2})(st|nd|rd|th)/,"$1\x3csup\x3e$2\x3c/sup\x3e").split(/<sup>|<\/sup>/);var dc=document.createDocumentFragment();var i=0;for(var nd;nd=msg[i];i++)if(/^(st|nd|rd|th)$/.test(nd)){var sup=document.createElement("sup");sup.appendChild(document.createTextNode(nd));dc.appendChild(sup)}else dc.appendChild(document.createTextNode(nd));this.statusBar.appendChild(dc)}else this.statusBar.appendChild(document.createTextNode(msg?msg:getTitleTranslation(9)))};datePicker.prototype.setDateFromInput=
function(){var origDateSet=this.dateSet;var m=false;var dt;var elemID;var elem;var elemFmt;var d;var y;var elemVal;this.dateSet=null;for(elemID in this.formElements){elem=document.getElementById(elemID);if(!elem)return;elemVal=String(elem.value);elemFmt=this.formElements[elemID];dt=false;if(!(elemVal=="")){var i=0;for(var fmt;fmt=this.formatMasks[elemID][i];i++){dt=parseDateString(elemVal,fmt);if(dt)break}}if(dt){if(elemFmt.search(new RegExp("["+dParts+"]"))!=-1)d=dt.getDate();if(elemFmt.search(new RegExp("["+
mParts+"]"))!=-1)m=dt.getMonth();if(elemFmt.search(new RegExp("["+yParts+"]"))!=-1)y=dt.getFullYear()}}dt=false;if(d&&!(m===false)&&y)if(+d>daysInMonth(+m,+y)){d=daysInMonth(+m,+y);dt=false}else dt=new Date(+y,+m,+d);if(!dt||isNaN(dt)){var newDate=new Date(y||(new Date).getFullYear(),!(m===false)?m:(new Date).getMonth(),1);this.date=this.cursorDate?new Date(+this.cursorDate.substr(0,4),+this.cursorDate.substr(4,2)-1,+this.cursorDate.substr(6,2)):new Date(newDate.getFullYear(),newDate.getMonth(),Math.min(+d||
(new Date).getDate(),daysInMonth(newDate.getMonth(),newDate.getFullYear())));this.date.setHours(5);this.outOfRange();this.updateTable();return}dt.setHours(5);this.date=new Date(dt);this.outOfRange();if(dt.getTime()==this.date.getTime()&&this.canDateBeSelected(this.date))this.dateSet=new Date(this.date);if(this.fullCreate)this.updateTable();this.returnFormattedDate(true)};datePicker.prototype.setSelectIndex=function(elem,indx){for(var opt=elem.options.length-1;opt>=0;opt--)if(elem.options[opt].value==
indx){elem.selectedIndex=opt;return}};datePicker.prototype.returnFormattedDate=function(noFocus){if(!this.dateSet)return;var d=pad(this.dateSet.getDate());var m=pad(this.dateSet.getMonth()+1);var y=this.dateSet.getFullYear();var el=false;var elemID;var elem;var elemFmt;var fmtDate;noFocus=!!noFocus;for(elemID in this.formElements){elem=document.getElementById(elemID);if(!elem)return;if(!el)el=elem;elemFmt=this.formElements[elemID];fmtDate=printFormattedDate(this.dateSet,elemFmt,returnLocaleDate);
if(elem.tagName.toLowerCase()=="input")elem.value=fmtDate;else this.setSelectIndex(elem,fmtDate)}if(this.staticPos){this.noFocus=true;this.updateTable();this.noFocus=false}if(this.fullCreate)if(el.type&&el.type!="hidden"&&!noFocus)el.focus()};datePicker.prototype.disableDatePicker=function(){if(this.disabled)return;if(this.staticPos){this.removeOnFocusEvents();this.removeOldFocus();this.noFocus=true;this.div.className=this.div.className.replace(/dp-disabled/,"")+" dp-disabled";this.table.onmouseover=
this.table.onclick=this.table.onmouseout=this.table.onmousedown=null;removeEvent(document,"mousedown",this.onmousedown);removeEvent(document,"mouseup",this.clearTimer)}else{if(this.visible)this.hide();var but=document.getElementById("fd-but-"+this.id);if(but){but.className=but.className.replace(/dp-disabled/,"")+" dp-disabled";setARIAProperty(but,"disabled",true);but.onkeydown=but.onclick=function(){return false};but.setAttribute(!false?"tabIndex":"tabindex","-1");but.tabIndex=-1}}clearTimeout(this.timer);
this.disabled=true};datePicker.prototype.enableDatePicker=function(){if(!this.disabled)return;if(this.staticPos){this.removeOldFocus();this.noFocus=true;this.updateTable();this.div.className=this.div.className.replace(/dp-disabled/,"");this.disabled=false;this.table.onmouseover=this.onmouseover;this.table.onmouseout=this.onmouseout;this.table.onclick=this.onclick;this.table.onmousedown=this.onmousedown}else{var but=document.getElementById("fd-but-"+this.id);if(but){but.className=but.className.replace(/dp-disabled/,
"");setARIAProperty(but,"disabled",false);this.addButtonEvents(but)}}this.disabled=false};datePicker.prototype.disableTodayButton=function(){var today=new Date;this.butToday.className=this.butToday.className.replace("fd-disabled","");if(this.outOfRange(today)||this.date.getDate()==today.getDate()&&this.date.getMonth()==today.getMonth()&&this.date.getFullYear()==today.getFullYear())this.butToday.className+=" fd-disabled"};datePicker.prototype.updateTableHeaders=function(){var colspanTotal=this.showWeeks?
8:7;var colOffset=this.showWeeks?1:0;var d;var but;for(var col=colOffset;col<colspanTotal;col++){d=(this.firstDayOfWeek+(col-colOffset))%7;this.ths[col].title=getDayTranslation(d,false);if(col>colOffset){for(but=this.ths[col].getElementsByTagName("span")[0];but.firstChild;)but.removeChild(but.firstChild);but.appendChild(document.createTextNode(getDayTranslation(d,true)));but.title=this.ths[col].title;but.className=but.className.replace(/day-([0-6])/,"")+" day-"+d;but=null}else{for(;this.ths[col].firstChild;)this.ths[col].removeChild(this.ths[col].firstChild);
this.ths[col].appendChild(document.createTextNode(getDayTranslation(d,true)))}this.ths[col].className=this.ths[col].className.replace(/date-picker-highlight/g,"");if(this.highlightDays[d])this.ths[col].className+=" date-picker-highlight"}if(this.created)this.updateTable()};datePicker.prototype.callback=function(type,args){if(!type||!(type in this.callbacks))return false;var ret=false;for(var func=0;func<this.callbacks[type].length;func++)ret=this.callbacks[type][func](args||this.id);return ret};datePicker.prototype.showHideButtons=
function(tmpDate){if(!this.butPrevYear)return;var tdm=tmpDate.getMonth();var tdy=tmpDate.getFullYear();if(this.outOfRange(new Date(tdy-1,tdm,daysInMonth(+tdm,tdy-1)))){if(this.butPrevYear.className.search(/fd-disabled/)==-1)this.butPrevYear.className+=" fd-disabled";if(this.yearInc==-1)this.stopTimer()}else this.butPrevYear.className=this.butPrevYear.className.replace(/fd-disabled/g,"");if(this.outOfRange(new Date(tdy,+tdm-1,daysInMonth(+tdm-1,tdy)))){if(this.butPrevMonth.className.search(/fd-disabled/)==
-1)this.butPrevMonth.className+=" fd-disabled";if(this.monthInc==-1)this.stopTimer()}else this.butPrevMonth.className=this.butPrevMonth.className.replace(/fd-disabled/g,"");if(this.outOfRange(new Date(tdy+1,+tdm,1))){if(this.butNextYear.className.search(/fd-disabled/)==-1)this.butNextYear.className+=" fd-disabled";if(this.yearInc==1)this.stopTimer()}else this.butNextYear.className=this.butNextYear.className.replace(/fd-disabled/g,"");if(this.outOfRange(new Date(tdy,+tdm+1,1))){if(this.butNextMonth.className.search(/fd-disabled/)==
-1)this.butNextMonth.className+=" fd-disabled";if(this.monthInc==1)this.stopTimer()}else this.butNextMonth.className=this.butNextMonth.className.replace(/fd-disabled/g,"")};var localeDefaults={fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullDays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dayAbbrs:["Mon","Tue",
"Wed","Thu","Fri","Sat","Sun"],titles:["Previous month","Next month","Previous year","Next year","Today","Show Calendar","wk","Week [[%0%]] of [[%1%]]","Week","Select a date","Click \x26 Drag to move","Display “[[%0%]]” first","Go to Today’s date","Disabled date :"],firstDayOfWeek:0,imported:false};var joinNodeLists=function(){if(!arguments.length)return[];var nodeList=[];for(var i=0;i<arguments.length;i++){var j=0;for(var item;item=arguments[i][j];j++)nodeList[nodeList.length]=item}return nodeList};
var cleanUp=function(){var dp;var fe;for(dp in datePickers)for(fe in datePickers[dp].formElements)if(!document.getElementById(fe)){datePickers[dp].destroy();datePickers[dp]=null;delete datePickers[dp];break}};var hideAll=function(exception){for(var dp in datePickers){if(!datePickers[dp].created||exception&&exception==datePickers[dp].id)continue;datePickers[dp].hide()}};var hideDatePicker=function(inpID){if(inpID in datePickers){if(!datePickers[inpID].created||datePickers[inpID].staticPos)return;datePickers[inpID].hide()}};
var showDatePicker=function(inpID,autoFocus){if(!(inpID in datePickers))return false;datePickers[inpID].clickActivated=!!!autoFocus;datePickers[inpID].show(autoFocus);return true};var destroy=function(e){e=e||window.event;if(e.persisted)return;for(dp in datePickers){datePickers[dp].destroy();datePickers[dp]=null;delete datePickers[dp]}datePickers=null;removeEvent(window,"unload",datePickerController.destroy)};var destroySingleDatePicker=function(id){if(id&&id in datePickers){datePickers[id].destroy();
datePickers[id]=null;delete datePickers[id]}};var getTitleTranslation=function(num,replacements){replacements=replacements||[];if(localeImport.titles.length>num){var txt=localeImport.titles[num];if(replacements&&replacements.length)for(var i=0;i<replacements.length;i++)txt=txt.replace("[[%"+i+"%]]",replacements[i]);return txt.replace(/[[%(\d)%]]/g,"")}return""};var getDayTranslation=function(day,abbreviation){var titles=localeImport[abbreviation?"dayAbbrs":"fullDays"];return titles.length&&titles.length>
day?titles[day]:""};var getMonthTranslation=function(month,abbreviation){var titles=localeImport[abbreviation?"monthAbbrs":"fullMonths"];return titles.length&&titles.length>month?titles[month]:""};var daysInMonth=function(nMonth,nYear){nMonth=(nMonth+12)%12;return 0==nYear%4&&(0!=nYear%100||0==nYear%400)&&nMonth==1?29:[31,28,31,30,31,30,31,31,30,31,30,31][nMonth]};var getWeeksInYear=function(Y){if(Y in weeksInYearCache)return weeksInYearCache[Y];var X1;var X2;var NW;with(X1=new Date(Y,0,4))setDate(getDate()-
(6+getDay())%7);with(X2=new Date(Y,11,28))setDate(getDate()+(7-getDay())%7);weeksInYearCache[Y]=Math.round((X2-X1)/6048E5);return weeksInYearCache[Y]};var getWeekNumber=function(y,m,d){d=new Date(y,m,d,0,0,0);var DoW=d.getDay();d.setDate(d.getDate()-(DoW+6)%7+3);var ms=d.valueOf();d.setMonth(0);d.setDate(4);return Math.round((ms-d.valueOf())/(7*864E5))+1};var printFormattedDate=function(date,fmt,useImportedLocale){if(!date||isNaN(date))return"";var parts=fmt.split("-");var str=[];var d=date.getDate();
var D=date.getDay();var m=date.getMonth();var y=date.getFullYear();var flags={"sp":" ","dt":".","sl":"/","ds":"-","cc":",","d":pad(d),"D":useImportedLocale?localeImport.dayAbbrs[D==0?6:D-1]:localeDefaults.dayAbbrs[D==0?6:D-1],"l":useImportedLocale?localeImport.fullDays[D==0?6:D-1]:localeDefaults.fullDays[D==0?6:D-1],"j":d,"N":D==0?7:D,"w":D,"W":getWeekNumber(y,m,d),"M":useImportedLocale?localeImport.monthAbbrs[m]:localeDefaults.monthAbbrs[m],"F":useImportedLocale?localeImport.fullMonths[m]:localeDefaults.fullMonths[m],
"m":pad(m+1),"n":m+1,"t":daysInMonth(m,y),"y":String(y).substr(2,2),"Y":y,"S":["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};var pt=0;for(var part;part=parts[pt];pt++)str.push(!(part in flags)?"":flags[part]);return str.join("")};var parseDateString=function(str,fmt){var d=false;var m=false;var y=false;var now=new Date;var parts=fmt.replace(/-sp(-sp)+/g,"-sp").split("-");var divds={"dt":".","sl":"/","ds":"-","cc":","};str=""+str;var pt=0;var part;loopLabel:for(;part=parts[pt];pt++){if(str.length==
0)return false;switch(part){case "sp":case "dt":case "sl":case "ds":case "cc":str=str.replace(/^(\s|\.|\/|,|-){1,}/,"");break;case "d":case "j":if(str.search(/^(3[01]|[12][0-9]|0?[1-9])/)!=-1){d=+str.match(/^(3[01]|[12][0-9]|0?[1-9])/)[0];str=str.substr(str.match(/^(3[01]|[12][0-9]|0?[1-9])/)[0].length);break}else return"";case "D":case "l":l=localeDefaults.fullDays.concat(localeDefaults.dayAbbrs);if(localeImport.imported)l=l.concat(localeImport.fullDays).concat(localeImport.dayAbbrs);for(var i=0;i<
l.length;i++)if((new RegExp("^"+l[i],"i")).test(str)){str=str.substr(l[i].length);continue loopLabel}break;case "N":case "w":if(str.search(part=="N"?/^([1-7])/:/^([0-6])/)!=-1)str=str.substr(1);break;case "S":if(str.search(/^(st|nd|rd|th)/i)!=-1)str=str.substr(2);break;case "W":if(str.search(/^([1-9]|[1234[0-9]|5[0-3])/)!=-1)str=str.substr(str.match(/^([1-9]|[1234[0-9]|5[0-3])/)[0].length);break;case "M":case "F":l=localeDefaults.fullMonths.concat(localeDefaults.monthAbbrs);if(localeImport.imported)l=
l.concat(localeImport.fullMonths).concat(localeImport.monthAbbrs);for(i=0;i<l.length;i++)if(str.search(new RegExp("^"+l[i],"i"))!=-1){str=str.substr(l[i].length);m=(i+12)%12;continue loopLabel}return"";case "m":case "n":l=/^(1[012]|0?[1-9])/;if(str.search(l)!=-1){m=+str.match(l)[0]-1;str=str.substr(str.match(l)[0].length);break}else return"";case "t":if(str.search(/2[89]|3[01]/)!=-1){str=str.substr(2);break}break;case "Y":if(str.search(/^(\d{4})/)!=-1){y=str.substr(0,4);str=str.substr(4);break}else return"";
case "y":if(str.search(/^(\d{4})/)!=-1){y=str.substr(0,4);str=str.substr(4);break}else if(str.search(/^(0[0-9]|[1-9][0-9])/)!=-1){y=str.substr(0,2);y=+y<50?"20"+""+String(y):"19"+""+String(y);str=str.substr(2);break}else return"";default:return""}}if(!(str=="")||d===false&&m===false&&y===false)return false;m=m===false?11:m;y=y===false?now.getFullYear():y;d=d===false?daysInMonth(+m,+y):d;if(d>daysInMonth(+m,+y))return false;var tmpDate=new Date(y,m,d);return!tmpDate||isNaN(tmpDate)?false:tmpDate};
var findLabelForElement=function(element){var label;if(element.parentNode&&element.parentNode.tagName.toLowerCase()=="label")lebel=element.parentNode;else{var labelList=document.getElementsByTagName("label");for(var lbl=0;lbl<labelList.length;lbl++)if(labelList[lbl]["htmlFor"]&&labelList[lbl]["htmlFor"]==element.id||labelList[lbl].getAttribute("for")==element.id){label=labelList[lbl];break}}if(label&&!label.id)label.id=element.id+"_label";return label};var updateLanguage=function(){if(typeof window.fdLocale==
"object")localeImport={titles:fdLocale.titles,fullMonths:fdLocale.fullMonths,monthAbbrs:fdLocale.monthAbbrs,fullDays:fdLocale.fullDays,dayAbbrs:fdLocale.dayAbbrs,firstDayOfWeek:"firstDayOfWeek"in fdLocale?fdLocale.firstDayOfWeek:0,imported:true};else if(!localeImport)localeImport=localeDefaults};var loadLanguage=function(){updateLanguage();for(dp in datePickers){if(!datePickers[dp].created)continue;datePickers[dp].updateTable()}};var checkElem=function(elem){return!(!elem||!elem.tagName||!(elem.tagName.toLowerCase()==
"input"&&(elem.type=="text"||elem.type=="hidden")||elem.tagName.toLowerCase()=="select"))};var addDatePicker=function(options){updateLanguage();if(!options.formElements){if(debug)throw"No form elements stipulated within initialisation parameters";return}options.id=options.id&&options.id in options.formElements?options.id:"";options.formatMasks={};var testParts=[dParts,mParts,yParts];var partsFound=[0,0,0];var tmpPartsFound;var matchedPart;var newParts;var indParts;var fmt;var fmtBag;var fmtParts;
var newFormats;var myMin;var myMax;for(var elemID in options.formElements){elem=document.getElementById(elemID);if(!checkElem(elem)){if(debug)throw"The element with and id of '"+elemID+"' is of the wrong type or does not exist within the DOM";return false}if(!options.id)options.id=elemID;fmt=options.formElements[elemID];if(!fmt.match(validFmtRegExp)){if(debug)throw"The element with and id of '"+elemID+"' has the following incorrect date format assigned to it: "+fmt;return false}fmtBag=[fmt];if(options.dateFormats&&
elemID in options.dateFormats&&options.dateFormats[elemID].length){newFormats=[];var f=0;for(var bDft;bDft=options.dateFormats[elemID][f];f++){if(!bDft.match(validFmtRegExp)){if(debug)throw"The element with and id of '"+elemID+"' has the following incorrect date format assigned to it within the dateFormats parameter: "+bDft;return false}newFormats.push(bDft)}fmtBag=fmtBag.concat(newFormats)}tmpPartsFound=[0,0,0];var i=0;for(var testPart;testPart=testParts[i];i++)if(fmt.search(new RegExp("("+testPart+
")"))!=-1){partsFound[i]=tmpPartsFound[i]=1;if(elem.tagName.toLowerCase()=="input"){matchedPart=fmt.match(new RegExp("("+testPart+")"))[0];newParts=String(matchedPart+"|"+testPart.replace(new RegExp("("+matchedPart+")"),"")).replace("||","|");indParts=newParts.split("|");newFormats=[];var z=0;for(var bFmt;bFmt=fmtBag[z];z++){var x=0;for(var indPart;indPart=indParts[x];x++){if(indPart==matchedPart)continue;newFormats.push(bFmt.replace(new RegExp("("+testPart+")(-|$)","g"),indPart+"-").replace(/-$/,
""))}}fmtBag=fmtBag.concat(newFormats)}}options.formatMasks[elemID]=fmtBag.concat();if(elem.tagName.toLowerCase()=="select"){myMin=myMax=0;var selOptions=elem.options;if(tmpPartsFound[0]&&tmpPartsFound[1]&&tmpPartsFound[2]){var yyyymmdd;var cursorDate=false;if("disabledDates"in options)delete options.disabledDates;options.enabledDates={};for(i=0;i<selOptions.length;i++)for(f=0;fmt=fmtBag[f];f++){dt=parseDateString(selOptions[i].value,fmt);if(dt){yyyymmdd=dt.getFullYear()+""+pad(dt.getMonth()+1)+""+
pad(dt.getDate());if(!cursorDate)cursorDate=yyyymmdd;options.enabledDates[yyyymmdd]=1;if(!myMin||Number(yyyymmdd)<myMin)myMin=yyyymmdd;if(!myMax||Number(yyyymmdd)>myMax)myMax=yyyymmdd;break}}if(!options.cursorDate&&cursorDate)options.cursorDate=cursorDate}else if(tmpPartsFound[1]&&tmpPartsFound[2]){var yyyymm;for(i=0;i<selOptions.length;i++)for(f=0;fmt=fmtBag[f];f++){dt=parseDateString(selOptions[i].value,fmt);if(dt){yyyymm=dt.getFullYear()+""+pad(dt.getMonth()+1);if(!myMin||Number(yyyymm)<myMin)myMin=
yyyymm;if(!myMax||Number(yyyymm)>myMax)myMax=yyyymm;break}}myMin+=""+"01";myMax+=""+daysInMonth(+myMax.substr(4,2)-1,+myMax.substr(0,4))}else if(tmpPartsFound[2]){var yyyy;for(i=0;i<selOptions.length;i++)for(f=0;fmt=fmtBag[f];f++){dt=parseDateString(selOptions[i].value,fmt);if(dt){yyyy=dt.getFullYear();if(!myMin||Number(yyyy)<myMin)myMin=yyyy;if(!myMax||Number(yyyy)>myMax)myMax=yyyy;break}}myMin+="0101";myMax+="1231"}if(myMin&&(!options.rangeLow||+options.rangeLow<+myMin))options.rangeLow=myMin;if(myMax&&
(!options.rangeHigh||+options.rangeHigh>+myMin))options.rangeHigh=myMax}}if(!(partsFound[0]&&partsFound[1]&&partsFound[2])){if(debug)throw"Could not find all of the required date parts for element: "+elem.id;return false}var opts={formElements:options.formElements,id:options.id,formatMasks:options.formatMasks,staticPos:!!options.staticPos,positioned:options.positioned&&document.getElementById(options.positioned)?options.positioned:"",rangeLow:options.rangeLow&&String(options.rangeLow).search(rangeRegExp)!=
-1?options.rangeLow:"",rangeHigh:options.rangeHigh&&String(options.rangeHigh).search(rangeRegExp)!=-1?options.rangeHigh:"",statusFormat:options.statusFormat&&String(options.statusFormat).search(validFmtRegExp)!=-1?options.statusFormat:"",noFadeEffect:!!options.staticPos?true:!!options.noFadeEffect,dragDisabled:nodrag||!!options.staticPos?true:!!options.dragDisabled,bespokeTabIndex:options.bespokeTabindex&&typeof options.bespokeTabindex=="number"?parseInt(options.bespokeTabindex,10):0,bespokeTitles:options.bespokeTitles||
{},finalOpacity:options.finalOpacity&&typeof options.finalOpacity=="number"&&(options.finalOpacity>20&&options.finalOpacity<=100)?parseInt(+options.finalOpacity,10):!!options.staticPos?100:finalOpacity,hideInput:!!options.hideInput,noToday:!!options.noTodayButton,showWeeks:!!options.showWeeks,fillGrid:!!options.fillGrid,constrainSelection:"constrainSelection"in options?!!options.constrainSelection:true,cursorDate:options.cursorDate&&String(options.cursorDate).search(rangeRegExp)!=-1?options.cursorDate:
"",labelledBy:findLabelForElement(elem),describedBy:options.describedBy&&document.getElementById(options.describedBy)?options.describedBy:describedBy&&document.getElementById(describedBy)?describedBy:"",callbacks:options.callbackFunctions?options.callbackFunctions:{},highlightDays:options.highlightDays&&options.highlightDays.length&&options.highlightDays.length==7?options.highlightDays:[0,0,0,0,0,1,1],disabledDays:options.disabledDays&&options.disabledDays.length&&options.disabledDays.length==7?options.disabledDays:
[0,0,0,0,0,0,0]};if(options.disabledDates){if(options.enabledDates)delete options.enabledDates;opts.disabledDates={};for(var startD in options.disabledDates)if(String(startD).search(wcDateRegExp)!=-1&&options.disabledDates[startD]==1||String(startD).search(rangeRegExp)!=-1&&String(options.disabledDates[startD]).search(rangeRegExp)!=-1)opts.disabledDates[startD]=options.disabledDates[startD]}else if(options.enabledDates){opts.enabledDates={};for(startD in options.enabledDates)if(String(startD).search(wcDateRegExp)!=
-1&&options.enabledDates[startD]==1||String(startD).search(rangeRegExp)!=-1&&String(options.enabledDates[startD]).search(rangeRegExp)!=-1)opts.enabledDates[startD]=options.enabledDates[startD]}datePickers[options.id]=new datePicker(opts);datePickers[options.id].callback("create",datePickers[options.id].createCbArgObj())};var isVisible=function(id){return!id||!(id in datePickers)?false:datePickers[id].visible};addEvent(window,"unload",destroy);return{addEvent:function(obj,type,fn){return addEvent(obj,
type,fn)},removeEvent:function(obj,type,fn){return removeEvent(obj,type,fn)},stopEvent:function(e){return stopEvent(e)},show:function(inpID){return showDatePicker(inpID,false)},hide:function(inpID){return hideDatePicker(inpID)},createDatePicker:function(options){addDatePicker(options)},destroyDatePicker:function(inpID){destroySingleDatePicker(inpID)},cleanUp:function(){cleanUp()},printFormattedDate:function(dt,fmt,useImportedLocale){return printFormattedDate(dt,fmt,useImportedLocale)},setDateFromInput:function(inpID){if(!inpID||
!(inpID in datePickers))return false;datePickers[inpID].setDateFromInput()},setRangeLow:function(inpID,yyyymmdd){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setRangeLow(yyyymmdd)},setRangeHigh:function(inpID,yyyymmdd){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setRangeHigh(yyyymmdd)},setBespokeTitles:function(inpID,titles){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setBespokeTitles(titles)},addBespokeTitles:function(inpID,titles){if(!inpID||
!(inpID in datePickers))return false;datePickers[inpID].addBespokeTitles(titles)},parseDateString:function(str,format){return parseDateString(str,format)},setGlobalVars:function(json){affectJSON(json)},setSelectedDate:function(inpID,yyyymmdd){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setSelectedDate(yyyymmdd)},dateValidForSelection:function(inpID,dt){if(!inpID||!(inpID in datePickers))return false;return datePickers[inpID].canDateBeSelected(dt)},addDisabledDates:function(inpID,
dts){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].addDisabledDates(dts)},setDisabledDates:function(inpID,dts){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setDisabledDates(dts)},addEnabledDates:function(inpID,dts){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].addEnabledDates(dts)},setEnabledDates:function(inpID,dts){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setEnabledDates(dts)},disable:function(inpID){if(!inpID||
!(inpID in datePickers))return false;datePickers[inpID].disableDatePicker()},enable:function(inpID){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].enableDatePicker()},setCursorDate:function(inpID,yyyymmdd){if(!inpID||!(inpID in datePickers))return false;datePickers[inpID].setCursorDate(yyyymmdd)},getSelectedDate:function(inpID){return!inpID||!(inpID in datePickers)?false:datePickers[inpID].returnSelectedDate()},loadLanguage:function(){loadLanguage()},setDebug:function(dbg){debug=
!!dbg}}}();
(function($){var options={api:false,namespace:".scrollk",scrollDuration:500,thresholdItemWrapsPage:1.1,fixItemContainerWidth:true,factorCorrectContainerWidth:1.01,selectClippingContainer:".slider",selectItemContainer:".sliderItems",selectItem:".item",selectButtonPrevious:".previous",selectButtonNext:".next",classButtonActive:"active",classButtonInactive:"inactive",listenForFocusEvents:true,focusWholePage:true,listenForMouseWheelEvents:true,listenForViewportChangeEvents:true,direction:"auto",directionProperties:{h:{scrollToAxis:"x",
scrollPosition:"left",scrollOffset:"scrollLeft",width:"width",outerWidth:"outerWidth"},v:{scrollToAxis:"y",scrollPosition:"top",scrollOffset:"scrollTop",width:"height",outerWidth:"outerHeight"}},onInit:function(){},onPageChanged:function(){},onPagesRefreshed:function(){}};var instances=[];var scrollk={el:null,direction:null,directionProperties:null,opt:null,clippingContainer:null,itemContainer:null,items:null,pages:null,init:function(el,opt){this.opt=$.extend(true,{},options,opt||{});this.el=$(el);
this.el.data("scrollk"+this.opt.namespace,this);instances.push(this);iTim.observable(this);this.createEvent("init");this.createEvent("pageChanged");this.createEvent("pagesRefreshed");this.subscribe("init",this.opt.onInit);this.subscribe("pageChanged",this.opt.onPageChanged);this.subscribe("pagesRefreshed",this.opt.onPagesRefreshed);this.clippingContainer=this.el.find(this.el.find(this.opt.selectClippingContainer));this.itemContainer=this.el.find(this.el.find(this.opt.selectItemContainer));this.items=
this.el.find(this.el.find(this.opt.selectItem));this.buttonPrevious=this.el.find(this.el.find(this.opt.selectButtonPrevious));this.buttonNext=this.el.find(this.el.find(this.opt.selectButtonNext));if(this.opt.listenForFocusEvents)this.el.find("a, tabindex, input, select, textarea").on("focus"+this.opt.namespace,iTim.bind(this.onItemSelected,this));if(this.opt.listenForMouseWheelEvents)this.el.on("mousewheel"+this.opt.namespace,iTim.bind(this.onMouseWheel,this));if(this.opt.listenForViewportChangeEvents)$(window).bind("resize",
iTim.bind(this.onViewportChange,this));this.buttonPrevious.on("click"+this.opt.namespace,iTim.bind(this.onPrevious,this));this.buttonNext.on("click"+this.opt.namespace,iTim.bind(this.onNext,this));this.determineDirection();this.scrollTo(this.getSelectedItemFromScrollOffset());this.fire("init",null,this)},onItemSelected:function(e){var item=$(e.target).closest(this.opt.selectItem);if(!item.length)return;this.scrollTo(item,!this.opt.focusWholePage)},onMouseWheel:function(e,delta){if(delta<0)this.onNext(e);
else this.onPrevious(e)},onViewportChange:function(){var timeout=null;return function(){clearTimeout(timeout);setTimeout(iTim.bind(function(){this.refreshPages();this.scrollTo(this.getSelectedItemFromScrollOffset())},this),50)}}(),scrollTo:function(item,scrollToItemOnly){var offset=this.clippingContainer[this.directionProperties.scrollOffset]();var page=this.getPageForItem(item);if(!page)return;var position=Math.ceil(this.getPosition(scrollToItemOnly?item:page[0]));this.clippingContainer.stop().scrollTo(position,
this.opt.scrollDuration,{axis:this.directionProperties.scrollToAxis,onAfter:iTim.bind(function(){this.fire("pageChanged",page,this);this.updateControlState()},this)})},getPageForItem:function(item){item=$(item);if(!item.length)return null;var page=item.data("page"+this.opt.namespace);if(!page){this.refreshPages();return this.getPageForItem(item)}return page},refreshPages:function(){this.items=this.el.find(this.el.find(this.opt.selectItem));var clipWidth=this.clippingContainer[this.directionProperties.width]();
var lastPageStart=0;var page=[];var pages=[page];var itemsWidth=0;this.items.each(iTim.bind(function(i,item){item=$(item);var width=this.getItemWidth(item);var position=this.getPosition(item);itemsWidth+=width;if(page.length&&position+width>lastPageStart+this.opt.thresholdItemWrapsPage*clipWidth){lastPageStart=position;page=[];pages.push(page)}item.data("page"+this.opt.namespace,page);page.push(item)},this));this.pages=pages;if(this.opt.fixItemContainerWidth){itemsWidth=Math.ceil(itemsWidth*this.opt.factorCorrectContainerWidth);
this.itemContainer[this.directionProperties.width](itemsWidth)}this.fire("pagesRefreshed",{pages:pages},this)},getPosition:function(el){el=$(el);var position=el.position();return Math.max(0,position[this.directionProperties.scrollPosition])},updateControlState:function(){var hasPreviousPage=this.hasPreviousPage();var hasNextPage=this.hasNextPage();this.buttonPrevious.toggleClass(this.opt.classButtonActive,hasPreviousPage);this.buttonNext.toggleClass(this.opt.classButtonActive,hasNextPage);this.buttonPrevious.toggleClass(this.opt.classButtonInactive,
!hasPreviousPage);this.buttonNext.toggleClass(this.opt.classButtonInactive,!hasNextPage)},getSelectedItemFromScrollOffset:function(){var offset=this.clippingContainer[this.directionProperties.scrollOffset]();var rightBorder=offset+Math.ceil(this.clippingContainer[this.directionProperties.width]());var selectedItem=null;this.items.each(iTim.bind(function(i,item){var position=Math.ceil(this.getPosition(item));var width=Math.ceil(this.getItemWidth(item));if(position>offset&&position+width>=rightBorder){if(!selectedItem)selectedItem=
item;return false}selectedItem=item},this));return $(selectedItem)},getItemWidth:function(item){item=$(item);return item[this.directionProperties.outerWidth](true)},onNext:function(e){var hasNextPage=this.hasNextPage();if(hasNextPage||e.type!="mousewheel")e.preventDefault();if(!hasNextPage)return;this.scrollTo(this.getNextPage()[0])},getNextPage:function(){var page=this.getPageForItem(this.getSelectedItemFromScrollOffset());var newPage=this.pages[$.inArray(page,this.pages)+1];return newPage||null},
hasNextPage:function(){return!!this.getNextPage()},onPrevious:function(e){var hasPreviousPage=this.hasPreviousPage();if(hasPreviousPage||e.type!="mousewheel")e.preventDefault();if(!hasPreviousPage)return;this.scrollTo(this.getPreviousPage()[0])},getPreviousPage:function(){var page=this.getPageForItem(this.getSelectedItemFromScrollOffset());var newPage=this.pages[$.inArray(page,this.pages)-1];return newPage||null},hasPreviousPage:function(){return!!this.getPreviousPage()},determineDirection:function(){if(this.opt.direction!=
"auto"){this.direction=this.opt.direction;return}var x=[];var y=[];this.items.each(iTim.bind(function(i,item){item=$(item);var position=item.position();if(-1==$.inArray(position.left,x))x.push(position.left);if(-1==$.inArray(position.top,y))y.push(position.top);if(i==5)return false},this));if(x.length<y.length)this.direction="v";else this.direction="h";this.directionProperties=this.opt.directionProperties[this.direction]}};$.scrollk={options:options,baseScrollk:scrollk,instances:instances};$.fn.scrollk=
function(settings){var instance=null;this.each(function(){instance=iTim.object(scrollk);instance.init(this,settings)});if(settings&&settings.api)return instance;else return this}})(jQuery);
(function($){iTim.ns("$.modalOverlay",null,{baseController:{items:null,order:null,error:null,timeToError:15*1E3,timeoutError:null,run:function(method,who,cb){cb=cb||function(){};clearTimeout(this.timeoutError);this.timeoutError=null;this.error=false;var running=0;var asyncReturn=null;var ready=iTim.bind(function(){--running;if(asyncReturn&&!running)asyncReturn()},this);var runCallback=iTim.bind(function(){cb.call(who,this,method)},this);this.timeoutError=setTimeout(iTim.bind(function(){if(running){iTim.log("async controller timeout",
method,running,who);this.error=true;runCallback()}},this),this.timeToError);iTim.each(this.order,function(i,item){item=this.items[item];if(item&&item.callMethod(method,who,ready))++running},this);if(!running)runCallback();else asyncReturn=iTim.bind(function(){runCallback()},this)},runSequence:function(methods,who,cb){var method=methods.shift();this.run(method,who,iTim.bind(function(){if(methods.length)this.runSequence(methods,who,cb);else if(cb)cb.call(who,this,methods)},this))},set:function(name,
obj){if(!this.items[name]){this.order.push(name);obj.pluginName=name}this.items[name]=obj},before:function(name,obj){this.order.unshift(name);this.items[name]=obj},create:function(){var newObj=iTim.object(this);if(this.items){newObj.items=iTim.extend({},this.items);newObj.order=this.order.slice()}return newObj},init:function(){this.items={};this.order=[];return this}},basePlugin:{pluginOptions:null,pluginLang:null,contextOptions:null,callMethod:function(method,who,cb){if(this[method]){this[method](who,
cb);return true}else return false},opt:function(context){return context.opt.plugins[this.pluginName]},lang:function(context,key){return context.opt.lang[iTim.format("{0}.{1}",this.pluginName,key)]||""},create:function(obj){var instance=iTim.object(this);iTim.extend(instance,obj||{});if(obj.pluginOptions&&this.pluginOptions)instance.pluginOptions=$.extend(true,{},this.pluginOptions,obj.pluginOptions);if(obj.contextOptions&&this.contextOptions)instance.contextOptions=$.extend(true,{},this.contextOptions,
obj.contextOptions);return instance}}})})(jQuery);
(function($,iTim){var modal=iTim.ns("$.modalOverlay");var options={api:false,namespace:".modalOverlay",skin:"default",modal:false,classes:{container:"modalOverlay",bg:"overlayBg",logo:"overlayLogo",layer:"overlayContent",content:"overlayContentInner",player:"overlayPlayer",hasModal:"hasModalOverlay",preloading:"overlayPreloading",transitioning:"overlayTransitioning",visible:"overlayVisible",inactive:"overlayItemInactive"},templates:{container:iTim.format('\x3cdiv class\x3d"modalOverlay"\x3e\x3cdiv class\x3d"overlayBg"\x3e\x3c/div\x3e\x3cdiv class\x3d"overlayLogo"\x3e\x3c/div\x3e\x3c/div\x3e'),layer:'\x3cdiv class\x3d"overlayContent" role\x3d"dialog"\x3e\x3cdiv class\x3d"overlayContentInner"\x3e'+
'\x3cdiv class\x3d"overlayPlayer"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'},content:{href:null,player:null,width:null,height:null,gallery:null},plugins:{},player:{},lang:{},galleryIndex:null,preloaded:null,modalId:null};var instances=[];var currentInstance=null;var instanceBefore=null;var plugins=modal.baseController.create().init();var players={};var basePlayer=modal.basePlugin.create({regexFilePattern:null,playerName:null,canPlay:function(opt){if(!this.regexFilePattern||!opt.content.href)return false;
var url=iTim.url(opt.content.href);return this.regexFilePattern.test(url.pathname)},opt:function(context){return $.extend(true,{},context.opt.plugins[this.pluginName],context.opt.player)},insertHtml:function(context,cb){context.select("player").addClass(iTim.ccase("overlayPlayer-"+this.playerName));cb()}});var extractors=modal.baseController.create().init();var baseModalOverlay=modal.basePlugin.create({el:null,containerEl:null,linkEl:null,opt:null,initialized:false,isVisible:false,state:null,bindLink:function(linkEl){this.linkEl=
$(linkEl).bind("click"+this.opt.namespace,iTim.bind(function(e){this.sendShow(function(){});e.preventDefault()},this))},ensureElements:function(){this.containerEl=this.containerEl||$("."+this.opt.classes.container);if(!this.containerEl.length){this.containerEl=$(this.opt.templates.container).appendTo(document.body);this.plugins.run("initContainer",this,function(){});$(window).bind("resize"+this.opt.namespace,iTim.bind(function(){if(currentInstance)currentInstance.plugins.run("viewportChanged",currentInstance)},
this))}this.containerEl.find("."+this.opt.classes.bg).unbind(this.opt.namespace).bind("click"+this.opt.namespace,function(e){if(!currentInstance.opt.modal)currentInstance.sendHide(function(){})});if(!this.el||!this.el.length)this.el=$(this.opt.templates.layer).appendTo(this.containerEl).data("modalOverlay"+this.opt.namespace,this)},select:function(sel){return this.opt.classes[sel]?$(this.el).find("."+this.opt.classes[sel]).andSelf().closest("."+this.opt.classes[sel]):$(this.el).find(sel).andSelf().closest(sel)},
toggleItem:function(sel,active){if(active)return this.activateItem(sel);else return this.deactivateItem(sel)},activateItem:function(sel){return this.select(sel).removeClass(this.opt.classes.inactive).attr("aria-disabled",false)},deactivateItem:function(sel){return this.select(sel).addClass(this.opt.classes.inactive).attr("aria-disabled",true)},insertHtml:function(who,cb){this.ensureElements();$(document.body).addClass(this.opt.classes.hasModal);this.containerEl.addClass(iTim.ccase("overlay-"+this.opt.skin));
setTimeout(function(){cb()},10)},preload:function(who,cb){this.el.addClass(this.opt.classes.preloading);setTimeout(function(){cb()},10)},insertContent:function(who,cb){setTimeout(function(){cb();picturefill();bindModalOverlay(false)},10)},beforeTransitionIn:function(who,cb){this.el.removeClass(this.opt.classes.preloading);this.el.addClass(this.opt.classes.transitioning);if(jQuery("#overlayTargetLink")!=undefined&&who.linkEl!=null&&who.linkEl[0].parentElement.getAttribute("xpart")!=undefined)jQuery("#overlayTargetLink").attr("href",
who.linkEl[0].parentElement.getAttribute("xpart"));setTimeout(function(){cb()},10)},transitionIn:function(who,cb){this.el.addClass(this.opt.classes.visible);setTimeout(function(){cb()},10)},afterTransitionIn:function(who,cb){this.el.removeClass(this.opt.classes.transitioning);setTimeout(function(){cb()},10)},beforeTransitionOut:function(who,cb){this.el.addClass(this.opt.classes.transitioning);setTimeout(function(){cb()},10)},transitionOut:function(who,cb){setTimeout(function(){cb()},10)},afterTransitionOut:function(who,
cb){this.el.hide();this.el.removeClass(this.opt.classes.transitioning);if(!currentInstance||currentInstance&&currentInstance.opt.skin!=this.opt.skin)this.containerEl.removeClass(iTim.ccase("overlay_"+this.opt.skin));cb()},hideContainer:function(who,cb){this.removeHtml();$(document.body).removeClass(this.opt.classes.hasModal);cb()},removeHtml:function(){this.el.remove();this.el=null},viewportChanged:function(who,cb){cb()},sendHideForChange:function(cb){this.state.closing=true;this.state.changing=true;
this.isVisible=false;currentInstance=null;this.plugins.runSequence(["beforeTransitionOut","transitionOut","afterTransitionOut"],this,iTim.bind(function(){this.state.closing=false;this.state.changing=false;cb&&cb()},this))},sendHideFast:function(cb){this.state.closing=true;this.isVisible=false;currentInstance=null;this.plugins.runSequence(["hideContainer"],this,iTim.bind(function(){this.state.closing=false;cb&&cb()},this))},sendHide:function(cb){this.state.closing=true;this.isVisible=false;currentInstance=
null;this.plugins.runSequence(["beforeTransitionOut","transitionOut","afterTransitionOut","hideContainer"],this,iTim.bind(function(){this.state.closing=false;cb&&cb()},this))},sendShow:function(cb){cb=cb||function(){};if(!this.state.changing)this.state.opening=true;if(this.isVisible){cb();return}if(currentInstance&&currentInstance!=this){lastInstance=currentInstance;this.isVisible=true;this.plugins.runSequence(["insertHtml","preload"],this,iTim.bind(function(){lastInstance.sendHideForChange();currentInstance=
this;this.plugins.runSequence(["insertContent","beforeTransitionIn","transitionIn","afterTransitionIn"],this,iTim.bind(function(){this.state.opening=false;this.state.changing=false;cb&&cb()},this))},this))}else if(!currentInstance){currentInstance=this;this.plugins.runSequence(["insertHtml","preload","insertContent","beforeTransitionIn","transitionIn","afterTransitionIn"],this,iTim.bind(function(){this.state.opening=false;this.state.changing=false;cb&&cb()},this))}},sendShowForChange:function(cb){this.state.changing=
true;return this.sendShow(cb)},trigger:function(name,args){args=[$.extend({modalOverlay:this},args||{})];return this.el.trigger(name,args)},init:function(){if(this.initialized)return;this.state={changing:false,opening:false,closing:false};this.plugins=plugins.create();var player=this.player=players[this.opt.content.player];this.plugins.before("player",player);this.plugins.before("container",this);iTim.each(this.opt.plugins,function(i,plugin){if(!plugin||plugin.disabled)this.plugins.set(i,false);else if(plugin===
true)this.opt.plugins[i]=$.extend(true,{},this.plugins.items[i].pluginOptions)},this);this.initialized=true}});var common={baseModalOverlay:baseModalOverlay,basePlayer:basePlayer,players:players,instances:instances,options:options,plugins:plugins,extractors:extractors,show:function(opt,cb){return this.setup(opt,function(modal){modal.sendShow(cb)})},setup:function(opt$$0,cb){var modal=null;if(!isNaN(+opt$$0))modal=instances[opt$$0];else if(opt$$0&&!isNaN(+opt$$0.modalId))modal=instances[opt$$0.modalId];
else if(opt$$0.opt&&!isNaN(+opt$$0.opt.modalId))modal=opt$$0;if(!modal){modal=iTim.object(baseModalOverlay);opt$$0.modalId=instances.push(modal)-1;this.extract(opt$$0,function(opt){modal.opt=$.extend(true,{},options,opt);modal.init();if(cb)cb(modal)})}return modal},addPlayer:function(name,player){player.playerName=name;this.players[name]=player;this.addPlugin(name,player)},addPlugin:function(name,plugin){$.extend(true,this.options,plugin.contextOptions||{});if(plugin.pluginLang)iTim.each(plugin.pluginLang,
function(key,value){key=iTim.format("{0}.{1}",name,key);this.options.lang[key]=value},this);this.options.plugins[name]=plugin.pluginOptions||{};if(!plugin.playerName)this.plugins.set(name,plugin);else plugin.pluginName=plugin.playerName},addExtractor:function(name,extractor){extractor.extractorName=name;extractors.set(name,extractor)},extract:function(context,onComplete){onComplete=onComplete||function(){};if(typeof context=="string")context={opt:{content:{href:context}}};if(!context.opt)context=
{opt:context};extractors.run("extract",context,function(){onComplete(context.opt)});return context.opt},hide:function(cb){if(currentInstance)currentInstance.sendHide(cb)},close:function(cb){return this.hide(cb)},closeFast:function(cb){if(currentInstance)currentInstance.sendHideFast(cb)},get:function(opt){return currentInstance}};$.extend($.modalOverlay,common);$.extend($.fn,{modalOverlay:function(opt){opt=opt||{};var jq=this;var firstInstance=null;this.each(function(i){var el=$(this);var setup=$.extend(true,
{},options,opt);var instance=el.data("modalOverlay"+setup.namespace);if(!instance)el.contextual(function(linkOpt){setup=$.extend(true,{},opt,linkOpt);instance=common.setup(setup);el.data("modalOverlay"+setup.namespace,instance);instance.bindLink(el)});if(i==0)firstInstance=instance});if(opt.api)return firstInstance;else return jq}})})(jQuery,iTim);
(function($){var modal=$.modalOverlay;var options={useMetaData:true,propertyConfigData:"data-contextual",onComplete:function(){},getDescription:function(link){return $(link).find(".linkDescription").andSelf().nextAll(".linkDescription").andSelf().filter(".linkDescription").eq(0)},extracted:null,link:null};var extractors=modal.baseController.create().init();extractors.set("linkDefault",modal.basePlugin.create({extract:function(context,cb){var link=$(context.link);$.extend(true,context.extracted,{content:{title:link.attr("title"),
href:link.attr("href")}});if(context.useMetaData)$.extend(true,context.extracted,$(link).metadata());var data=link.data(context.propertyConfigData);if(data)$.extend(true,context.extracted,JSON.parse(link.data(context.propertyConfigData)));cb()}}));var linkDescriptions=[null];extractors.set("description",modal.basePlugin.create({extract:function(context,cb){var link=$(context.link);var description=context.getDescription(link);if(description)context.extracted.content.descriptionCacheKey=linkDescriptions.push(description)-
1;cb()}}));var common={addExtractor:function(name,extractor){extractor.extractorName=name;extractors.set(name,extractor)},extract:function(opt){if(opt.nodeType)opt={link:opt};var context=$.extend({},options,opt);context.extracted=context.extracted||{};extractors.run("extract",context,function(){context.onComplete(context.extracted)});return context.extracted},extractors:extractors,options:options,linkDescriptions:linkDescriptions};$.extend({contextual:common});$.extend($.fn,{contextual:function(opt){opt=
opt||{};if(typeof opt=="function")opt={onComplete:opt};if(!this.length){if(opt.onComplete)opt.onComplete();return{}}opt.link=this.get(0);return common.extract(opt)}})})(jQuery);
(function($,iTim){var modal=$.modalOverlay;$.modalOverlay.addPlayer("ajax",modal.basePlayer.create({contextOptions:{content:{ajaxContent:null}},pluginOptions:{ajax:{},getContent:function(responseText,context){responseText=this.getContent(responseText,context.opt.content.href);return responseText}},regexFilePattern:/\.(html|jsp|php|shtml|htm|do)$|\/[^.]*$/i,canPlay:function(opt){var url=iTim.url(opt.content.href);return this.__prototype.canPlay.apply(this,arguments)&&(url.host==location.host||!url.host)},
getContent:function(responseText,href){responseText=this.getBody(responseText);responseText=this.removeScripts(responseText);responseText=this.rewriteUrls(responseText,href);return responseText},rewriteUrls:function(responseText,href){var base=iTim.url(location).resolve(href);responseText=responseText.replace(/(href|src)=(['"])([\s\S]+?)\2/gi,function(match,attr,del,value){if(value.match(/^(?:javascript|mailto):|^#.*$/i))return match;return iTim.format("{0}\x3d{1}{2}{1}",attr,del,base.resolve(value).href)});
return responseText},getBody:function(responseText){return responseText.replace(/(?:^[\s\S]*<body[\s\S]*?>)|(?:<\/body>[\s\S]*$)/gi,"")},removeScripts:function(responseText){return responseText.replace(/<script[\s\S]*?<\/script>/gi,"")},preload:function(context,cb){if(context.opt.content.ajaxContent){cb();return}var opt=this.opt(context);var config=$.extend({},opt.ajax,{cache:false,url:context.opt.content.href,complete:iTim.bind(function(xhr){context.opt.preloaded=true;context.opt.content.ajaxContent=
opt.getContent.call(this,xhr.responseText,context);cb()},this)});$.ajax(config)},insertHtml:function(context,cb){context.select("player").html('\x3cdiv class\x3d"overlayPlayerContent"/\x3e');this.__prototype.insertHtml.apply(this,arguments)},insertContent:function(context,cb){context.select(".overlayPlayerContent").append(context.opt.content.ajaxContent);cb()}}))})(jQuery,iTim);
(function($){$.modalOverlay.addPlugin("copyright",$.modalOverlay.basePlugin.create({contextOptions:{content:{copyright:null}},pluginOptions:{selectEl:".overlayNavigationBottom \x3e .overlayNavigationInner"},pluginLang:{text:"{2} {0}"},insertHtml:function(context,cb){context.select(this.opt(context).selectEl).append('\x3cspan class\x3d"overlayCopyright"\x3e\x3c/span\x3e');cb()},insertContent:function(context,cb){var text=iTim.format(this.lang(context,"text"),(new Date).getFullYear(),context.opt.content.copyright||
"","\x26copy;");context.select(".overlayCopyright").append(text);cb()}}))})(jQuery);
(function($){var galleryDescriptions=[null];$.contextual.addExtractor("galleryDescription",$.modalOverlay.basePlugin.create({extract:function(context,cb){var link=$(context.link);var description=context.getGalleryDescription(link);if(description)context.extracted.content.galleryDescriptionCacheKey=galleryDescriptions.push(description)-1;cb()}}));$.contextual.options.getGalleryDescription=function(link){return $(link).closest(".module").find(".galleryDescription").eq(0)};$.contextual.galleryDescriptions=
galleryDescriptions;$.modalOverlay.addPlugin("galleryDescription",$.modalOverlay.basePlugin.create({contextOptions:{content:{galleryDescriptionCacheKey:null,galleryDescription:null}},pluginOptions:{where:"append",method:"clone",selectEl:"content"},insertHtml:function(context,cb){var opt=this.opt(context);context.select(opt.selectEl)[opt.where]('\x3cdiv class\x3d"overlayGalleryDescription"\x3e\x3c/div\x3e');cb()},insertContent:function(context,cb){var opt=this.opt(context);var description=galleryDescriptions[context.opt.content.galleryDescriptionCacheKey];
if(!description&&context.opt.content.galleryDescription){description=context.opt.content.galleryDescription;if(typeof description=="function")description=description.apply(context);description=$('\x3cdiv class\x3d"overlayDescriptionText"\x3e\x3c/div\x3e').append(description)}var hasDescription=!!(description&&description.length);context.toggleItem(".overlayGalleryDescription",hasDescription);if(!hasDescription){cb();return}if(opt.method=="clone")description=description.clone(true);context.select(".overlayGalleryDescription").append(description);
cb()}}))})(jQuery);
(function($,iTim){var modal=$.modalOverlay;$.modalOverlay.addPlayer("iframe",modal.basePlayer.create({contextOptions:{content:{originalHeight:null},templates:{iframe:'\x3ciframe style\x3d"visibility: hidden; {{if scrolling \x3d\x3d "no"}}overflow: hidden;{{/if}}" class\x3d"overlayPlayerContent" id\x3d"{{\x3d id }}" name\x3d"{{\x3d id }}" height\x3d"{{\x3d height }}" width\x3d"{{\x3d width }}" frameborder\x3d"0" marginwidth\x3d"0" marginheight\x3d"0" scrolling\x3d"{{\x3d scrolling }}" {{if ie}}allowtransparency\x3d"true"{{/if}} {{if ie6}}src\x3d"javascript:false;document.write(\'\');"{{/if}} \x3e\x3c/iframe\x3e'}},pluginOptions:{scrolling:"fallback",
adjustIframeHeightToContent:false,selectContentBody:".pageWrapper, body",pollingInterval:100,classInLightbox:"inLightbox",tryAdjustIframeHeight:function(context){var opt=this.opt(context);var iframe=context.select(".overlayPlayerContent");try{var contents=iframe.contents();var documentElement=contents.get(0).documentElement;if(-1==documentElement.className.indexOf(opt.classInLightbox))documentElement.className+=" "+opt.classInLightbox;var body=contents.find(opt.selectContentBody);var height=body.outerHeight(true);
if(!context.opt.content.originalHeight)context.opt.content.originalHeight=context.opt.content.height;context.opt.content.height=height;iframe.css({height:height})}catch(ex){iTim.log("cross-domain error in $.modalOverlay.players.iframe:",ex);this.trySetFallbackScrollbars(context);this.stopPolling()}}},regexFilePattern:/\.(html|jsp|php|shtml|htm|do)$|\/[^.]*$/i,canPlay:function(opt){var url=iTim.url(opt.content.href);return this.__prototype.canPlay.apply(this,arguments)||url.pathname&&url.pathname==
url.path},id:"overlayIframe",numberOfInstances:0,pollingInterval:null,preload:function(context,cb){var opt=this.opt(context);var url=iTim.url(location).resolve(context.opt.content.href).href;var player=this;var iframe=$.tmpl(context.opt.templates.iframe,{id:this.id+this.numberOfInstances++,ie:$.browser.msie,ie6:$.browser.msie&&+$.browser.version<7,height:context.opt.content.height,width:context.opt.content.width,scrolling:opt.scrolling=="yes"||opt.scrolling===true?"yes":opt.scrolling=="no"||opt.scrolling==
"fallback"||!opt.scrolling?"no":"auto"}).appendTo(context.select("player"));iframe.bind("load error",function(e){if(this.src==url){context.opt.preloaded=true;player.startPolling(context);cb()}}).attr("src",url)},startPolling:function(context){var opt=this.opt(context);opt.tryAdjustIframeHeight.call(this,context);if(opt.pollingInterval!=null)this.pollingInterval=setInterval(iTim.bind(function(){if(modal.get()!=context)this.stopPolling();opt.tryAdjustIframeHeight.call(this,context)},this),opt.pollingInterval)},
stopPolling:function(){clearInterval(this.pollingInterval)},trySetFallbackScrollbars:function(context){if(this.opt(context).scrolling=="fallback")context.select(".overlayPlayerContent").attr("scrolling","auto").css("overflow","auto")},insertContent:function(context,cb){context.select(".overlayPlayerContent").css({visibility:"visible"});cb()},beforeTransitionOut:function(context,cb){this.stopPolling();cb()},print:function(){$.modalOverlay.get().select(".overlayPlayerContent").get(0).contentWindow.print()}}))})(jQuery,
iTim);
(function($,iTim){var modal=$.modalOverlay;$.modalOverlay.addPlayer("image",modal.basePlayer.create({regexFilePattern:/\.(jpe?g|png|gif)$/i,preload:function(context,cb){var image=new Image;var content=context.opt.content;image.onload=function(){context.opt.preloaded=true;content.width=content.width||this.width;content.height=content.height||this.height;cb()};image.src=context.opt.content.href;image=null},insertContent:function(context,cb){var content=context.opt.content;var alt=content.alt||content.title||
"";context.select("player").append(iTim.format('\x3cimg class\x3d"overlayPlayerContent" alt\x3d"{0}" src\x3d"{1}" width\x3d"{2}" height\x3d"{3}" /\x3e',alt,content.href,content.width,content.height));cb()}}))})(jQuery,iTim);
(function($,iTim){var modal=$.modalOverlay;$.modalOverlay.addPlayer("inline",modal.basePlayer.create({pluginOptions:{clone:false},canPlay:function(opt){return opt.content.href&&iTim.url(opt.content.href).hash==opt.content.href&&$(opt.content.href).length},preload:function(context,cb){var el=$(context.opt.content.href);if(el.is(":visible")){context.opt.content.width=context.opt.content.width||el.width();context.opt.content.height=context.opt.content.height||el.height()}context.opt.preloaded=true;cb()},
insertHtml:function(context,cb){context.select("player").html('\x3cdiv class\x3d"overlayPlayerContent"/\x3e');this.__prototype.insertHtml.apply(this,arguments)},insertContent:function(context,cb){var el=$(context.opt.content.href);if(this.opt(context).clone)el=el.clone(true);el.data("parentElement",el.parent());el.appendTo(context.select(".overlayPlayerContent"));cb()},afterTransitionOut:function(context,cb){if(!this.opt(context).clone){var el=$(context.opt.content.href);el.appendTo(el.data("parentElement"))}cb()}}))})(jQuery,
iTim);
(function($){var modal=$.modalOverlay;var async=$.modalOverlay;modal.addPlugin("loader",async.basePlugin.create({el:null,pluginOptions:{bgUrl:"/scripts/dkb/loader.png",isStaticImage:false,minDisplayTime:1E3},error:false,spriteSize:null,numberOfFrames:null,animationInterval:null,insertHtml:function(context,cb){var plugin=this;var opt=this.opt(context);var runAnimation=iTim.bind(function(){var startTime=(new Date).getTime();this.el.show();if(!opt.isStaticImage){var interval=500/this.numberOfFrames;this.animationInterval=
setInterval(function(){var time=(new Date).getTime()-startTime;var ticks=Math.floor(time/interval);plugin.el.css({backgroundPosition:-plugin.spriteSize*(ticks%plugin.numberOfFrames)+"px 0"})},interval)}},this);this.tryInitEl(context,function(){if(!plugin.error&&!context.opt.preloaded)runAnimation();cb()})},tryInitEl:function(context,cb){if(this.el){cb();return}this.el=$('\x3cdiv class\x3d"overlayLoader"\x3e\x3c/div\x3e').appendTo(context.containerEl);var preload=new Image;var plugin=this;var opt=
this.opt(context);preload.onload=function(){plugin.spriteSize=this.height;if(opt.isStaticImage)plugin.numberOfFrames=1;else plugin.numberOfFrames=Math.floor(this.width/this.height);plugin.el.css({background:iTim.format("url({0}) no-repeat 0 0",this.src),width:plugin.spriteSize+"px",height:plugin.spriteSize+"px",margin:iTim.format("-{0}px 0 0 -{0}px",plugin.spriteSize/2)});preload.onerror=preload.onload=null;preload=null;cb()};preload.onerror=function(){plugin.error=true;preload.onerror=preload.onload=
null;preload=null;cb()};preload.src=this.opt(context).bgUrl},preload:function(context,cb){if(context.opt.preloaded){cb();return}setTimeout(function(){cb()},this.opt(context).minDisplayTime)},beforeTransitionIn:function(context,cb){this.el.hide();clearInterval(this.animationInterval);cb()}}))})(jQuery);
(function($){var modal=$.modalOverlay;var basePlugin=modal.basePlugin;modal.addExtractor("modalHrefFromDeeplink",basePlugin.create({extract:function(context,cb){var content=context.opt.content;var url=iTim.url(content.href);var inherits=url.params.modalOptions||context.opt.inherits;if(url.params.modalContent){content.deepLinkParent=url.pathname;content.deepLinkHref=content.href;content.href=url.params.modalContent}if(url.params.modalParent)content.deepLinkParent=url.params.modalParent;content.width=
+url.params.modalWidth||content.width;content.height=+url.params.modalHeight||content.height;if(!content.width)delete content.width;if(!content.height)delete content.height;if(inherits)context.opt[iTim.StoredOptions.keyInherits]=inherits;cb()}}));modal.addExtractor("storedOptions",basePlugin.create({extract:function(context,cb){context.opt=iTim.StoredOptions.get(context.opt);cb()}}));var galleries=modal.galleries={};modal.addExtractor("gallery",basePlugin.create({extract:function(context,cb){var content=
context.opt.content;if(!content.gallery){cb();return}var gallery=galleries[content.gallery]=galleries[content.gallery]||[];context.opt.galleryIndex=gallery.push(context.opt.modalId)-1;cb()}}));modal.galleryNext=function(){var context=this.get();if(!context)return;var gallery=galleries[context.opt.content.gallery];var index=context.opt.galleryIndex;var layer=modal.setup(gallery[(index+1)%gallery.length]);layer.sendShow();return layer};modal.galleryPrevious=function(){var context=this.get();if(!context)return;
var gallery=galleries[context.opt.content.gallery];var index=context.opt.galleryIndex;var layer=modal.setup(gallery[(index+gallery.length-1)%gallery.length]);layer.sendShow();return layer};modal.galleryHasNext=function(){var context=this.get();if(!context)return false;var gallery=galleries[context.opt.content.gallery];if(!gallery)return false;var index=context.opt.galleryIndex;return index+1<gallery.length};modal.galleryHasPrevious=function(){var context=this.get();if(!context)return false;var gallery=
galleries[context.opt.content.gallery];if(!gallery)return false;var index=context.opt.galleryIndex;return index-1>=0};modal.addExtractor("defaultPlayer",basePlugin.create({extract:function(context,cb){var content=context.opt.content;if(content.player){cb();return}var url=iTim.url(content.href);$.each(modal.players,function(name){if(this.canPlay(context.opt)){content.player=name;return false}});cb()}}));modal.baseNavigationPlugin=basePlugin.create({navigationName:"default",isToolbar:true,pluginOptions:{where:"append",
selectEl:"content"},insertHtml:function(context,cb){var opt=this.opt(context);context.select(opt.selectEl)[opt.where](iTim.format('\x3cdiv class\x3d"overlayNavigation {0} {1}"\x3e\x3cdiv class\x3d"overlayNavigationInner"\x3e\x3c/div\x3e\x3c/div\x3e',iTim.ccase("overlayNavigation_"+this.navigationName),this.isToolbar?"overlayToolbar":""));cb()}});modal.addPlugin("toolbarTop",modal.baseNavigationPlugin.create({navigationName:"top",pluginOptions:{where:"prepend"}}));modal.addPlugin("toolbarBottom",modal.baseNavigationPlugin.create({navigationName:"bottom"}));
modal.addPlugin("navigationAbove",modal.baseNavigationPlugin.create({navigationName:"above",isToolbar:false,pluginOptions:{selectEl:"player"}}));modal.addPlugin("shadow",basePlugin.create({pluginOptions:{selectEl:"layer",t:"../../images/shadow/shadowTop.png",rt:"../../images/shadow/shadowRightTop.png",r:"../../images/shadow/shadowRight.png",rb:"../../images/shadow/shadowRightBottom.png",b:"../../images/shadow/shadowBottom.png",lb:"../../images/shadow/shadowLeftBottom.png",l:"../../images/shadow/shadowLeft.png",
lt:"../../images/shadow/shadowLeftTop.png"},insertHtml:function(context,cb){var html="";var opt=this.opt(context);$.each(opt,function(key){if(!/^\w\w?$/.test(key)||!this)return;html+=iTim.format('\x3cimg alt\x3d"" src\x3d"{1}" class\x3d"shadow {0}" /\x3e',"shadow-"+key,this)});context.select(opt.selectEl).prepend(iTim.format('\x3cdiv class\x3d"overlayShadow"\x3e{0}\x3c/div\x3e',html));cb()}}));modal.addPlugin("title",basePlugin.create({pluginOptions:{selectEl:".overlayNavigationTop \x3e .overlayNavigationInner"},
insertHtml:function(context,cb){context.select(this.opt(context).selectEl).prepend('\x3cdiv role\x3d"heading" class\x3d"overlayTitle" id\x3d"overlayTitle"\x3e\x3c/div\x3e');cb()},insertContent:function(context,cb){var content=context.opt.content;context.toggleItem(".overlayTitle",content.title).html(content.title||"");cb()}}));modal.addPlugin("galleryPaging",basePlugin.create({pluginOptions:{selectEl:".overlayNavigationTop \x3e .overlayNavigationInner"},pluginLang:{pageOf:'Page \x3cspan class\x3d"overlayPage overlayPageActive"\x3e{0}\x3c/span\x3e of \x3cspan class\x3d"overlayPageNumber"\x3e{1}\x3c/span\x3e'},
insertHtml:function(context,cb){var nav=context.select(this.opt(context).selectEl);var paging=$('\x3cdiv role\x3d"log" class\x3d"overlayPaging"\x3e\x3c/div\x3e').appendTo(nav);cb()},insertContent:function(context,cb){var content=context.opt.content;var gallery=galleries[content.gallery];var galleryEl=context.toggleItem(".overlayPaging",!!content.gallery);if(gallery)galleryEl.html(iTim.format(this.lang(context,"pageOf"),$.inArray(context.opt.modalId,gallery)+1,galleries[content.gallery].length));cb()}}));
var baseButton=modal.baseButton=basePlugin.create({buttonName:"default",onClick:null,pluginLang:{text:null},pluginOptions:{selectEl:".overlayToolbar \x3e .overlayNavigationInner",tabindex:10},contextOptions:{templates:{button:'\x3cspan tabindex\x3d"{{\x3d tabindex }}" role\x3d"button" class\x3d"overlayButton {{\x3d cls }}" title\x3d"{{\x3d title }}"\x3e\x3cspan class\x3d"overlayIcon"\x3e\x3c/span\x3e\x3cspan class\x3d"overlayText"\x3e{{\x3d title }}\x3c/span\x3e\x3c/span\x3e'}},insertHtml:function(context,
cb){var opt=this.opt(context);var button=$.tmpl(context.opt.templates.button,{cls:iTim.ccase("overlayButton_"+this.buttonName),title:this.lang(context,"text"),tabindex:opt.tabindex}).appendTo(context.select(opt.selectEl));button.bind("click",iTim.bind(function(e){this.onClick(context)},this));button.bind("keypress",iTim.bind(function(e){if(e.keyCode==13)this.onClick(context)},this));cb()}});modal.addPlugin("buttonPrint",baseButton.create({buttonName:"print",pluginOptions:{selectEl:".overlayNavigationBottom \x3e .overlayNavigationInner",
tabindex:40},contextOptions:{content:{printable:true}},pluginLang:{text:"Print"},onClick:function(context){if(context.player.print)try{context.player.print()}catch(ex){print()}else print()},insertContent:function(context,cb){context.toggleItem(".overlayButtonPrint",context.opt.content.printable);cb()}}));modal.addPlugin("buttonDownload",baseButton.create({buttonName:"download",pluginOptions:{selectEl:".overlayNavigationBottom \x3e .overlayNavigationInner",tabindex:50},pluginLang:{text:"Download"},
onClick:function(context){this.opt(context).handleClick.call(this,context)},contextOptions:function(){content:downloadHref:null},pluginOptions:{openNewWindow:false,handleClick:function(context){if(this.opt(context).openNewWindow)open(context.opt.content.downloadHref);else location=context.opt.content.downloadHref}},insertContent:function(context,cb){context.toggleItem(".overlayButtonDownload",!!context.opt.content.downloadHref);cb()}}));modal.addPlugin("galleryNav",basePlugin.create({pluginOptions:{hotKeys:true,
isCircular:true,order:"previous next",selectEl:".overlayNavigationTop \x3e .overlayNavigationInner, .overlayNavigationAbove \x3e .overlayNavigationInner"},pluginLang:{next:"Next",previous:"Previous"},initContainer:function(){$(document).bind("keyup",iTim.bind(function(e){var context=modal.get();if(context){var opt=this.opt(context);if(!opt.hotKeys)return;var gallery=galleries[context.opt.content.gallery];if(!gallery)return;if(e.metaKey||e.ctrlKey||e.altKey)return;var index=$.inArray(context.opt.modalId,
gallery);switch(e.keyCode){case 27:context.sendHide();e.preventDefault();break;case 37:if(!opt.isCircular&&!modal.galleryHasPrevious())return;e.preventDefault();modal.galleryPrevious();break;case 39:case 32:if(!opt.isCircular&&!modal.galleryHasNext())return;e.preventDefault();modal.galleryNext();break}}},this))},insertHtml:function(context,cb){var opt=this.opt(context);var nav=context.select(opt.selectEl);var gallery=galleries[context.opt.content.gallery];var buttons={};buttons.previous=$.tmpl(context.opt.templates.button,
{cls:"overlayButtonPrevious",title:this.lang(context,"previous"),tabindex:30}).bind("click",function(e){e.preventDefault();if(!opt.isCircular&&!modal.galleryHasPrevious())return;modal.galleryPrevious()}).bind("keypress",function(e){if(e.keyCode==13){e.preventDefault();if(!opt.isCircular&&!modal.galleryHasPrevious())return;modal.galleryPrevious()}});buttons.next=$.tmpl(context.opt.templates.button,{cls:"overlayButtonNext",title:this.lang(context,"next"),tabindex:20}).bind("click",function(e){e.preventDefault();
if(!opt.isCircular&&!modal.galleryHasNext())return;modal.galleryNext()}).bind("keypress",function(e){if(e.keyCode==13){e.preventDefault();if(!opt.isCircular&&!modal.galleryHasNext())return;modal.galleryNext()}});opt.order.replace(/\w+/g,function(match){nav.append(buttons[match]);return""});cb()},insertContent:function(context,cb){var opt=this.opt(context);var gallery=galleries[context.opt.content.gallery];context.toggleItem(".overlayButtonNext, .overlayButtonPrevious",gallery&&gallery.length>1);var hasNext=
!opt.isCircular&&!modal.galleryHasNext();var hasPrevious=!opt.isCircular&&!modal.galleryHasPrevious();var next=context.select(".overlayButtonNext").toggleClass("overlayGalleryItemInactive",hasNext).attr("aria-disabled",hasNext);context.select(".overlayButtonPrevious").toggleClass("overlayGalleryItemInactive",hasPrevious).attr("aria-disabled",hasPrevious);cb()}}));modal.addPlugin("buttonClose",baseButton.create({buttonName:"close",pluginOptions:{selectEl:".overlayNavigationTop \x3e .overlayNavigationInner",
tabindex:10},pluginLang:{text:"Close"},onClick:function(context){context.sendHide()}}));modal.addPlugin("description",basePlugin.create({contextOptions:{content:{descriptionCacheKey:null,description:null}},pluginOptions:{where:"append",method:"clone",selectEl:"content"},insertHtml:function(context,cb){var opt=this.opt(context);context.select(opt.selectEl)[opt.where]('\x3cdiv class\x3d"overlayDescription" id\x3d"overlayDescription"\x3e\x3c/div\x3e');cb()},insertContent:function(context,cb){var opt=
this.opt(context);var description=$.contextual.linkDescriptions[context.opt.content.descriptionCacheKey];if(!description&&context.opt.content.description){description=context.opt.content.description;if(typeof description=="function")description=description.apply(context);description=$('\x3cdiv class\x3d"overlayDescriptionText"\x3e\x3c/div\x3e').append(description)}var hasDescription=!!(description&&description.length);context.toggleItem(".overlayDescription",hasDescription);if(!hasDescription){cb();
return}if(opt.method=="clone")description=description.clone(true);context.select(".overlayDescription").append(description);cb()}}));modal.addPlugin("constrainToContentWidth",basePlugin.create({pluginOptions:{selectEl:".overlayContentInner"},beforeTransitionIn:function(context,cb){context.select(this.opt(context).selectEl).each(function(){var el=$(this);var calcWidth=context.opt.content.width?context.opt.content.width:Math.min(context.select("content").width(),el.width())+"px";var calcHeight=context.opt.content.height?
context.opt.content.height:Math.min(context.select("content").height(),el.height())+"px";if("auto"==context.opt.content.originalHeight)el.css({width:calcWidth,height:calcHeight});else el.css({width:calcWidth})});cb()}}));modal.addPlugin("position",basePlugin.create({pluginOptions:{selectEl:"layer",constrainTo:"screen",position:"center",verticalConstrainTo:null,verticalPosition:null,horizontalConstrainTo:null,horizontalPosition:null},viewportChanged:function(context,cb){var opt=this.opt(context);var el=
context.select(opt.selectEl);var width=el.outerWidth(false);var height=el.outerHeight(false);var verticalConstrainTo=opt.constrainTo;var horizontalConstrainTo=verticalConstrainTo;var verticalPosition=opt.position;var horizontalPosition=verticalPosition;if(opt.verticalConstrainTo!=null)verticalConstrainTo=opt.verticalConstrainTo;if(opt.verticalPosition!=null)verticalPosition=opt.verticalPosition;if(opt.horizontalConstrainTo!=null)horizontalConstrainTo=opt.horizontalConstrainTo;if(opt.horizontalPosition!=
null)horizontalPosition=opt.horizontalPosition;var left=0;var constrainWidth=$(window).width();if(horizontalConstrainTo=="screen")context.containerEl.css({left:$(document).scrollLeft()+"px"});else{context.containerEl.css({left:0});constrainWidth=$(horizontalConstrainTo).width()}if(horizontalPosition=="center")left+=Math.max(0,(constrainWidth-width)/2)>>>0;else left+=horizontalPosition;var top=0;var constrainHeight=$(window).height();if(verticalConstrainTo=="screen")context.containerEl.css({top:$(document).scrollTop()+
"px"});else{context.containerEl.css({top:0});constrainHeight=$(verticalConstrainTo).height()}if(verticalPosition=="center"){var $htmlNode=jQuery("html");var spaceTop=$htmlNode.hasClass("portal_app")&&$htmlNode.hasClass("is_apple_device")?40:15;top+=$(document).scrollTop()+(Math.max(spaceTop,(constrainHeight-height)/2)>>>0)}else top+=verticalPosition;el.css({top:top+"px",left:left+"px"});var body_=document.body;var html_=document.documentElement;var bgHeight=Math.max(body_.scrollHeight,body_.offsetHeight,
html_.clientHeight,html_.scrollHeight,html_.offsetHeight);var bgWidth=Math.max(body_.scrollWidth,body_.offsetWidth,html_.clientWidth,html_.scrollWidth,html_.offsetWidth);jQuery(context.containerEl[0].firstChild).css({height:bgHeight+"px",width:bgWidth+"px"});cb()},beforeTransitionIn:function(context,cb){return this.viewportChanged.apply(this,arguments)}}));modal.addPlugin("transitions",basePlugin.create({pluginOptions:{duration:.4*1E3,easing:"swing",selectEl:"layer"},beforeTransitionIn:function(context,
cb){context.select(this.opt(context).selectEl).css({opacity:0,visibility:"visible"});cb()},transitionIn:function(context,cb){context.select(this.opt(context).selectEl).animate({opacity:1},{duration:this.opt(context).duration,easing:this.opt(context).easing,complete:cb})},afterTransitionIn:function(context,cb){context.select(this.opt(context).selectEl).css({opacity:"",visibility:""});cb()},transitionOut:function(context,cb){context.select(this.opt(context).selectEl).animate({opacity:0},{duration:this.opt(context).duration,
easing:this.opt(context).easing,complete:cb})}}));modal.addPlugin("eventCapture",basePlugin.create({pluginOptions:{forms:true,links:true,mousewheel:false},initContainer:function(context$$0,cb){context$$0.containerEl.bind("DOMMouseScroll mousewheel",iTim.bind(function(e){var context=$.modalOverlay.get();if(context&&this.opt(context).mousewheel)e.preventDefault()},this));cb()},beforeTransitionIn:function(context,cb){var el=context.select(".overlayPlayerContent");this.bindCaptureHandlers(el,context);
cb()},bindCaptureHandlers:function(el,context){var plugin=this;var opt=this.opt(context);var base=iTim.url(location).resolve(context.opt.content.href||"");if(opt.forms)el.find("form").each(function(){var wasInvalid=false;$(this).bind("invalid-form",function(){wasInvalid=true}).bind("submit",function(e){if(wasInvalid){wasInvalid=false;return}e.preventDefault();var url=base.resolve($(this).attr("action")).href;$.ajax({type:this.method||"get",url:url,data:$(this).serializeArray(),complete:function(res){el.html($.modalOverlay.players.ajax.getContent(res.responseText,
url));plugin.bindCaptureHandlers(el,context)}})})});if(opt.links)el.find('a[href]:not([href\x3d"#"], [href\x3d""], [href*\x3d"mailto:"], [href*\x3d"javascript:"], [target\x3d_blank], [target\x3d_top], [target\x3d_parent])').bind("click",function(e){e.preventDefault();var url=base.resolve($(this).attr("href")).href;$.ajax({type:"get",url:url,complete:function(res){el.html($.modalOverlay.players.ajax.getContent(res.responseText,url));plugin.bindCaptureHandlers(el,context)}})})}}));modal.addPlugin("events",
basePlugin.create({pluginOptions:{namespace:".overlayEvents",initContainer:null,insertHtml:null,preload:null,insertContent:null,beforeTransitionIn:null,transitionIn:null,afterTransitionIn:null,beforeTransitionOut:null,transitionOut:null,afterTransitionOut:null,hideContainer:null,viewportChanged:null},callMethod:function(method,who,cb){var opt=this.opt(who);if(undefined!=this.opt(who)[method])opt[method].call(who);return this.__prototype.callMethod.apply(this,arguments)}}))})(jQuery);
(function($){var modal=$.modalOverlay;var async=$.modalOverlay;modal.addPlugin("preloadGalleryItems",async.basePlugin.create({el:null,pluginOptions:{numberOfAdjacentItems:2},afterTransitionIn:function(context,cb){var gallery=modal.galleries[context.opt.content.gallery];if(!gallery){cb();return}var num=this.opt(context).numberOfAdjacentItems;var item=null;var index=null;var i=context.opt.galleryIndex-num;for(var length=context.opt.galleryIndex+num;i<length;++i){if(i==context.opt.galleryIndex)continue;
if(i<0)index=gallery[gallery.length+i];else index=gallery[i%gallery.length];item=modal.instances[gallery[index]];if(!item)continue;item.plugins.items.player.callMethod("preload",item,function(){})}cb()}}))})(jQuery);
(function($){var modal=$.modalOverlay;modal.addPlugin("weeBitMoreA11y",$.modalOverlay.basePlugin.create({a11yLabel:null,lastInstanceClosedByHash:null,pluginLang:{loading:"Please wait"},pluginOptions:{monitorHash:true},initContainer:function(context,cb){this.a11yLabel=$('\x3clabel aria-live\x3d"polite" class\x3d"overlayA11yLabel" tabindex\x3d"0"\x3e\x3c/label\x3e').appendTo(context.containerEl);if(this.opt(context).monitorHash)$(window).bind("hashchange",iTim.bind(this.onHashChange,this));cb()},onHashChange:function(){if(location.hash!=
"#lightbox"){if(modal.get()){this.lastInstanceClosedByHash=modal.get();modal.close()}}else if(this.lastInstanceClosedByHash&&this.lastInstanceClosedByHash!=modal.get()){this.lastInstanceClosedByHash.sendShow();this.lastInstanceClosedByHash=null}},insertHtml:function(context,cb){location="#lightbox";if(context.state.opening)this.disablePageInputs(context);cb()},disablePageInputs:function(context){context.containerEl.siblings().find("span[tabindex], div[tabindex], input, textarea, select, a, iframe").each(function(i,
el){el=$(el);if(null==el.data("originalTabIndex"+context.opt.namespace))el.data("originalTabIndex"+context.opt.namespace,el.attr("tabindex"));el.attr("tabindex",-1)})},preload:function(context,cb){if(!context.opt.preloaded)this.a11yLabel.html(this.lang(context,"loading"));cb()},insertContent:function(context,cb){this.a11yLabel.empty();context.select(".overlayPlayerContent").attr({"id":"overlayPlayerContent","aria-describedby":"overlayDescription","aria-labelledby":"overlayTitle"});context.select(".overlayButtonClose").attr("aria-flowto",
"overlayPlayerContent");cb()},afterTransitionIn:function(context,cb){cb();context.select(".overlayButtonClose:first").focus()},afterTransitionOut:function(context,cb){if(!context.state.changing){this.enablePageInputs(context);if(context.linkEl)context.linkEl.focus()}cb()},enablePageInputs:function(context){context.containerEl.siblings().find("span[tabindex], div[tabindex], input, textarea, select, a, iframe").each(function(i,el){el=$(el);el.attr("tabindex",el.data("originalTabIndex"+context.opt.namespace))})}}))})(jQuery);
(function($){$.extend({tablesorter:new function(){function benchmark(s,d){log(s+","+((new Date).getTime()-d.getTime())+"ms")}function log(s){if(typeof console!="undefined"&&typeof console.debug!="undefined")console.log(s);else alert(s)}function buildParserCache(table,$headers){if(table.config.debug)var parsersDebug="";if(table.tBodies.length==0)return;var rows=table.tBodies[0].rows;if(rows[0]){var list=[];var cells=rows[0].cells;var l=cells.length;for(var i=0;i<l;i++){var p=false;if($.metadata&&($($headers[i]).metadata()&&
$($headers[i]).metadata().sorter))p=getParserById($($headers[i]).metadata().sorter);else if(table.config.headers[i]&&table.config.headers[i].sorter)p=getParserById(table.config.headers[i].sorter);if(!p)p=detectParserForColumn(table,rows,-1,i);if(table.config.debug)parsersDebug+="column:"+i+" parser:"+p.id+"\n";list.push(p)}}if(table.config.debug)log(parsersDebug);return list}function detectParserForColumn(table,rows,rowIndex,cellIndex){var l=parsers.length;var node=false;var nodeValue=false;for(var keepLooking=
true;nodeValue==""&&keepLooking;){rowIndex++;if(rows[rowIndex]){node=getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex);nodeValue=trimAndGetNodeText(table.config,node);if(table.config.debug)log("Checking if value was empty on row:"+rowIndex)}else keepLooking=false}for(var i=1;i<l;i++)if(parsers[i].is(nodeValue,table,node))return parsers[i];return parsers[0]}function getNodeFromRowAndCellIndex(rows,rowIndex,cellIndex){return rows[rowIndex].cells[cellIndex]}function trimAndGetNodeText(config,node){return $.trim(getElementText(config,
node))}function getParserById(name){var l=parsers.length;for(var i=0;i<l;i++)if(parsers[i].id.toLowerCase()==name.toLowerCase())return parsers[i];return false}function buildCache(table){if(table.config.debug)var cacheTime=new Date;var totalRows=table.tBodies[0]&&table.tBodies[0].rows.length||0;var totalCells=table.tBodies[0].rows[0]&&table.tBodies[0].rows[0].cells.length||0;var parsers=table.config.parsers;var cache={row:[],normalized:[]};for(var i=0;i<totalRows;++i){var c=$(table.tBodies[0].rows[i]);
var cols=[];if(c.hasClass(table.config.cssChildRow)){cache.row[cache.row.length-1]=cache.row[cache.row.length-1].add(c);continue}cache.row.push(c);for(var j=0;j<totalCells;++j)cols.push(parsers[j].format(getElementText(table.config,c[0].cells[j]),table,c[0].cells[j]));cols.push(cache.normalized.length);cache.normalized.push(cols);cols=null}if(table.config.debug)benchmark("Building cache for "+totalRows+" rows:",cacheTime);return cache}function getElementText(config,node){var text="";if(!node)return"";
if(!config.supportsTextContent)config.supportsTextContent=node.textContent||false;if(config.textExtraction=="simple")if(config.supportsTextContent)text=node.textContent;else if(node.childNodes[0]&&node.childNodes[0].hasChildNodes())text=node.childNodes[0].innerHTML;else text=node.innerHTML;else if(typeof config.textExtraction=="function")text=config.textExtraction(node);else text=$(node).text();return text}function appendToTable(table,cache){if(table.config.debug)var appendTime=new Date;var c=cache;
var r=c.row;var n=c.normalized;var totalRows=n.length;var checkCell=n[0].length-1;var tableBody=$(table.tBodies[0]);var rows=[];for(var i=0;i<totalRows;i++){var pos=n[i][checkCell];rows.push(r[pos]);if(!table.config.appender){var l=r[pos].length;for(var j=0;j<l;j++)tableBody[0].appendChild(r[pos][j])}}if(table.config.appender)table.config.appender(table,rows);rows=null;if(table.config.debug)benchmark("Rebuilt table:",appendTime);applyWidget(table);setTimeout(function(){$(table).trigger("sortEnd")},
0)}function buildHeaders(table){if(table.config.debug)var time=new Date;var meta=$.metadata?true:false;var header_index=computeTableHeaderCellIndexes(table);$tableHeaders=$(table.config.selectorHeaders,table).each(function(index){this.column=header_index[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=formatSortingOrder(table.config.sortInitialOrder);this.count=this.order;if(checkHeaderMetadata(this)||checkHeaderOptions(table,index))this.sortDisabled=true;if(checkHeaderOptionsSortingLocked(table,
index))this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(table,index);if(!this.sortDisabled){var $th=$(this).addClass(table.config.cssHeader);if(table.config.onRenderHeader)table.config.onRenderHeader.apply($th)}table.config.headerList[index]=this});if(table.config.debug){benchmark("Built headers:",time);log($tableHeaders)}return $tableHeaders}function computeTableHeaderCellIndexes(t){var matrix=[];var lookup={};var thead=t.getElementsByTagName("THEAD")[0];var trs=thead.getElementsByTagName("TR");
for(var i=0;i<trs.length;i++){var cells=trs[i].cells;for(var j=0;j<cells.length;j++){var c=cells[j];var rowIndex=c.parentNode.rowIndex;var cellId=rowIndex+"-"+c.cellIndex;var rowSpan=c.rowSpan||1;var colSpan=c.colSpan||1;var firstAvailCol;if(typeof matrix[rowIndex]=="undefined")matrix[rowIndex]=[];for(var k=0;k<matrix[rowIndex].length+1;k++)if(typeof matrix[rowIndex][k]=="undefined"){firstAvailCol=k;break}lookup[cellId]=firstAvailCol;for(k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof matrix[k]=="undefined")matrix[k]=
[];var matrixrow=matrix[k];for(var l=firstAvailCol;l<firstAvailCol+colSpan;l++)matrixrow[l]="x"}}}return lookup}function checkCellColSpan(table,rows,row){var arr=[];var r=table.tHead.rows;var c=r[row].cells;for(var i=0;i<c.length;i++){var cell=c[i];if(cell.colSpan>1)arr=arr.concat(checkCellColSpan(table,headerArr,row++));else if(table.tHead.length==1||(cell.rowSpan>1||!r[row+1]))arr.push(cell)}return arr}function checkHeaderMetadata(cell){if($.metadata&&$(cell).metadata().sorter===false)return true;
return false}function checkHeaderOptions(table,i){if(table.config.headers[i]&&table.config.headers[i].sorter===false)return true;return false}function checkHeaderOptionsSortingLocked(table,i){if(table.config.headers[i]&&table.config.headers[i].lockedOrder)return table.config.headers[i].lockedOrder;return false}function applyWidget(table){var c=table.config.widgets;var l=c.length;for(var i=0;i<l;i++)getWidgetById(c[i]).format(table)}function getWidgetById(name){var l=widgets.length;for(var i=0;i<l;i++)if(widgets[i].id.toLowerCase()==
name.toLowerCase())return widgets[i]}function formatSortingOrder(v){if(typeof v!="Number")return v.toLowerCase()=="desc"?1:0;else return v==1?1:0}function isValueInArray(v,a){var l=a.length;for(var i=0;i<l;i++)if(a[i][0]==v)return true;return false}function setHeadersCss(table,$headers,list,css){$headers.removeClass(css[0]).removeClass(css[1]);var h=[];$headers.each(function(offset){if(!this.sortDisabled)h[this.column]=$(this)});var l=list.length;for(var i=0;i<l;i++)h[list[i][0]].addClass(css[list[i][1]])}
function fixColumnWidth(table,$headers){var c=table.config;if(c.widthFixed){var colgroup=$("\x3ccolgroup\x3e");$("tr:first td",table.tBodies[0]).each(function(){colgroup.append($("\x3ccol\x3e").css("width",$(this).width()))});$(table).prepend(colgroup)}}function updateHeaderSortCount(table,sortList){var c=table.config;var l=sortList.length;for(var i=0;i<l;i++){var s=sortList[i];var o=c.headerList[s[0]];o.count=s[1];o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=
new Date;var dynamicExp="var sortWrapper \x3d function(a,b) {";var l=sortList.length;for(var i=0;i<l;i++){var c=sortList[i][0];var order=sortList[i][1];var s=table.config.parsers[c].type=="text"?order==0?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):order==0?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c);var e="e"+i;dynamicExp+="var "+e+" \x3d "+s;dynamicExp+="if("+e+") { return "+e+"; } ";dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-
1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(i=0;i<l;i++)dynamicExp+="}; ";dynamicExp+="return 0; ";dynamicExp+="}; ";if(table.config.debug)benchmark("Evaling expression:"+dynamicExp,new Date);eval(dynamicExp);cache.normalized.sort(sortWrapper);if(table.config.debug)benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime);return cache}function makeSortFunction(type,direction,index){var a="a["+index+"]";var b="b["+index+"]";if(type=="text"&&direction=="asc")return"("+
a+" \x3d\x3d "+b+" ? 0 : ("+a+" \x3d\x3d\x3d null ? Number.POSITIVE_INFINITY : ("+b+" \x3d\x3d\x3d null ? Number.NEGATIVE_INFINITY : ("+a+" \x3c "+b+") ? -1 : 1 )));";else if(type=="text"&&direction=="desc")return"("+a+" \x3d\x3d "+b+" ? 0 : ("+a+" \x3d\x3d\x3d null ? Number.POSITIVE_INFINITY : ("+b+" \x3d\x3d\x3d null ? Number.NEGATIVE_INFINITY : ("+b+" \x3c "+a+") ? -1 : 1 )));";else if(type=="numeric"&&direction=="asc")return"("+a+" \x3d\x3d\x3d null \x26\x26 "+b+" \x3d\x3d\x3d null) ? 0 :("+a+
" \x3d\x3d\x3d null ? Number.POSITIVE_INFINITY : ("+b+" \x3d\x3d\x3d null ? Number.NEGATIVE_INFINITY : "+a+" - "+b+"));";else if(type=="numeric"&&direction=="desc")return"("+a+" \x3d\x3d\x3d null \x26\x26 "+b+" \x3d\x3d\x3d null) ? 0 :("+a+" \x3d\x3d\x3d null ? Number.POSITIVE_INFINITY : ("+b+" \x3d\x3d\x3d null ? Number.NEGATIVE_INFINITY : "+b+" - "+a+"));"}function makeSortText(i){return"((a["+i+"] \x3c b["+i+"]) ? -1 : ((a["+i+"] \x3e b["+i+"]) ? 1 : 0));"}function makeSortTextDesc(i){return"((b["+
i+"] \x3c a["+i+"]) ? -1 : ((b["+i+"] \x3e a["+i+"]) ? 1 : 0));"}function makeSortNumeric(i){return"a["+i+"]-b["+i+"];"}function makeSortNumericDesc(i){return"b["+i+"]-a["+i+"];"}function sortText(a,b){if(table.config.sortLocaleCompare)return a.localeCompare(b);return a<b?-1:a>b?1:0}function sortTextDesc(a,b){if(table.config.sortLocaleCompare)return b.localeCompare(a);return b<a?-1:b>a?1:0}function sortNumeric(a,b){return a-b}function sortNumericDesc(a,b){return b-a}function getCachedSortType(parsers,
i){return parsers[i].type}var parsers=[];var widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",
debug:false};this.benchmark=benchmark;this.construct=function(settings){return this.each(function(){if(!this.tHead||!this.tBodies)return;var $this;var $document;var $headers;var cache;var config$$0;var shiftDown=0;var sortOrder;this.config={};config$$0=$.extend(this.config,$.tablesorter.defaults,settings);$this=$(this);$.data(this,"tablesorter",config$$0);$headers=buildHeaders(this);this.config.parsers=buildParserCache(this,$headers);cache=buildCache(this);var sortCSS=[config$$0.cssDesc,config$$0.cssAsc];
fixColumnWidth(this);$headers.click(function(e){var totalRows=$this[0].tBodies[0]&&$this[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&totalRows>0){$this.trigger("sortStart");var $cell=$(this);var i=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(!e[config$$0.sortMultiSortKey]){config$$0.sortList=[];if(config$$0.sortForce!=null){var a=config$$0.sortForce;for(var j=0;j<a.length;j++)if(a[j][0]!=i)config$$0.sortList.push(a[j])}config$$0.sortList.push([i,
this.order])}else if(isValueInArray(i,config$$0.sortList))for(j=0;j<config$$0.sortList.length;j++){var s=config$$0.sortList[j];var o=config$$0.headerList[s[0]];if(s[0]==i){o.count=s[1];o.count++;s[1]=o.count%2}}else config$$0.sortList.push([i,this.order]);setTimeout(function(){setHeadersCss($this[0],$headers,config$$0.sortList,sortCSS);appendToTable($this[0],multisort($this[0],config$$0.sortList,cache))},1);return false}}).mousedown(function(){if(config$$0.cancelSelection){this.onselectstart=function(){return false};
return false}});$this.bind("update",function(){var me=this;setTimeout(function(){me.config.parsers=buildParserCache(me,$headers);cache=buildCache(me)},1)}).bind("updateCell",function(e,cell){var config=this.config;var pos=[cell.parentNode.rowIndex-1,cell.cellIndex];cache.normalized[pos[0]][pos[1]]=config.parsers[pos[1]].format(getElementText(config,cell),cell)}).bind("sorton",function(e,list){$(this).trigger("sortStart");config$$0.sortList=list;var sortList=config$$0.sortList;updateHeaderSortCount(this,
sortList);setHeadersCss(this,$headers,sortList,sortCSS);appendToTable(this,multisort(this,sortList,cache))}).bind("appendCache",function(){appendToTable(this,cache)}).bind("applyWidgetId",function(e,id){getWidgetById(id).format(this)}).bind("applyWidgets",function(){applyWidget(this)});if($.metadata&&($(this).metadata()&&$(this).metadata().sortlist))config$$0.sortList=$(this).metadata().sortlist;if(config$$0.sortList.length>0)$this.trigger("sorton",[config$$0.sortList]);applyWidget(this)})};this.addParser=
function(parser){var l=parsers.length;var a=true;for(var i=0;i<l;i++)if(parsers[i].id.toLowerCase()==parser.id.toLowerCase())a=false;if(a)parsers.push(parser)};this.addWidget=function(widget){widgets.push(widget)};this.formatFloat=function(s){var i=parseFloat(s);return isNaN(i)?0:i};this.formatInt=function(s){var i=parseInt(s);return isNaN(i)?0:i};this.isDigit=function(s,config){return/^[-+]?\d*$/.test($.trim(s.replace(/[,.']/g,"")))};this.clearTableBody=function(table){if($.browser&&$.browser.msie){var empty=
function(){for(;this.firstChild;)this.removeChild(this.firstChild)};empty.apply(table.tBodies[0])}else table.tBodies[0].innerHTML=""}}});$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(s){return true},format:function(s){return $.trim(s.toLocaleLowerCase())},type:"text"});ts.addParser({id:"digit",is:function(s,table){var c=table.config;return $.tablesorter.isDigit(s,c)},format:function(s){return $.tablesorter.formatFloat(s)},type:"numeric"});
ts.addParser({id:"currency",is:function(s){return/^[£$€?.]/.test(s)},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/[£$€]/g),""))},type:"numeric"});ts.addParser({id:"ipAddress",is:function(s){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(s)},format:function(s){var a=s.split(".");var r="";var l=a.length;for(var i=0;i<l;i++){var item=a[i];if(item.length==2)r+="0"+item;else r+=item}return $.tablesorter.formatFloat(r)},type:"numeric"});ts.addParser({id:"url",is:function(s){return/^(https?|ftp|file):\/\/$/.test(s)},
format:function(s){return jQuery.trim(s.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});ts.addParser({id:"isoDate",is:function(s){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(s)},format:function(s){return $.tablesorter.formatFloat(s!=""?(new Date(s.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});ts.addParser({id:"percent",is:function(s){return/\%$/.test($.trim(s))},format:function(s){return $.tablesorter.formatFloat(s.replace(new RegExp(/%/g),""))},type:"numeric"});
ts.addParser({id:"usLongDate",is:function(s){return s.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(s){return $.tablesorter.formatFloat((new Date(s)).getTime())},type:"numeric"});ts.addParser({id:"shortDate",is:function(s){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(s)},format:function(s,table){var c=table.config;s=s.replace(/\-/g,"/");if(c.dateFormat=="us")s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,
"$3/$1/$2");else if(c.dateFormat=="uk")s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(c.dateFormat=="dd/mm/yy"||c.dateFormat=="dd-mm-yy")s=s.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return $.tablesorter.formatFloat((new Date(s)).getTime())},type:"numeric"});ts.addParser({id:"time",is:function(s){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(s)},format:function(s){return $.tablesorter.formatFloat((new Date("2000/01/01 "+s)).getTime())},
type:"numeric"});ts.addParser({id:"metadata",is:function(s){return false},format:function(s,table,cell){var c=table.config;var p=!c.parserMetadataName?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",format:function(table){if(table.config.debug)var time=new Date;var $tr;var row=-1;var odd;$("tr:visible",table.tBodies[0]).each(function(i){$tr=$(this);if(!$tr.hasClass(table.config.cssChildRow))row++;odd=row%2==0;$tr.removeClass(table.config.widgetZebra.css[odd?
0:1]).addClass(table.config.widgetZebra.css[odd?1:0])});if(table.config.debug)$.tablesorter.benchmark("Applying Zebra widget",time)}})})(jQuery);
(function($){function sc_setScroll(a,b,c){return"transition"==c.transition&&"swing"==b&&(b="ease"),{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a,b){var c=0;for(var d=a.anims.length;d>c;c++){var e=a.anims[c];e&&e[0][b.transition](e[1],a.duration,a.easing,e[2])}}function sc_stopScroll(a,b){is_boolean(b)||(b=!0),is_object(a.pre)&&sc_stopScroll(a.pre,b);var c=0;for(var d=a.anims.length;d>c;c++){var e=a.anims[c];e[0].stop(!0),b&&(e[0].css(e[1]),is_function(e[2])&&
e[2]())}is_object(a.post)&&sc_stopScroll(a.post,b)}function sc_afterScroll(a,b,c){switch(b&&b.remove(),c.fx){case "fade":case "crossfade":case "cover-fade":case "uncover-fade":a.css("opacity",1),a.css("filter","")}}function sc_fireCallbacks(a,b,c,d,e){if(b[c]&&b[c].call(a,d),e[c].length){var f=0;for(var g=e[c].length;g>f;f++)e[c][f].call(a,d)}return[]}function sc_fireQueue(a,b,c){return b.length&&(a.trigger(cf_e(b[0][0],c),b[0][1]),b.shift()),b}function sc_hideHiddenItems(a$$0){a$$0.each(function(){var a=
$(this);a.data("_cfs_isHidden",a.is(":hidden")).hide()})}function sc_showHiddenItems(a$$0){a$$0&&a$$0.each(function(){var a=$(this);a.data("_cfs_isHidden")||a.show()})}function sc_clearTimers(a){return a.auto&&clearTimeout(a.auto),a.progress&&clearInterval(a.progress),a}function sc_mapCallbackArguments(a,b,c,d,e,f,g){return{width:g.width,height:g.height,items:{old:a,skipped:b,visible:c},scroll:{items:d,direction:e,duration:f}}}function sc_getDuration(a,b,c,d){var e=a.duration;return"none"==a.fx?0:
("auto"==e?e=b.scroll.duration/b.scroll.items*c:10>e&&(e=d/e),1>e?0:("fade"==a.fx&&(e/=2),Math.round(e)))}function nv_showNavi(a,b,c){var d=is_number(a.items.minimum)?a.items.minimum:a.items.visible+1;if("show"==b||"hide"==b)var e=b;else if(d>b){debug(c,"Not enough items ("+b+" total, "+d+" needed): Hiding navigation.");e="hide"}else e="show";var f="show"==e?"removeClass":"addClass";var g=cf_c("hidden",c);a.auto.button&&a.auto.button[e]()[f](g),a.prev.button&&a.prev.button[e]()[f](g),a.next.button&&
a.next.button[e]()[f](g),a.pagination.container&&a.pagination.container[e]()[f](g)}function nv_enableNavi(a,b,c){if(!a.circular&&!a.infinite){var d="removeClass"==b||"addClass"==b?b:!1;var e=cf_c("disabled",c);if(a.auto.button&&d&&a.auto.button[d](e),a.prev.button){var f=d||0==b?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}}function go_getObject(a,b){return is_function(b)?b=b.call(a):is_undefined(b)&&(b={}),b}
function go_getItemsObject(a,b){return b=go_getObject(a,b),is_number(b)?b={visible:b}:"variable"==b?b={visible:b,width:b,height:b}:is_object(b)||(b={}),b}function go_getScrollObject(a,b){return b=go_getObject(a,b),is_number(b)?b=50>=b?{items:b}:{duration:b}:is_string(b)?b={easing:b}:is_object(b)||(b={}),b}function go_getNaviObject(a,b){if(b=go_getObject(a,b),is_string(b)){var c=cf_getKeyCode(b);b=-1==c?$(b):c}return b}function go_getAutoObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:
is_boolean(b)?b={play:b}:is_number(b)&&(b={timeoutDuration:b}),b.progress&&(is_string(b.progress)||is_jquery(b.progress))&&(b.progress={bar:b.progress}),b}function go_complementAutoObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_boolean(b.play)||(b.play=!0),is_number(b.delay)||(b.delay=0),is_undefined(b.pauseOnEvent)&&(b.pauseOnEvent=!0),is_boolean(b.pauseOnResize)||(b.pauseOnResize=!0),is_number(b.timeoutDuration)||(b.timeoutDuration=
10>b.duration?2500:5*b.duration),b.progress&&(is_function(b.progress.bar)&&(b.progress.bar=b.progress.bar.call(a)),is_string(b.progress.bar)&&(b.progress.bar=$(b.progress.bar)),b.progress.bar?(is_function(b.progress.updater)||(b.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(b.progress.interval)||(b.progress.interval=50)):b.progress=!1),b}function go_getPrevNextObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_number(b)&&(b={key:b}),b}function go_complementPrevNextObject(a,
b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_string(b.key)&&(b.key=cf_getKeyCode(b.key)),b}function go_getPaginationObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={container:b}:is_boolean(b)&&(b={keys:b}),b}function go_complementPaginationObject(a,b){return is_function(b.container)&&(b.container=b.container.call(a)),is_string(b.container)&&(b.container=$(b.container)),is_number(b.items)||(b.items=!1),is_boolean(b.keys)||(b.keys=
!1),is_function(b.anchorBuilder)||is_false(b.anchorBuilder)||(b.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(b.deviation)||(b.deviation=0),b}function go_getSwipeObject(a,b){return is_function(b)&&(b=b.call(a)),is_undefined(b)&&(b={onTouch:!1}),is_true(b)?b={onTouch:b}:is_number(b)&&(b={items:b}),b}function go_complementSwipeObject(a,b){return is_boolean(b.onTouch)||(b.onTouch=!0),is_boolean(b.onMouse)||(b.onMouse=!1),is_object(b.options)||(b.options={}),is_boolean(b.options.triggerOnTouchEnd)||
(b.options.triggerOnTouchEnd=!1),b}function go_getMousewheelObject(a,b){return is_function(b)&&(b=b.call(a)),is_true(b)?b={}:is_number(b)?b={items:b}:is_undefined(b)&&(b=!1),b}function go_complementMousewheelObject(a,b){return b}function gn_getItemIndex(a,b,c,d,e){if(is_string(a)&&(a=$(a,e)),is_object(a)&&(a=$(a,e)),is_jquery(a)?(a=e.children().index(a),is_boolean(c)||(c=!1)):is_boolean(c)||(c=!0),is_number(a)||(a=0),is_number(b)||(b=0),c&&(a+=d.first),a+=b,d.total>0){for(;a>=d.total;)a-=d.total;
for(;0>a;)a+=d.total}return a}function gn_getVisibleItemsPrev(a,b,c){var d=0;var e=0;for(var f=c;f>=0;f--){var g=a.eq(f);if(d+=g.is(":visible")?g[b.d.outerWidth](!0):0,d>b.maxDimension)return e;0==f&&(f=a.length),e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){var e=0;var f=0;var g=d;for(var h=
a.length;g>=0;g--){if(f++,f==h)return f;var i=a.eq(g);if(i.is(b)&&(e++,e==c))return f;0==g&&(g=h)}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){var d=0;var e=0;var f=c;for(var g=a.length-1;g>=f;f++){var h=a.eq(f);if(d+=h.is(":visible")?h[b.d.outerWidth](!0):0,d>b.maxDimension)return e;if(e++,e==g+1)return e;f==g&&(f=-1)}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=
gn_getVisibleItemsNext(a,b,c);return b.circular||c+e>d&&(e=d-c),e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d){var f=0;var g=0;var h=d;for(var i=a.length-1;i>=h;h++){if(g++,g>=i)return g;var j=a.eq(h);if(j.is(b)&&(f++,f==c))return g;h==i&&(h=-1)}}function gi_getCurrentItems(a,
b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_storeMargin(a$$0,b,c){b.usePadding&&(is_string(c)||(c="_cfs_origCssMargin"),a$$0.each(function(){var a=$(this);var d=parseInt(a.css(b.d.marginRight),10);is_number(d)||
(d=0),a.data(c,d)}))}function sz_resetMargin(a$$0,b,c){if(b.usePadding){var d=is_boolean(c)?c:!1;is_number(c)||(c=0),sz_storeMargin(a$$0,b,"_cfs_tempCssMargin"),a$$0.each(function(){var a=$(this);a.css(b.d.marginRight,d?a.data("_cfs_tempCssMargin"):c+a.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(a$$0){a$$0.each(function(){var a=$(this);a.data("_cfs_origCss",a.attr("style")||"")})}function sz_restoreOrigCss(a$$0){a$$0.each(function(){var a=$(this);a.attr("style",a.data("_cfs_origCss")||
"")})}function sz_setResponsiveSizes(a,b$$0){var d=(a.items.visible,a.items[a.d.width]);var e=a[a.d.height];var f=is_percentage(e);b$$0.each(function(){var b=$(this);var c=d-ms_getPaddingBorderMargin(b,a,"Width");b[a.d.width](c),f&&b[a.d.height](ms_getPercentage(c,e))})}function sz_setSizes(a,b){var c=a.parent();var d=a.children();var e=gi_getCurrentItems(d,b);var f=cf_mapWrapperSizes(ms_getSizes(e,b,!0),b,!1);if(c.css(f),b.usePadding){var g=b.padding;var h=g[b.d[1]];b.align&&0>h&&(h=0);var i=e.last();
i.css(b.d.marginRight,i.data("_cfs_origCssMargin")+h),a.css(b.d.top,g[b.d[0]]),a.css(b.d.left,g[b.d[3]])}return a.css(b.d.width,f[b.d.width]+2*ms_getTotalSize(d,b,"width")),a.css(b.d.height,ms_getLargestSize(d,b,"height")),f}function ms_getSizes(a,b,c){return[ms_getTotalSize(a,b,"width",c),ms_getLargestSize(a,b,"height",c)]}function ms_getLargestSize(a,b,c,d){return is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d?b[b.d[c]]:is_number(b.items[b.d[c]])?b.items[b.d[c]]:(c=c.toLowerCase().indexOf("width")>
-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(a,b,c))}function ms_getTrueLargestSize(a,b,c){var d=0;var e=0;for(var f=a.length;f>e;e++){var g=a.eq(e);var h=g.is(":visible")?g[b.d[c]](!0):0;h>d&&(d=h)}return d}function ms_getTotalSize(a,b,c,d){if(is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d)return b[b.d[c]];if(is_number(b.items[b.d[c]]))return b.items[b.d[c]]*a.length;var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";var f=0;var g=0;for(var h=a.length;h>g;g++){var i=a.eq(g);
f+=i.is(":visible")?i[b.d[e]](!0):0}return f}function ms_getParentSize(a,b,c){var d=a.is(":visible");d&&a.hide();var e=a.parent()[b.d[c]]();return d&&a.show(),e}function ms_getMaxDimension(a,b){return is_number(a[a.d.width])?a[a.d.width]:b}function ms_hasVariableSizes(a,b,c){var d=!1;var e=!1;var f=0;for(var g=a.length;g>f;f++){var h=a.eq(f);var i=h.is(":visible")?h[b.d[c]](!0):0;d===!1?d=i:d!=i&&(e=!0),0==d&&(e=!0)}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](!0)-a[b.d[c.toLowerCase()]]()}
function ms_getPercentage(a,b){if(is_percentage(b)){if(b=parseInt(b.slice(0,-1),10),!is_number(b))return a;a*=b/100}return a}function cf_e(a,b,c,d,e){return is_boolean(c)||(c=!0),is_boolean(d)||(d=!0),is_boolean(e)||(e=!1),c&&(a=b.events.prefix+a),d&&(a=a+"."+b.events.namespace),d&&e&&(a+=b.serialNumber),a}function cf_c(a,b){return is_string(b.classnames[a])?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){is_boolean(c)||(c=!0);var d=b.usePadding&&c?b.padding:[0,0,0,0];var e={};return e[b.d.width]=
a[0]+d[1]+d[3],e[b.d.height]=a[1]+d[0]+d[2],e}function cf_sortParams(a,b){var c=[];var d=0;for(var e=a.length;e>d;d++){var f=0;for(var g=b.length;g>f;f++)if(b[f].indexOf(typeof a[d])>-1&&is_undefined(c[f])){c[f]=a[d];break}}return c}function cf_getPadding(a){if(is_undefined(a))return[0,0,0,0];if(is_number(a))return[a,a,a,a];if(is_string(a)&&(a=a.split("px").join("").split("em").join("").split(" ")),!is_array(a))return[0,0,0,0];for(var b=0;4>b;b++)a[b]=parseInt(a[b],10);switch(a.length){case 0:return[0,
0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=is_number(b[b.d.width])?Math.ceil(b[b.d.width]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case "left":return[0,c];case "right":return[c,0];case "center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getDimensions(a){var b=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight",
"left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var c=b[0].length;var d="right"==a.direction||"left"==a.direction?0:1;var e={};for(var f=0;c>f;f++)e[b[0][f]]=b[d][f];return e}function cf_getAdjust(a,b,c,d){var e=a;if(is_function(c))e=c.call(d,e);else if(is_string(c)){var f=c.split("+");var g=c.split("-");if(g.length>f.length){var h=!0;var i=g[0];var j=g[1]}else{h=!1;i=f[0];j=f[1]}switch(i){case "even":e=
1==a%2?a-1:a;break;case "odd":e=0==a%2?a-1:a;break;default:e=a}j=parseInt(j,10),is_number(j)&&(h&&(j=-j),e+=j)}return(!is_number(e)||1>e)&&(e=1),e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){return is_number(b.min)&&b.min>a&&(a=b.min),is_number(b.max)&&a>b.max&&(a=b.max),1>a&&(a=1),a}function cf_getSynchArr(a){is_array(a)||(a=[[a]]),is_array(a[0])||(a=[a]);var b=0;for(var c=a.length;c>b;b++)is_string(a[b][0])&&
(a[b][0]=$(a[b][0])),is_boolean(a[b][1])||(a[b][1]=!0),is_boolean(a[b][2])||(a[b][2]=!0),is_number(a[b][3])||(a[b][3]=0);return a}function cf_getKeyCode(a){return"right"==a?39:"left"==a?37:"up"==a?38:"down"==a?40:-1}function cf_setCookie(a,b,c){if(a){var d=b.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(a,d)}}function cf_getCookie(a){var b=$.fn.carouFredSel.cookie.get(a);return""==b?0:b}function in_mapCss(a,b){var c={};var d=0;for(var e=b.length;e>d;d++)c[b[d]]=a.css(b[d]);
return c}function in_complementItems(a,b,c,d){return is_object(a.visibleConf)||(a.visibleConf={}),is_object(a.sizesConf)||(a.sizesConf={}),0==a.start&&is_number(d)&&(a.start=d),is_object(a.visible)?(a.visibleConf.min=a.visible.min,a.visibleConf.max=a.visible.max,a.visible=!1):is_string(a.visible)?("variable"==a.visible?a.visibleConf.variable=!0:a.visibleConf.adjust=a.visible,a.visible=!1):is_function(a.visible)&&(a.visibleConf.adjust=a.visible,a.visible=!1),is_string(a.filter)||(a.filter=c.filter(":hidden").length>
0?":visible":"*"),a[b.d.width]||(b.responsive?(debug(!0,"Set a "+b.d.width+" for the items!"),a[b.d.width]=ms_getTrueLargestSize(c,b,"outerWidth")):a[b.d.width]=ms_hasVariableSizes(c,b,"outerWidth")?"variable":c[b.d.outerWidth](!0)),a[b.d.height]||(a[b.d.height]=ms_hasVariableSizes(c,b,"outerHeight")?"variable":c[b.d.outerHeight](!0)),a.sizesConf.width=a.width,a.sizesConf.height=a.height,a}function in_complementVisibleItems(a,b){return"variable"==a.items[a.d.width]&&(a.items.visibleConf.variable=
!0),a.items.visibleConf.variable||(is_number(a[a.d.width])?a.items.visible=Math.floor(a[a.d.width]/a.items[a.d.width]):(a.items.visible=Math.floor(b/a.items[a.d.width]),a[a.d.width]=a.items.visible*a.items[a.d.width],a.items.visibleConf.adjust||(a.align=!1)),("Infinity"==a.items.visible||1>a.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),a.items.visibleConf.variable=!0)),a}function in_complementPrimarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,
"outerWidth")),a}function in_complementSecondarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerHeight")),a||(a=b.items[b.d.height]),a}function in_getAlignPadding(a,b){var c=cf_getAlignPadding(gi_getCurrentItems(b,a),a);return a.padding[a.d[1]]=c[1],a.padding[a.d[3]]=c[0],a}function in_getResponsiveValues(a,b){var d=cf_getItemAdjustMinMax(Math.ceil(a[a.d.width]/a.items[a.d.width]),a.items.visibleConf);d>b.length&&(d=b.length);var e=Math.floor(a[a.d.width]/d);return a.items.visible=
d,a.items[a.d.width]=e,a[a.d.width]=d*e,a}function bt_pauseOnHoverConfig(a){if(is_string(a)){var b=a.indexOf("immediate")>-1?!0:!1;var c=a.indexOf("resume")>-1?!0:!1}else b=c=!1;return[b,c]}function bt_mousesheelNumber(a){return is_number(a)?a:null}function is_null(a){return null===a}function is_undefined(a){return is_null(a)||a===void 0||""===a||"undefined"===a}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof
Object||"object"==typeof a)&&!is_null(a)&&!is_jquery(a)&&!is_array(a)&&!is_function(a)}function is_number(a){return(a instanceof Number||"number"==typeof a)&&!isNaN(a)}function is_string(a){return(a instanceof String||"string"==typeof a)&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||"function"==typeof a}function is_boolean(a){return a instanceof Boolean||"boolean"==typeof a||is_true(a)||is_false(a)}function is_true(a){return a===!0||"true"===a}
function is_false(a){return a===!1||"false"===a}function is_percentage(a){return is_string(a)&&"%"==a.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(a,b){debug(!0,a+" is DEPRECATED, support for it will be removed. Use "+b+" instead.")}function debug(a,b){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(a)){var c=" ("+a.selector+")";a=a.debug}else c="";if(!a)return!1;b=is_string(b)?"carouFredSel"+c+": "+b:["carouFredSel"+c+":",b],window.console.log(b)}return!1}
$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this;var $tt0=this[0];var starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(a,b,c){a=
go_getObject($tt0,a),a.items=go_getItemsObject($tt0,a.items),a.scroll=go_getScrollObject($tt0,a.scroll),a.auto=go_getAutoObject($tt0,a.auto),a.prev=go_getPrevNextObject($tt0,a.prev),a.next=go_getPrevNextObject($tt0,a.next),a.pagination=go_getPaginationObject($tt0,a.pagination),a.swipe=go_getSwipeObject($tt0,a.swipe),a.mousewheel=go_getMousewheelObject($tt0,a.mousewheel),b&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,a)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,a),opts.d=cf_getDimensions(opts),
crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var d=$cfs.children();var e=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,e),opts.items=in_complementItems(opts.items,opts,d,c),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,d),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,d),opts.responsive&&(is_percentage(opts[opts.d.width])||
(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(e,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,e)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&
"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(d,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(d,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,
opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,d,e);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case "center":case "left":case "right":"variable"!=opts[opts.d.width]&&
(opts=in_getAlignPadding(opts,d),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=
$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),
opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},
FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var a=$cfs.children();var b=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]);var c="relative";switch(b.position){case "absolute":case "fixed":c=b.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(b),$wrp.css({overflow:"hidden",position:c}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",b.zIndex),$cfs.css({textAlign:"left",
"float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(a,opts),sz_storeOrigCss(a),opts.responsive&&sz_setResponsiveSizes(opts,a)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(a,b){return a.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),
b)),!0}),$cfs.bind(cf_e("finish",conf),function(a){return a.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(a,b,c){if(a.stopPropagation(),tmrs=sc_clearTimers(tmrs),b&&crsl.isScrolling){scrl.isStopped=!0;var d=getTime()-scrl.startTime;scrl.duration-=d,scrl.pre&&(scrl.pre.duration-=d),scrl.post&&(scrl.post.duration-=d),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||c&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&
opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var e=opts.auto.timeoutDuration-tmrs.timePassed;var f=100-Math.ceil(100*e/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,f,e)}return!0}),$cfs.bind(cf_e("play",conf),function(a$$0,b$$0,c,d){a$$0.stopPropagation(),tmrs=sc_clearTimers(tmrs);var e=[b$$0,c,d];var f=["string","number","boolean"];var g=cf_sortParams(e,f);if(b$$0=g[0],c=g[1],d=g[2],"prev"!=b$$0&&"next"!=b$$0&&(b$$0=crsl.direction),is_number(c)||
(c=0),is_boolean(d)||(d=!1),d&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return a$$0.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var h=opts.auto.timeoutDuration+c;return dur2=h-tmrs.timePassed,perc=100-Math.ceil(100*dur2/h),opts.auto.progress&&(tmrs.progress=setInterval(function(){var a=
getTime()-tmrs.startTime+tmrs.timePassed;var b=Math.ceil(100*a/h);opts.auto.progress.updater.call(opts.auto.progress.bar[0],b)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),b$$0):$cfs.trigger(cf_e(b$$0,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,
perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(a){return a.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d,e){if(a.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return a.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var f=is_number(opts.items.minimum)?
opts.items.minimum:opts.items.visible+1;if(f>itms.total)return a.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+f+" needed): Not scrolling.");var g=[b,c,d,e];var h=["object","number/string","function","boolean"];var i=cf_sortParams(g,h);b=i[0],c=i[1],d=i[2],e=i[3];var j=a.type.slice(conf.events.prefix.length);if(is_object(b)||(b={}),is_function(d)&&(b.onAfter=d),is_boolean(e)&&(b.queue=e),b=$.extend(!0,{},opts[j],b),b.conditions&&!b.conditions.call($tt0,j))return a.stopImmediatePropagation(),
debug(conf,'Callback "conditions" returned false.');if(!is_number(c)){if("*"!=opts.items.filter)c="visible";else{var k=[c,b.items,opts[j].items];i=0;for(var l=k.length;l>i;i++)if(is_number(k[i])||"page"==k[i]||"visible"==k[i]){c=k[i];break}}switch(c){case "page":return a.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(j+"Page",conf),[b,d]);case "visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(c=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),
$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]]),a.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(b.duration>0&&crsl.isScrolling)return b.queue&&("last"==b.queue&&(queu=[]),("first"!=b.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]])),a.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+j,conf),[b,c]),opts.synchronise){var m=opts.synchronise;var n=[b,c];var o=0;for(l=m.length;l>o;o++){var p=
j;m[o][2]||(p="prev"==p?"next":"prev"),m[o][1]||(n[0]=m[o][0].triggerHandler("_cfs_triggerEvent",["configuration",p])),n[1]=c+m[o][3],m[o][0].trigger("_cfs_triggerEvent",["slide_"+p,n])}}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(a$$0,b,c){a$$0.stopPropagation();var d=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),a$$0.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if(opts.items.visibleConf.variable)c=
gn_getVisibleItemsPrev(d,opts,itms.total-1);else if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}if(opts.circular||itms.total-c<itms.first&&(c=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,
$tt0);f>=opts.items.visible+c&&itms.total>c&&(c++,f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=f}else if("*"!=opts.items.filter){f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a$$0.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items backward."),
itms.first+=c;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&b.onEnd&&b.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);d=$cfs.children();var g=gi_getOldItemsPrev(d,opts,c);var h=gi_getNewItemsPrev(d,opts);var i=d.eq(c-1);var j=g.last();var k=h.last();sz_resetMargin(d,
opts);var l=0;var m=0;if(opts.align){var n=cf_getAlignPadding(h,opts);l=n[0],m=n[1]}var o=0>l?opts.padding[opts.d[3]]:0;var p=!1;var q=$();if(c>opts.items.visible&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,i=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1;var t=ms_getTotalSize(d.slice(0,c),opts,"width");var u=cf_mapWrapperSizes(ms_getSizes(h,opts,!0),opts,!opts.usePadding);var v=0;var w={};var x={};var y={};var z={};var A=
{};var B={};var C={};var D=sc_getDuration(b,opts,c,t);switch(b.fx){case "cover":case "cover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visible),opts,"width")}p&&(opts.items[opts.d.width]=r),sz_resetMargin(d,opts,!0),m>=0&&sz_resetMargin(j,opts,opts.padding[opts.d[1]]),l>=0&&sz_resetMargin(i,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=m,opts.padding[opts.d[3]]=l),B[opts.d.left]=-(t-o),C[opts.d.left]=-(v-o),x[opts.d.left]=u[opts.d.width];var E=function(){};var F=function(){};
var G=function(){};var H=function(){};var I=function(){};var J=function(){};var K=function(){};var L=function(){};var M=function(){};var N=function(){};var O=function(){};switch(b.fx){case "crossfade":case "cover":case "cover-fade":case "uncover":case "uncover-fade":s=$cfs.clone(!0).appendTo($wrp)}switch(b.fx){case "crossfade":case "uncover":case "uncover-fade":s.children().slice(0,c).remove(),s.children().slice(opts.items.visibleConf.old).remove();break;case "cover":case "cover-fade":s.children().slice(opts.items.visible).remove(),
s.css(C)}if($cfs.css(B),scrl=sc_setScroll(D,b.easing,conf),w[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(E=function(){$wrp.css(u)},F=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){switch(k.not(i).length&&(y[opts.d.marginRight]=i.data("_cfs_origCssMargin"),0>l?i.css(y):(K=function(){i.css(y)},L=function(){scrl.anims.push([i,y])})),b.fx){case "cover":case "cover-fade":s.children().eq(c-1).css(y)}k.not(j).length&&
(z[opts.d.marginRight]=j.data("_cfs_origCssMargin"),G=function(){j.css(z)},H=function(){scrl.anims.push([j,z])}),m>=0&&(A[opts.d.marginRight]=k.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],I=function(){k.css(A)},J=function(){scrl.anims.push([k,A])})}O=function(){$cfs.css(w)};var P=opts.items.visible+c-itms.total;N=function(){if(P>0&&($cfs.children().slice(itms.total).remove(),g=$($cfs.children().slice(itms.total-(opts.items.visible-P)).get().concat($cfs.children().slice(0,P).get()))),sc_showHiddenItems(p),
opts.usePadding){var a=$cfs.children().eq(opts.items.visible+c-1);a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var Q=sc_mapCallbackArguments(g,q,h,c,"prev",D,u);switch(M=function(){sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",Q,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",Q,clbk),b.fx){case "none":$cfs.css(w),
E(),G(),I(),K(),O(),N(),M();break;case "fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),G(),I(),K(),O(),N(),scrl=sc_setScroll(D,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},M]),sc_startScroll(scrl,conf)}]);break;case "crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},M]),F(),G(),I(),K(),O(),N();break;case "cover":scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case "cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([s,
w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case "uncover":scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;case "uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;default:scrl.anims.push([$cfs,w,function(){N(),M()}]),F(),H(),J(),L()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slide_next",conf),function(a$$0,b$$0,
c){a$$0.stopPropagation();var d=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),a$$0.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if("*"!=opts.items.filter){var e=is_number(b$$0.items)?b$$0.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b$$0.items,$tt0)}var f=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var g=
gn_getVisibleItemsNext(d,opts,c);e=gn_getVisibleItemsPrev(d,opts,f-1)}else{g=opts.items.visible;e=opts.items.visible}c+g>f&&(c=f-e)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-c>=g&&itms.total>c;)c++,g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=g}else if("*"!=
opts.items.filter){g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a$$0.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items forward."),itms.first-=c;0>itms.first;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&b$$0.onEnd&&b$$0.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),
itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);d=$cfs.children();var h=gi_getOldItemsNext(d,opts);var i=gi_getNewItemsNext(d,opts,c);var j=d.eq(c-1);var k=h.last();var l=i.last();sz_resetMargin(d,opts);var m=0;var n=0;if(opts.align){var o=cf_getAlignPadding(i,opts);m=o[0],n=o[1]}var p=!1;var q=$();if(c>opts.items.visibleConf.old&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b$$0.fx)){var r=opts.items[opts.d.width];p=q,
j=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1;var t=ms_getTotalSize(d.slice(0,c),opts,"width");var u=cf_mapWrapperSizes(ms_getSizes(i,opts,!0),opts,!opts.usePadding);var v=0;var w={};var x={};var y={};var z={};var A={};var B=sc_getDuration(b$$0,opts,c,t);switch(b$$0.fx){case "uncover":case "uncover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visibleConf.old),opts,"width")}p&&(opts.items[opts.d.width]=r),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(d,
opts,!0),sz_resetMargin(k,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=n,opts.padding[opts.d[3]]=m),A[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var C=function(){};var D=function(){};var E=function(){};var F=function(){};var G=function(){};var H=function(){};var I=function(){};var J=function(){};var K=function(){};switch(b$$0.fx){case "crossfade":case "cover":case "cover-fade":case "uncover":case "uncover-fade":s=$cfs.clone(!0).appendTo($wrp),s.children().slice(opts.items.visibleConf.old).remove()}switch(b$$0.fx){case "crossfade":case "cover":case "cover-fade":$cfs.css("zIndex",
1),s.css("zIndex",0)}if(scrl=sc_setScroll(B,b$$0.easing,conf),w[opts.d.left]=-t,x[opts.d.left]=-v,0>m&&(w[opts.d.left]+=m),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(C=function(){$wrp.css(u)},D=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){var L=l.data("_cfs_origCssMargin");n>=0&&(L+=opts.padding[opts.d[1]]),l.css(opts.d.marginRight,L),j.not(k).length&&(z[opts.d.marginRight]=k.data("_cfs_origCssMargin")),E=function(){k.css(z)},F=function(){scrl.anims.push([k,z])};
var M=j.data("_cfs_origCssMargin");m>0&&(M+=opts.padding[opts.d[3]]),y[opts.d.marginRight]=M,G=function(){j.css(y)},H=function(){scrl.anims.push([j,y])}}K=function(){$cfs.css(A)};var N=opts.items.visible+c-itms.total;J=function(){N>0&&$cfs.children().slice(itms.total).remove();var a=$cfs.children().slice(0,c).appendTo($cfs).last();if(N>0&&(i=gi_getCurrentItems(d,opts)),sc_showHiddenItems(p),opts.usePadding){if(itms.total<opts.items.visible+c){var b=$cfs.children().eq(opts.items.visible-1);b.css(opts.d.marginRight,
b.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var O=sc_mapCallbackArguments(h,q,i,c,"next",B,u);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,s,b$$0),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b$$0,"onAfter",O,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,
b$$0,"onBefore",O,clbk),b$$0.fx){case "none":$cfs.css(w),C(),E(),G(),K(),J(),I();break;case "fade":scrl.anims.push([$cfs,{opacity:0},function(){C(),E(),G(),K(),J(),scrl=sc_setScroll(B,b$$0.easing,conf),scrl.anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case "crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),D(),E(),G(),K(),J();break;case "cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,A,I]),D(),E(),
G(),J();break;case "cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case "uncover":scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;case "uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;default:scrl.anims.push([$cfs,w,function(){K(),J(),I()}]),D(),F(),H()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",
conf),[!1,u]),!0}),$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g];var i=["string/number/object","number","boolean","object","string","function"];var j=cf_sortParams(h,i);return e=j[3],f=j[4],g=j[5],b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs),0==b?!1:(is_object(e)||(e=!1),"prev"!=f&&"next"!=f&&(f=opts.circular?itms.total/2>=b?"next":"prev":0==itms.first||itms.first>b?"next":"prev"),"prev"==f&&(b=itms.total-b),$cfs.trigger(cf_e(f,conf),[e,b,g]),!0)}),
$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])}),$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])}),$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation(),is_number(b)||(b=$cfs.triggerHandler(cf_e("currentPage",
conf)));var f=opts.pagination.items||opts.items.visible;var g=Math.ceil(itms.total/f)-1;return 0>b&&(b=g),b>g&&(b=0),$cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,!0,c,d,e])}),$cfs.bind(cf_e("jumpToStart",conf),function(a,b){if(a.stopPropagation(),b=b?gn_getItemIndex(b,0,!0,itms,$cfs):0,b+=itms.first,0!=b){if(itms.total>0)for(;b>itms.total;)b-=itms.total;$cfs.prepend($cfs.children().slice(b,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(a,b){if(a.stopPropagation(),b)b=cf_getSynchArr(b);
else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");b=opts.synchronise}var c=$cfs.triggerHandler(cf_e("currentPosition",conf));var d=!0;var e=0;for(var f=b.length;f>e;e++)b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],!0])||(d=!1);return d}),$cfs.bind(cf_e("queue",conf),function(a,b,c){return a.stopPropagation(),is_function(b)?b.call($tt0,queu):is_array(b)?queu=b:is_undefined(b)||queu.push([b,c]),queu}),$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();
var f=[b,c,d,e];var g=["string/object","string/number/object","boolean","number"];var h=cf_sortParams(f,g);if(b=h[0],c=h[1],d=h[2],e=h[3],is_object(b)&&!is_jquery(b)?b=$(b):is_string(b)&&(b=$(b)),!is_jquery(b)||0==b.length)return debug(conf,"Not a valid object.");is_undefined(c)&&(c="end"),sz_storeMargin(b,opts),sz_storeOrigCss(b);var i=c;var j="before";"end"==c?d?(0==itms.first?(c=itms.total-1,j="after"):(c=itms.first,itms.first+=b.length),0>c&&(c=0)):(c=itms.total-1,j="after"):c=gn_getItemIndex(c,
e,d,itms,$cfs);var k=$cfs.children().eq(c);return k.length?k[j](b):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(b)),"end"==i||d||itms.first>c&&(itms.first+=b.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e$$0=[b,c,d];var f=["string/number/object","boolean",
"number"];var g=cf_sortParams(e$$0,f);if(b=g[0],c=g[1],d=g[2],b instanceof $&&b.length>1)return i=$(),b.each(function(){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);e&&(i=i.add(e))}),i;if(is_undefined(b)||"end"==b)i=$cfs.children().last();else{b=gn_getItemIndex(b,d,c,itms,$cfs);var i=$cfs.children().eq(b);i.length&&itms.first>b&&(itms.first-=i.length)}return i&&i.length&&(i.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),i}),$cfs.bind(cf_e("onBefore",
conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);return is_array(b)&&(clbk[c]=b),is_function(b)&&clbk[c].push(b),clbk[c]}),$cfs.bind(cf_e("currentPosition",conf),function(a,b){if(a.stopPropagation(),0==itms.first)var c=0;else c=itms.total-itms.first;return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var e;var c=opts.pagination.items||opts.items.visible;var d=Math.ceil(itms.total/
c-1);return e=0==itms.first?0:itms.first<itms.total%c?0:itms.first!=c||opts.circular?Math.round((itms.total-itms.first)/c):d,0>e&&(e=0),e>d&&(e=d),is_function(b)&&b.call($tt0,e),e}),$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();var c=gi_getCurrentItems($cfs.children(),opts);return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("slice",conf),function(a,b,c,d){if(a.stopPropagation(),0==itms.total)return!1;var e=[b,c,d];var f=["number","number","function"];var g=cf_sortParams(e,
f);if(b=is_number(g[0])?g[0]:0,c=is_number(g[1])?g[1]:itms.total,d=g[2],b+=itms.first,c+=itms.first,items.total>0){for(;b>itms.total;)b-=itms.total;for(;c>itms.total;)c-=itms.total;for(;0>b;)b+=itms.total;for(;0>c;)c+=itms.total}var i;var h=$cfs.children();return i=c>b?h.slice(b,c):$(h.slice(b,itms.total).get().concat(h.slice(0,c).get())),is_function(d)&&d.call($tt0,i),i}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=
a.type.slice(conf.events.prefix.length);var d=crsl[c];return is_function(b)&&b.call($tt0,d),d}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&
(c=!0),eval("opts_orig."+a+" \x3d b"),c!==!1?reInit=!0:eval("opts."+a+" \x3d b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(a$$0,b$$0,c){return a$$0.stopPropagation(),is_undefined(b$$0)?b$$0=$("body"):is_string(b$$0)&&(b$$0=$(b$$0)),is_jquery(b$$0)&&0!=b$$0.length?(is_string(c)||(c="a.caroufredsel"),b$$0.find(c).each(function(){var a=
this.hash||"";a.length>0&&-1!=$cfs.children().index($(a))&&$(this).unbind("click").click(function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),a)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(a$$0,b$$0){if(a$$0.stopPropagation(),opts.pagination.container){var d=opts.pagination.items||opts.items.visible;var e=Math.ceil(itms.total/d);b$$0&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var a=
0;e>a;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(b[0],a+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[a*d,-opts.pagination.deviation,!0,opts.pagination])})})}));var f=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return f>=e&&(f=0),
0>f&&(f=e-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(f).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var b=opts.items.visible;var c=$cfs.children();var d=ms_getParentSize($wrp,opts,"width");if(itms.total=c.length,crsl.primarySizePercentage?(opts.maxDimension=d,opts[opts.d.width]=ms_getPercentage(d,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,d),opts.responsive?(opts.items.width=
opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,c,d),b=opts.items.visible,sz_setResponsiveSizes(opts,c)):opts.items.visibleConf.variable?b=gn_getVisibleItemsNext(c,opts,0):"*"!=opts.items.filter&&(b=gn_getVisibleItemsNextFilter(c,opts,0)),!opts.circular&&0!=itms.first&&b>itms.first){if(opts.items.visibleConf.variable)var e=gn_getVisibleItemsPrev(c,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)e=gn_getVisibleItemsPrevFilter(c,opts,
itms.first)-itms.first;else e=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+e+" items backward."),$cfs.trigger(cf_e("prev",conf),e)}opts.items.visible=cf_getItemsAdjust(b,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,c);var f=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,f]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),f}),$cfs.bind(cf_e("destroy",
conf),function(a,b){return a.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),b&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+
opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(a,b,c){return a.stopPropagation(),$cfs.triggerHandler(cf_e(b,conf),c)})},
FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var a$$0=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a$$0)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&
opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(a){a.preventDefault();var b=!1;var c=null;crsl.isPaused?b="play":opts.auto.pauseOnEvent&&(b="pause",c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),b&&$cfs.trigger(cf_e(b,conf),c)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){a$$0=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,
!1),function(){$cfs.trigger(cf_e("pause",conf),a$$0)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){a$$0=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a$$0)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",
conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){a$$0=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a$$0)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b==opts.next.key&&(a.preventDefault(),$cfs.trigger(cf_e("next",conf))),b==opts.prev.key&&
(a.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b>=49&&58>b&&(b=(b-49)*opts.items.visible,itms.total>=b&&(a.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[b,0,!0,opts.pagination])))}),$.fn.swipe){var b$$0="ontouchstart"in window;if(b$$0&&opts.swipe.onTouch||!b$$0&&opts.swipe.onMouse){var c$$0=$.extend(!0,{},opts.prev,opts.swipe);var d=$.extend(!0,{},opts.next,opts.swipe);var e=function(){$cfs.trigger(cf_e("prev",
conf),[c$$0])};var f=function(){$cfs.trigger(cf_e("next",conf),[d])};switch(opts.direction){case "up":case "down":opts.swipe.options.swipeUp=f,opts.swipe.options.swipeDown=e;break;default:opts.swipe.options.swipeLeft=f,opts.swipe.options.swipeRight=e}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var g=$.extend(!0,{},opts.prev,opts.mousewheel);var h=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&
$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(a,b){a.preventDefault(),b>0?$cfs.trigger(cf_e("prev",conf),[g]):$cfs.trigger(cf_e("next",conf),[h])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var i=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))};
var j=$(window);var k=null;if($.debounce&&"debounce"==conf.onWindowResize)k=$.debounce(200,i);else if($.throttle&&"throttle"==conf.onWindowResize)k=$.throttle(300,i);else{var l=0;var m=0;k=function(){var a=j.width();var b=j.height();(a!=l||b!=m)&&(i(),l=a,m=b)}}j.bind(cf_e("resize",conf,!1,!0,!0),k)}},FN._unbind_buttons=function(){var b=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(b),opts.auto.button&&opts.auto.button.unbind(b),
opts.prev.button&&opts.prev.button.unbind(b),opts.next.button&&opts.next.button.unbind(b),opts.pagination.container&&(opts.pagination.container.unbind(b),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,
isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1};var itms={total:$cfs.children().length,first:0};var tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0};var scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]};var clbk={onBefore:[],onAfter:[]};var queu=[];var conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs);var opts={};var opts_orig=$.extend(!0,{},options);var $wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("\x3c"+conf.wrapper.element+' class\x3d"'+conf.wrapper.classname+
'" /\x3e').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0){var a$$1=0;for(var l$$0=
start_arr.length;l$$0>a$$1;a$$1++){var s$$0=start_arr[a$$1];if(0!=s$$0){if(s$$0===!0){if(s$$0=window.location.hash,1>s$$0.length)continue}else"random"===s$$0&&(s$$0=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s$$0,0,!0,{fx:"none"}]))break}}}var siz=sz_setSizes($cfs,opts);var itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),
$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=
function(a){return'\x3ca href\x3d"#"\x3e\x3cspan\x3e'+a+"\x3c/span\x3e\x3c/a\x3e"},$.fn.carouFredSel.progressbarUpdater=function(a){$(this).css("width",a+"%")},$.fn.carouFredSel.cookie={get:function(a){a+="\x3d";var b=document.cookie.split(";");var c=0;for(var d=b.length;d>c;c++){for(var e=b[c];" "==e.charAt(0);)e=e.slice(1);if(0==e.indexOf(a))return e.slice(a.length)}return 0},set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1E3*60*60*24*c),d="; expires\x3d"+e.toGMTString()}document.cookie=
a+"\x3d"+b+d+"; path\x3d/"},remove:function(a){$.fn.carouFredSel.cookie.set(a,"",-1)}},$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}}))})(jQuery);
jQuery(function($){var testElement=$('\x3cspan style\x3d"background-color:#19a271;position:absolute;left:-9999px;top:-9999px;display:block;width:10px;height:10px;" id\x3d"highContrastModeTest"\x3e\x3c/span\x3e');testElement.appendTo("body");var testColor=testElement.css("background-color")||"";if(!/#19a271|rgba?\(25,\s*162,\s*113(,\s*\d)?\)/i.test(testColor))document.documentElement.className+=" hcm"});
jQuery(function($){$('script[type\x3d"text/x-insert-ondomready"]').each(function(i,script){script=$(script);script.replaceWith(script.tmpl(iTim.translations))})});
(function($){$.ui.autocomplete.prototype._renderItem=function(ul,item){item.label=item.label.replace(new RegExp("(?![^\x26;]+;)(?!\x3c[^\x3c\x3e]*)("+$.ui.autocomplete.escapeRegex(this.term)+")(?![^\x3c\x3e]*\x3e)(?![^\x26;]+;)","gi"),"\x3cstrong\x3e$1\x3c/strong\x3e");return $('\x3cli\x3e\x3c/li\x3e"').data("item.autocomplete",item).append("\x3ca\x3e"+item.label+"\x3c/a\x3e").appendTo(ul)};iTim.ns("iTim.Page.search",null,{opt:{selectSearchField:"#searchField",urlAutocompleteData:"../../data/autocomplete/search.xml?results\x3d10\x26query\x3d{0}\x26indexExt\x3dnull"},
init:function(opt){$.extend(this.opt,opt||{});$(this.opt.selectSearchField).autocomplete({source:iTim.bind(this.doSearch,this),minLength:3})},doSearch:function(data$$0,cb){$.ajax({dataType:"xml",url:iTim.format(this.opt.urlAutocompleteData,encodeURIComponent(data$$0.term)),success:function(xmlResponse){var data=$("result",xmlResponse).map(function(){return{value:$("title",this).text()}}).get();cb(data)}})}})})(jQuery);iTim.log("setting jQuery into no-conflict mode");jQuery.noConflict();
jQuery(function($){function testKey(e){var key=typeof e.charCode=="undefined"?e.keyCode:e.charCode;if(e.ctrlKey||e.altKey||key<32)return true;key=String.fromCharCode(key);return/\d/.test(key)}if($.browser&&$.browser.msie&&+$.browser.version<7)$(".iehover").on("mouseover",function(e){if($(this).hasClass("iehover"))$(this).addClass("hover")}).on("mouseout",function(e){if($(this).hasClass("iehover"))$(this).removeClass("hover")});$("input:text").each(function(){var input=$(this);var data=input.metadata();
if(!data["default"])return;if(!input.val())input.val(data["default"]);input.bind("focusin",function(e){if(data["default"]==input.val())input.val("")}).bind("focusout",function(e){if(!input.val())input.val(data["default"])})});$(".text").each(function(){var input=$(this);var data=input.metadata();if(!data["default"])return;if(!input.val())input.val(data["default"]);input.bind("focusin",function(e){if(data["default"]==input.val())input.val("")}).bind("focusout",function(e){if(!input.val())input.val(data["default"])})});
$("#mainNavigation li a").bind("focus",function(){$(this).closest(".level1").addClass("focused")}).bind("blur",function(){$(this).closest(".level1").removeClass("focused")});$(".navigationMeta, .pullDown").find("li a").bind("focus",function(){clearTimeout($(this).closest(".level1").addClass("focused").data("blurTimeout"))}).bind("blur",function(){var level1=$(this).closest(".level1");var blurTimeout=setTimeout(function(){level1.removeClass("focused")},10);level1.data("blurTimeout",blurTimeout)}).filter(".choose").bind("click",
function(e){e.preventDefault()});$(".stageModule ul.tabs-list").bind("click",function(){if($(this).find("li:nth-child(2)").hasClass("current"))$(this).find("li").addClass("noBorder");else $(this).find("li").removeClass("noBorder")});$(".categories").each(function(){var isDropdownVisible=false;var menu=$(this).bind("mouseleave",function(){isDropdownVisible=false;menu.removeClass("open")});var links=menu.find("ul \x3e li \x3e a").bind("click",function(e){if(isDropdownVisible){isDropdownVisible=false;
menu.removeClass("open");return}isDropdownVisible=true;menu.addClass("open");e.preventDefault()});var selectCategory=function(){if($("body").find(location.hash).length>0){var category=location.hash;var link=category?links.filter(iTim.format("[href\x3d{0}]",category)):[];if(!link.length){link=links.eq(0);category=link.attr("href")}links.parent().removeClass("activeLink");link.parent().addClass("activeLink");$(category).addClass("active").siblings(".category").removeClass("active")}};$(window).bind("hashchange",
selectCategory);selectCategory()});$(".sbLink .sbToggle").bind("click",function(e$$0){$(".sbLink").removeClass("active").find(".sbOptions").removeClass("focused");e$$0.preventDefault();var sbOptions=$(this).siblings(".sbOptions").toggleClass("focused");$(this).closest(".sbLink").toggleClass("active");$(document).unbind(".selectBoxToggle");setTimeout(function(){$(document).bind("click.selectBoxToggle",function(e){$(".sbOptions").removeClass("focused");$(".sbLink").removeClass("active")})},10)});if($(".fourSliderModule").length!=
0)$(".fourSliderModule").each(function(){var prevButton=$(this).find(".pageButton.prev");var nextButton=$(this).find(".pageButton.next");$(this).find("ul").carouFredSel({height:110,items:{visible:4,minimum:4,width:125,height:"variable"},auto:false,prev:{button:prevButton,items:4},next:{button:nextButton,items:4}})});if($(".quotationsSlider").length!=0)$(".quotationsSlider").each(function(){var prevButton=$(this).find(".pageButton.prev");var nextButton=$(this).find(".pageButton.next");$(this).find("ul").carouFredSel({height:120,
items:{visible:1,minimum:1,width:309,height:"variable"},scroll:{duration:1E3},prev:{button:prevButton,items:1},next:{button:nextButton,items:1}})});$(".teaserUSP .slideStart").each(function(){$(this).find(".slider .sliderItems .teaser").first().addClass("active")});$(".slider").closest(".slideStart").scrollk({selectItem:".teaser",selectButtonPrevious:".prev .icons",selectButtonNext:".next .icons",classButtonActive:"show",onPagesRefreshed:function(){this.el.find(".pager").toggle(this.pages.length>
1)}});$("form :input").click(function(){this.focus()}).focus(function(){$('[for|\x3d"'+encodeURI(this.id)+'"]').addClass("labelfocus");$(this).parent().andSelf().siblings(".label").addClass("labelfocus")}).blur(function(){$('[for|\x3d"'+encodeURI(this.id)+'"]').removeClass("labelfocus");$(this).parent().andSelf().siblings(".label").removeClass("labelfocus")});$(".ticketTable .inputParent").each(function(i,input){input=$(input);input.attr("data-enables","#"+iTim.id(input.closest("tr").find(".inputChild").get(0)))});
$("input[name\x3dcheck_all]").each(function(numAll,all){all=$(this);var checkboxes=all.closest("fieldset").find("input:checkbox").not(all);all.bind("click",function(e){checkboxes.prop("checked",this.checked)});checkboxes.bind("click",function(e){all.prop("checked",false)})})});
(function($,iTim){var storedOptions=iTim.StoredOptions;var defaultOptions=$.extend(true,$.modalOverlay.options,{modal:true,content:{width:540},plugins:{description:{where:"before",selectEl:".overlayNavigationBottom"},galleryDescription:false,navigationAbove:false,buttonPrint:false,copyright:false,weeBitMoreA11y:false,galleryNav:{isCircular:false},inline:{clone:false},title:false,buttonPrint:false,buttonDownload:false,eventCapture:false,shadow:false},lang:{}});storedOptions.set("overlayDefault",defaultOptions);
jQuery(function(){$.each($.modalOverlay.options.lang,function(key,label){defaultOptions.lang[key]=iTim.translate("lightbox_"+key.replace(".","_"),label)});storedOptions.set("messageBox",{inherits:"overlayDefault"});storedOptions.set("iFrameContent",{inherits:"overlayDefault"});storedOptions.set("messageBoxRemote",{inherits:"overlayDefault",skin:"messageBoxRemote",content:{player:"iframe",width:550}});bindModalOverlay(true)})})(jQuery,iTim);
function bindModalOverlay(isInitialCall){jQuery("a.modal, button.modal").each(function(){var $a=jQuery(this);if(!$a.hasClass("modalOverlayBound")){if(isInitialCall)$a.modalOverlay({inherits:"overlayDefault"});else $a.on("click",function(e){e.preventDefault;e.stopPropagation();jQuery(this).off("click");handleLinkToModalFromAModal(this);return false});$a.addClass("modalOverlayBound")}});jQuery("a.innerOverlayCustomClose, button.innerOverlayCustomClose, input.innerOverlayCustomClose").off("click").on("click",
function(){jQuery.modalOverlay.close();return false})}function handleLinkToModalFromAModal(btn){jQuery("body").append(btn);jQuery(btn).prop("id","hiddenModalTrigger").css("display","none");jQuery.modalOverlay.closeFast();jQuery(btn).modalOverlay({inherits:"overlayDefault"});window.setTimeout(function(){jQuery("#hiddenModalTrigger").click();jQuery(btn).prop("id","")},100)}
jQuery(function($){var toggleInputs=function(checkbox,doNotToggleGroupMembers){checkbox=$(checkbox);var container=$(checkbox.data("enables"));var inputs=container.find("input, select").not(checkbox);var checked=checkbox.is(":checked");var selectboxMethod=checked?"_enableSelectbox":"_disableSelectbox";container.toggleClass("disabled",!checked);inputs.prop("disabled",!checked);inputs.filter("select").each(function(){$.selectbox&&$.selectbox[selectboxMethod](this)});if(!doNotToggleGroupMembers)$("[name\x3d"+
checkbox.attr("name")+"]").not(checkbox).each(function(){toggleInputs(this,true)})};$("[data-enables]").each(function(){var checkbox=$(this);toggleInputs(this,true);checkbox.add("input[name\x3d"+checkbox.attr("name")+"]:not(data-enables)").click(function(e){toggleInputs(checkbox)})})});
jQuery(function($){$(window).bind("load",function(){$(".faderModule").each(function(i,el){el=$(el);var defaultFadeIn=400;var uspFadeIn=0;var fadeInDuration;if($(this).parent().hasClass("teaserUSP"))fadeInDuration=uspFadeIn;else fadeInDuration=defaultFadeIn;var index$$0=0;el.find(".prev").bind("click keypress",function(e){if(!(e.type=="click"||e.keyCode==13))return;e.preventDefault();var oldIndex=index$$0;index$$0=Math.max(0,index$$0-1);if(oldIndex==0)index$$0=items.length-1;update(oldIndex,index$$0)});
el.find(".next").bind("click keypress",function(e){if(!(e.type=="click"||e.keyCode==13))return;e.preventDefault();var oldIndex=index$$0;index$$0=Math.min(items.length-1,index$$0+1);if(oldIndex==index$$0)index$$0=0;update(oldIndex,index$$0)});var update=function(oldIndex,index){if(oldIndex==index);var itemBefore=items.filter(".active").removeClass("active");items.eq(index).addClass("active").fadeIn(fadeInDuration).queue(function(){itemBefore.hide();$(this).dequeue()});var hasPrev=index>0;var hasNext=
index<items.length-1};var items=el.find(".teaser");var height=0;items.each(function(){var itemHeight=$(this).height();if(height<itemHeight)height=itemHeight});el.find(".sliderItems").add(items).css({height:height});el.addClass("activated");items.filter(":gt(0)").hide()})})})/jQuery;
function addEvent(obj,event,functionToCall){if(obj.addEventListener){obj.addEventListener(event,functionToCall,false);return true}else if(obj.attachEvent){var r=obj.attachEvent("on"+event,functionToCall);return r}else return false}function toggleAll(name,control){var f=control.form;for(var i=0;i<f.length;i++)if(f[i].name==name)f[i].checked=control.checked}
function showInfoPopUp(idTarget,caller){jQuery(caller).mouseover(function(e){jQuery("#"+idTarget).css("display","block");jQuery("#"+idTarget).css("top",e.pageY+10);jQuery("#"+idTarget).css("left",e.pageX+20)}).mousemove(function(e){jQuery("#"+idTarget).css("top",e.pageY+10);jQuery("#"+idTarget).css("left",e.pageX+20)}).mouseout(function(){jQuery("#"+idTarget).css("display","none")})}
function markAsRead(caller){if(null!=caller&&"A"==caller.tagName&&null!=caller.parentNode){for(var cell=caller;"TR"!=cell.tagName&&null!=cell;)cell=getParent(cell);var tr=cell;for(var i=0;i<tr.childNodes.length;i++){cell=tr.childNodes[i];if(cell.nodeName!="#text"&&cell.id=="title")break}if(null!=cell)for(i=0;i<cell.childNodes.length;i++){var current=cell.childNodes[i];if(current.nodeName!="#text"&&current.tagName=="STRONG"){var tmp;for(var j=0;j<current.childNodes.length;j++){tmp=current.childNodes[j];
if(current.childNodes[j].nodeName!="#text")break}if(null!=tmp){cell.removeChild(current);cell.appendChild(tmp)}}}}}function getParent(caller){if(null!=caller.parentNode)return caller.parentNode;else return null}function callInProgress(xmlhttp){console.debug("checking XMLRequest status...");switch(xmlhttp.readyState){case 1:case 2:case 3:return true;break;default:return false;break}}function showFailureMessage(){}
function hideShowCovered(caller){function isContained(el){for(;el;){if(el==self.element)return true;el=el.parentNode}return false}var self=caller;var el$$0=caller;var tags=new Array("select");var p=getAbsolutePos(el$$0);var EX1=p.x;var EX2=el$$0.offsetWidth+EX1;var EY1=p.y;var EY2=el$$0.offsetHeight+EY1;if(el$$0.style.display=="none")EX1=EX2=EY1=EY2=0;for(var k=tags.length;k>0;){var ar=document.getElementsByTagName(tags[--k]);var cc=null;for(var i=ar.length;i>0;){cc=ar[--i];if(isContained(cc)){cc.style.visibility=
"visible";continue}p=getAbsolutePos(cc);var CX1=p.x;var CX2=cc.offsetWidth+CX1;var CY1=p.y;var CY2=cc.offsetHeight+CY1;if(CX1>EX2||CX2<EX1||CY1>EY2||CY2<EY1)cc.style.visibility="visible";else cc.style.visibility="hidden"}}}var getAbsolutePos=function(el){var r={x:el.offsetLeft,y:el.offsetTop};if(el.offsetParent){var tmp=getAbsolutePos(el.offsetParent);r.x+=tmp.x;r.y+=tmp.y}return r};
function setDateFields(name,radioValue){var radio=document.getElementsByName(name);for(var index=0;index<radio.length;index++)if(radio[index].value==radioValue)radio[index].checked=true}function replaceSpecialChars(charToReplace){var map=specialCharMap();var newChar=map[charToReplace];newChar=newChar==undefined?" ":newChar;return newChar}
function specialCharMap(){var map={"�":"A","�":"A","�":"A","�":"e","�":"AE","�":"A","�":"E","�":"E","�":"E","�":"E","�":"I","�":"I","�":"I","�":"I","�":"I","�":"I","�":"N","�":"O","�":"O","�":"O","�":"O","�":"OE","�":"U","�":"U","�":"UE","�":"Y","�":"O","?":"S","?":"Z","?":"z","?":"Y","�":"ss","�":"a","�":"a","�":"a","�":"a","�":"a","�":"ae","�":"a","�":"a","�":"c","�":"e","�":"e","�":"e","�":"e","�":"i","�":"i","�":"i","�":"i","�":"n","�":"o","�":"o","�":"o","�":"o","�":"oe","�":"u","�":"u","�":"u",
"�":"u","�":"ue","�":"y","�":"ss"};return map}function getNumberFromInput(field){var fields=document.getElementsByName(field);if(fields.length==0)return 0;var value=fields[0].value;value=value.replace(".","");value=value.replace(",",".");return parseFloat(value)}function setInputToNumber(field,value){var fields=document.getElementsByName(field);if(fields.length==0)return;var s=""+value.toFixed(2);s=s.replace(".",",");fields[0].value=s}
if(Abaxx.widgets.sessionInfo)Abaxx.widgets.sessionInfo.resetSessionTimeout=function(){if(typeof currentSessionInfo!="undefined")currentSessionInfo.resetSessionTimeout()};function dkbModalOverlay(divId){var modalOverlay=jQuery.modalOverlay.show({inherits:divId,content:{href:"#"+divId}});jQuery("#"+divId).show();return modalOverlay}
var SEPA_2_0={prepareBicHandling:function(codes){jQuery("#creditorAccountNo").mask("AAAA AAAA AAAA AAAA AAAA AAAA AAAA AAA");jQuery("#creditorAccountNo").bind("change paste keyup keypress input",function(){SEPA_2_0.showOrHideBic(codes)});jQuery("input:checkbox[name\x3d'foreignAccountRemittance']").click(function(){SEPA_2_0.showOrHideBic(codes)});SEPA_2_0.showOrHideBic(codes)},prepareIbanHandling:function(){jQuery("#creditorAccountNo").bind("change paste keyup keypress input",function(){SEPA_2_0.handleGermanIban()});
jQuery("#creditorAccountNo").mask("AAAA AAAA AAAA AAAA AAAA AAAA AAAA AAA");jQuery("input:checkbox[name\x3d'foreignAccountRemittance']").click(function(){SEPA_2_0.handleGermanIban()});SEPA_2_0.handleGermanIban()},showOrHideBic:function(codes){var $creditorBankcode=jQuery("#creditorBankcode");var isForeignRemittanceChecked=jQuery("input:checkbox[name\x3d'foreignAccountRemittance']").is(":checked");var $creditorAccountNoInput=jQuery.trim(jQuery("#creditorAccountNo").val());if($creditorAccountNoInput.length>
0){var iban=$creditorAccountNoInput;var ibanLangCode=iban.substring(0,2).toUpperCase();var isNotEWR=iban.length>=2&&codes.indexOf(ibanLangCode)==-1;var notIBAN=iban.length>=1&&!/^[a-zA-Z]+/.test(iban.substring(0,1));if(iban.length==1&&!notIBAN)return;var $creditotBankName=jQuery("#creditorBankName");if($creditotBankName.length>0)if(isNotEWR||notIBAN||ibanLangCode=="DE")$creditotBankName.show();else $creditotBankName.hide();if($creditorBankcode.length>0)if(isNotEWR||notIBAN||isForeignRemittanceChecked)$creditorBankcode.show();
else{$creditorBankcode.hide();var $creditorBic=jQuery("#creditorBic");if($creditorBic.length>0)$creditorBic.val("")}}else if(isForeignRemittanceChecked)$creditorBankcode.show();else $creditorBankcode.hide()},handleGermanIban:function(){var $creditorAccountNoInput=jQuery.trim(jQuery("#creditorAccountNo").val());if($creditorAccountNoInput.length>0){var iban=$creditorAccountNoInput;var ibanLangCode=iban.substring(0,2).toUpperCase();var isForeignRemittanceChecked=jQuery("input:checkbox[name\x3d'foreignAccountRemittance']").is(":checked");
try{if(!isForeignRemittanceChecked&&iban.length>=2&&!/^[a-zA-Z]+/.test(iban.substring(0,1))){jQuery("#creditorBankcode").show();jQuery("#creditorBankName").show()}else if(!isForeignRemittanceChecked&&ibanLangCode=="DE"){jQuery("#creditorBankcode").hide();jQuery("#creditorBic").val("")}else{jQuery("#creditorBankcode").show();jQuery("#creditorBankName").show()}}catch(e){}}}};var lastBrowserSleepCheck=0;var browserSleepCheckCallback={};var browserSleepCheckInterval;
function browserSleepCheck(){if((new Date).getTime()-lastBrowserSleepCheck>2E3)for(var key in browserSleepCheckCallback)if(typeof browserSleepCheckCallback[key]=="function")browserSleepCheckCallback[key]();lastBrowserSleepCheck=(new Date).getTime()}window.onload=function(){try{clearInterval(browserSleepCheckInterval)}catch(e){}lastBrowserSleepCheck=(new Date).getTime();browserSleepCheckInterval=window.setInterval(browserSleepCheck,1E3)};jQuery.ajaxSetup({cache:false});
var jsMediaQueryInitialized=false;var scrollPosBeforeMenu=0;
function initializeJsMediaQuery(){var header_helpers=function(class_array){var i=class_array.length;for(var head=jQuery("head");i--;)if(head.has("."+class_array[i]).length===0)head.append('\x3cmeta class\x3d"'+class_array[i]+'" /\x3e')};header_helpers(["foundation-mq-xxsmall","foundation-mq-xsmall","foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]);jsMediaQueryInitialized=true}
function mediaQueryBySize(size){if(!jsMediaQueryInitialized)initializeJsMediaQuery();return jQuery("head").find(".foundation-mq-"+size).css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")}function mediaQueryXXSmall(){return mediaQueryBySize("xxsmall")}function mediaQueryXSmall(){return mediaQueryBySize("xsmall")}function mediaQuerySmall(){return mediaQueryBySize("small")}function mediaQueryMedium(){return mediaQueryBySize("medium")}
function mediaQueryLarge(){return mediaQueryBySize("large")}function mediaQueryXlarge(){return mediaQueryBySize("xlarge")}function mediaQueryXXLarge(){return mediaQueryBySize("xxlarge")}function matchMediaQuery(mq){return window.matchMedia(mq).matches}function is_xxsmall_up(){return matchMediaQuery(mediaQueryXXSmall())}function is_xsmall_up(){return matchMediaQuery(mediaQueryXSmall())}function is_small_up(){return matchMediaQuery(mediaQuerySmall())}
function is_medium_up(){return matchMediaQuery(mediaQueryMedium())}function is_large_up(){return matchMediaQuery(mediaQueryLarge())}function is_xxsmall_only(){return is_xxsmall_up()&&!is_xsmall_up()}function is_xsmall_only(){return is_xsmall_up()&&!is_small_up()}function is_small_only(){return is_small_up()&&!is_medium_up()}function is_medium_only(){return is_medium_up()&&!is_large_up()}function is_large_only(){return is_medium_up()&&is_large_up()}
function is_touch_device(){try{document.createEvent("TouchEvent");return true}catch(e){return false}}function is_small_and_down(){var result=!is_medium_up();if(result)was_small_down=true;return result}function is_medium_and_down(){var result=!is_large_up();if(result)was_medium_down=true;return result}var was_small_down=false;var was_medium_down=false;if(jQuery.ui!=undefined)jQuery.widget("ui.dialog",jQuery.ui.dialog,{open:function(){this._super();this.uiDialog.find(":button").blur()}});
jQuery(document).ready(function(){if(typeof beforeInitResponsive=="function")beforeInitResponsive();initResponsive()});
function initResponsive(){handleSize(true);fixPushTanHintMessage();enhanceTablePager();bindOwlCarousel();bindOwlCarouselStartseite();var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie>0||!!navigator.userAgent.match(/Trident.*rv\:11\./)){jQuery(".owl-prev").click(function(){jQuery(".owl-wrapper").css("transform","")});jQuery(".owl-next").click(function(){jQuery(".owl-wrapper").css("transform","")})}forceRepaintingcheckboxOnChange();initTabmodulJsVersion();initSpinner();prepareSpinnerOnce();
handlePortfolioOverview();handleFundsSearchResults();handleMultilineSelectCheckbox();chiptanResponsive();initTooltips();handleKeypad();closeDialog();handleDatepickerDialog();handleWebtreckId();jQuery(window).resize(function(){handleSize()})}function handleDatepickerDialog(){jQuery("input.hasDatepicker").click(function(){if(is_medium_and_down()){jQuery(this).prop("readonly",true);jQuery(this).next("img.ui-datepicker-trigger").click()}else jQuery(this).prop("readonly",false)})}
function closeDialog(){jQuery("body").bind("dialogopen",function(event,ui){jQuery(".ui-dialog-titlebar-close").bind("touchstart",function(){jQuery(this).click()});jQuery(".abx-web-hasPopup .ui-widget-overlay").click(function(){if(jQuery(".abx-web-hasPopup").length==0)return;jQuery("div.ui-widget-content .ui-dialog-titlebar-close").click()})});jQuery(document).on("click",".overlayBg",function(event){if(jQuery(".hasModalOverlay").length==0)return;jQuery.modalOverlay.hide()})}
function handleKeypad(){jQuery("a.date-picker-control").click(function(event){jQuery("button.keypad-key:contains('SS')").html("\x26#223;")});jQuery(document).on("click","button.keypad-shift",function(event){jQuery("button.keypad-key:contains('SS')").html("\x26#223;")})}
function handleSize(ignoreHasViewPortChanged){if(ignoreHasViewPortChanged==true||hasViewPortChanged()){prepareMobileMenuIfNeeded();handleHeadlineForApplicationNav();handleColspan();handleCollapsableTableColumnHeaders();addDetailRow();css_browser_selector(navigator.userAgent);handleTypeNumber();addFixForOpenKeybordOnMobile();handleError();bindSearchWknOnEnter();handleEpaymentOverviewVisibility();handleCmsTableModule();if(is_large_up())closeMobileMenu()}handleFooterAccordion()}var lastDetectedViewportConst;
function hasViewPortChanged(){if(lastDetectedViewportConst==undefined||lastDetectedViewportConst!=detectedCurrentViewportConst()){lastDetectedViewportConst=detectedCurrentViewportConst();return true}return false}function detectedCurrentViewportConst(){if(is_xxsmall_only())return 0;else if(is_xsmall_only())return 1;else if(is_small_only())return 2;else if(is_medium_only())return 3;else if(is_large_only())return 4}
function handleTypeNumber(){if(is_small_and_down())jQuery(".typeTanOnSmall").each(function(){jQuery(this).prop("type","tel")});else if(was_small_down)jQuery(".typeNumberOnSmall, .typeTanOnSmall").each(function(){jQuery(this).removeAttr("type");jQuery(this).removeAttr("lang");jQuery(this).removeAttr("pattern");jQuery(this).removeAttr("step")})}
function handleColspan(){var cssClass="large";if(is_small_and_down())cssClass="small";else if(is_medium_only())cssClass="medium";jQuery("tr.sum td").each(function(){if(jQuery(this).hasClass(cssClass+"-no-colspan"))jQuery(this).removeAttr("colspan");var cssClasses=jQuery(this).prop("class");var regex=new RegExp(cssClass+"-colspan-(\\d)");if(cssClasses!=undefined&&cssClasses.match(regex)!=null){var colsize=cssClasses.match(regex)[1];if(colsize!=undefined)jQuery(this).prop("colspan",colsize)}})}
function expandableTableToggleDetailsRow(event){$target=jQuery(event.target);if(!($target.is("input")||$target.is("label.radio")||$target.is("td.mailboxRowSelector")||$target.is("a"))){var $mainRow=jQuery(this);if(jQuery(this).hasClass("new_row_for_small"))$mainRow=jQuery(this).next().prevUntil("tr:not(.new_row_for_small)").last().prev();else if(jQuery(this).hasClass("inline-header-row"))$mainRow=jQuery(this).next();if($mainRow.hasClass("noActions"))return;var userClosedRow=$mainRow.hasClass("expand");
jQuery(this).closest("table").find("tr.expand").each(function(){jQuery(this).removeClass("expand")});if(!userClosedRow){$mainRow.addClass("expand");var nextTr=$mainRow.next();if(!jQuery(nextTr).hasClass("detailsRow"))nextTr=$mainRow.nextUntil(".detailsRow").last().next();if(jQuery(nextTr).hasClass("detailsRow"))jQuery(nextTr).addClass("expand")}}}
function handleCollapsableTableColumnHeaders(){if(is_small_and_down()){var $tables=jQuery(".expandableTable-with-sort");$tables.each(function(){var $collapsableTableHeaders=jQuery("th.collapse-when-small");var $targetTableHeader=jQuery(".take-collapsed-th");if(!$targetTableHeader.length)return;$collapsableTableHeaders.each(function(index,element){if($targetTableHeader.children().length)return;var $headerContent=jQuery(element).children().first().clone(true);$targetTableHeader.prepend($headerContent)})})}}
function addDetailRow(){if(is_small_and_down()||is_medium_only()){handleNewRowOnSmall();var colspanFallback=10;var $expandableTables=jQuery(".expandableTable");$expandableTables.each(function(){var $table=jQuery(this);if($table.find(".detailsRow").length<1&&$table.find("td.actions").length>0){var colspan=$table.data("dkbExpandableTableDetailsRowColspan");if(!colspan)colspan=$table.find("thead \x3e tr:not(.summary-top):first \x3e th:visible").length||colspanFallback;$table.find(".mainRow, .mbo-folderview-row").each(function(){var $mainRow=
jQuery(this);var oldTrClassSelector="mainRow";if($mainRow.hasClass("mbo-folderview-row"))oldTrClassSelector="mbo-folderview-row";var detailsRowTr=document.createElement("tr");detailsRowTr.className="detailsRow";var detailsRowTd=document.createElement("td");detailsRowTd.setAttribute("colspan",colspan);detailsRowTr.appendChild(detailsRowTd);var $hrefList=$mainRow.find(".actions a");if($hrefList.length==0)$mainRow.addClass("noActions");$hrefList.each(function(){var $action=jQuery(this);var href=$action.attr("href");
if(href!=undefined&&(href.indexOf("$event")>-1||$action.prop("onclick")!=undefined||$action.prop("onClick")!=undefined||$action.hasClass("is_action_button"))){var clonedHref=$action.get(0).cloneNode(true);if(jQuery(clonedHref).find("span.icons").length==0)jQuery(clonedHref).each(function(){var $href=jQuery(this);if($href.html().trim().length==0&&$href.prop("title"))$href.html($href.prop("title"))});jQuery(clonedHref).find("span.icons").each(function(){var $icon=jQuery(this);if($icon.html().trim().length==
0&&$icon.prop("title"))$icon.html($icon.prop("title"))});detailsRowTd.appendChild(clonedHref)}});if($mainRow.next().length==0||$mainRow.next().hasClass(oldTrClassSelector)||$mainRow.next().hasClass("sum")||$mainRow.next().hasClass("inline-header-row"))$mainRow.after(detailsRowTr);else $mainRow.nextUntil("."+oldTrClassSelector+", .sum").last().after(detailsRowTr)})}});$expandableTables.off("click.expandableTable").on("click.expandableTable",".mainRow, .inline-header-row, .mbo-folderview-row, .new_row_for_small",
expandableTableToggleDetailsRow)}var oldValue="";jQuery(".expandableTable.dateHandling").each(function(){var $table=jQuery(this);if($table.hasClass("doDateHandlingForSmall")&&is_small_only()||is_xsmall_only()||is_xxsmall_only()){if($table.find(".valueDateRow").length===0){var colspan=$table.find("thead \x3e tr:first \x3e th:visible").length;var headerText=($table.find("thead th .valueDateHeader").text()||"Wertstellung")+": ";$table.find(".mainRow, .mbo-folderview-row").each(function(){var content=
jQuery(this).find("span.valueDate");if(content!=undefined&&content.length>0)if(oldValue!==content.html())oldValue=createValueDateRow(jQuery(this),content,colspan,headerText)})}}else jQuery($table).find(".valueDateRow").remove()})}
function handleNewRowOnSmall(){if(is_small_and_down())jQuery("td.use_new_row_on_small:not(.handledNewRowOnSmallDone)").each(function(){var $this=jQuery(this);var useColspan=1;if($this.hasClass("use_colspan_2"))useColspan=2;else if($this.hasClass("use_colspan_3"))useColspan=3;else if($this.hasClass("use_colspan_4"))useColspan=4;else if($this.hasClass("use_colspan_5"))useColspan=5;else if($this.hasClass("use_colspan_6"))useColspan=6;var add_col_before=0;if($this.hasClass("add_col_before_1"))add_col_before=
1;else if($this.hasClass("add_col_before_2"))add_col_before=2;else if($this.hasClass("add_col_before_3"))add_col_before=3;else if($this.hasClass("add_col_before_4"))add_col_before=4;else if($this.hasClass("add_col_before_5"))add_col_before=5;var newTr=document.createElement("tr");newTr.className="hide-for-medium-up new_row_for_small";var clonedTd=$this.get(0).cloneNode(true);clonedTd.className="";if($this.hasClass("special_executionDay"))jQuery(clonedTd).html(jQuery(clonedTd).html().replace(/<br>/g,
" "));jQuery(clonedTd).attr("colspan",useColspan);for(var i=0;i<add_col_before;i++)newTr.appendChild(document.createElement("td"));newTr.appendChild(clonedTd);var $oldRow=$this.closest("tr");$oldRow.addClass("old_row_for_small");if($oldRow.next().hasClass("new_row_for_small"))$oldRow.nextUntil("tr:not(.new_row_for_small)").after(newTr);else $oldRow.after(newTr);if(!$this.hasClass("hide")){$this.addClass("show-for-medium-up");$this.children("input").prop("disabled",true)}$this.addClass("handledNewRowOnSmallDone");
var $table=$this.closest("table");var $oldTh;if($this.attr("headers"))$oldTh=jQuery("th[id\x3d'"+$this.attr("headers")+"']");if($oldTh==undefined||$oldTh.length===0)$oldTh=$table.find("th:nth-child("+(useColspan+1)+")");if($oldTh!=undefined&&$oldTh.length>0)if(!$oldTh.hasClass("handledNewRowOnSmallDone")){$oldTh.addClass("handledNewRowOnSmallDone");if(!$oldTh.hasClass("hide-for-small-down")&&!$oldTh.hasClass("hide"))$oldTh.addClass("hide-for-small-down");var $firstTh=$table.find("th:visible:nth("+
add_col_before+")");var headlineForSmall='\x3cspan class\x3d"show-for-small-down"\x3e\x3cspan style\x3d"display:block"\x3e'+$firstTh.html()+"\x3c/span\x3e"+$oldTh.html()+"\x3c/span\x3e";var headlineForMediumUp='\x3cspan class\x3d"show-for-medium-up"\x3e'+$firstTh.html()+"\x3c/span\x3e";$firstTh.html(headlineForSmall+headlineForMediumUp)}})}
function forceRepaintingcheckboxOnChange(){jQuery("input[type\x3dcheckbox]").on("change",function(){if(is_small_and_down())try{var $nextNode=jQuery(this).next();if(!$nextNode.is("label"))$nextNode=$nextNode.next();if($nextNode.is("label"))$nextNode.css("display","none").css("display","")}catch(err){}})}
function createValueDateRow(currentObj,content,colspan,headerText){var dateRowTr=document.createElement("tr");var dateRowTd=document.createElement("td");var oldValue=content.html();dateRowTr.className="valueDateRow";dateRowTd.setAttribute("colspan",colspan);dateRowTr.appendChild(dateRowTd);dateRowTd.innerHTML=headerText+content.html();currentObj.get(0).parentNode.insertBefore(dateRowTr,currentObj.get(0));return oldValue}
function bindOwlCarouselStartseite(){if(typeof jQuery.fn.owlCarousel!=="undefined"){var owl=jQuery(".subjectsNaviModule \x3e ul");owl.owlCarousel({itemsCustom:[[0,1],[390,2],[440,2],[512,2],[595,3],[768,5],[1024,5],[1200,5],[1400,5],[1600,5]],navigation:true,addClassActive:true,rewindNav:true})}}
function prepareMobileMenuIfNeeded(){if(is_medium_only()||is_small_and_down()){var menuMobileNode=jQuery("#mobile_menu");var menuDesktopNode=jQuery("#desktop_menu");if(jQuery(menuMobileNode).length>0&&jQuery(menuMobileNode).html().trim().length==0){if(jQuery(menuDesktopNode).length==0);else{jQuery(menuMobileNode).get(0).appendChild(jQuery(menuDesktopNode).find(".navigationMain").get(0).cloneNode(true));jQuery(menuMobileNode).find("ul\x3eli.selected").each(function(){jQuery(this).addClass("mm-opened")})}jQuery(".mobile_menu_btn").addClass("menu_not_empty");
jQuery(menuMobileNode).mmenu({slidingSubmenus:false,offCanvas:{position:"left",zposition:"next"},classNames:{fixedElements:{fixed:"header"}},onClick:{close:false}},{panelNodetype:"div, ul, ol"});jQuery("#mobile_menu li \x3e a.mm-next").each(function(){jQuery(this).attr("href","#")});jQuery("#mobile_menu li \x3e a.mm-next").bind("touchstart click",function(e){e.preventDefault();e.stopPropagation();if(is_touch_device()&&e.type=="click")return;var $href=jQuery(this);var closeTime=200;if(!$href.parent().hasClass("mm-opened")&&
!$href.parent().hasClass("current")){var waitForClose=false;$href.closest("ul").find(".mm-opened, .current").each(function(){jQuery(this).removeClass("mm-opened").removeClass("current");jQuery(this).children(".mm-panel").slideUp(closeTime,function(){jQuery(this).css("display","")});waitForClose=true});$href.parent().addClass("mm-opened");var $panel=$href.parent().children(".mm-panel");$panel.slideUp(0);window.setTimeout(function(){$panel.slideDown($panel.children("ul").children("li").length*100,function(){jQuery(this).css("display",
"")})},waitForClose?closeTime:0)}else $href.closest("ul").find(".mm-opened").removeClass("mm-opened").children(".mm-panel").slideDown(0).slideUp(closeTime,function(){jQuery(this).css("display","")})});if(jQuery(menuMobileNode).data("mmenu")!==undefined)jQuery(menuMobileNode).data("mmenu").bind("open",function(panel){jQuery(menuMobileNode).find(".mm-opened").removeClass("mm-opened");jQuery(menuMobileNode).find("ul\x3eli.selected").each(function(){jQuery(this).addClass("mm-opened")});jQuery(window).scrollTop(0);
jQuery("#mm-blocker").fadeIn(300)}).bind("closed",function(){jQuery(window).scrollTop(scrollPosBeforeMenu)}).bind("close",function(){jQuery("#mm-blocker").fadeOut(300)});jQuery(".mobile_menu_btn").on("click touchstart",function(e){if(jQuery("html").hasClass("mm-opened")){e.preventDefault();e.stopPropagation();jQuery(menuMobileNode).data("mmenu").close()}else{scrollPosBeforeMenu=jQuery(window).scrollTop();if(is_small_and_down())jQuery("#search").fadeOut(200)}})}}addMboUnReadCounter()}
function addMboUnReadCounter(){if(typeof mailboxUnreadCounterMap=="undefined");else jQuery("li.label_Mein_Banking li.label_Postfach").each(function(){var $nodePostfach=jQuery(this);var sum=0;for(var key in mailboxUnreadCounterMap){sum=sum+mailboxUnreadCounterMap[key];$nodePostfach.find("li.label_"+key).each(function(){if(mailboxUnreadCounterMap[key]>0){$spanUnreadcounter=jQuery(this).find("span.unreadCounter");if($spanUnreadcounter.length==0){$spanUnreadcounter=jQuery('\x3cspan class\x3d"unreadCounter"\x3e\x3c/span\x3e');
jQuery(this).append($spanUnreadcounter)}if(mailboxUnreadCounterMap[key]>99)$spanUnreadcounter.addClass("has99").html("99+");else $spanUnreadcounter.html(mailboxUnreadCounterMap[key])}})}var counterValueMobile=sum==0?"":sum>99?"99+":sum;var $sumSpanUnreadcounter=$nodePostfach.children("span.unreadCounter");var $sumSpanUnreadcounterMobile=$nodePostfach.children("span.unreadCounter_mobile");if(sum>0&&$sumSpanUnreadcounter.length==0){$sumSpanUnreadcounter=jQuery('\x3cspan class\x3d"unreadCounter"\x3e\x3c/span\x3e');
$sumSpanUnreadcounterMobile=jQuery('\x3cspan class\x3d"unreadCounter_mobile"\x3e\x3c/span\x3e');$nodePostfach.find("a").first().before($sumSpanUnreadcounter).before($sumSpanUnreadcounterMobile)}$sumSpanUnreadcounter.html(sum);if(sum>99)$sumSpanUnreadcounterMobile.addClass("has99").html("99");else $sumSpanUnreadcounterMobile.html(counterValueMobile);jQuery(".mobile_menu_btn .unread_count").each(function(){if(sum>99)jQuery(this).removeClass("no_number").addClass("has99").html("99");else if(sum>0)jQuery(this).removeClass("no_number").html(sum);
else jQuery(this).addClass("no_number")})})}
function showGallery(url,counter){var container=null;jQuery.get(url,function(data){container=document.createElement("div");container.setAttribute("id","modalDivContainer");container.setAttribute("style","display: none;");document.body.appendChild(container);var containerObj=jQuery("#modalDivContainer");containerObj.html(data);var modalOverlay=dkbModalOverlay("modalDivContainer");var $overlay=jQuery(modalOverlay.containerEl);$overlay.addClass("owlDialog");var maxWidth="540";handleCarouselResize(jQuery(".owlDialog"),
maxWidth,false);containerObj.find(".no_owl").removeClass("no_owl");showOwlCarousel(containerObj);jQuery(window).resize(function(){handleCarouselResize(jQuery(".owlDialog"),maxWidth,false)});window.setTimeout(function(){jQuery(".owl-carousel").data("owlCarousel").reload()},100);picturefill();jQuery(".owl-carousel").data("owlCarousel").jumpTo(counter)})}
function showCarouselInDialog(containerId,maxWidth){var $existingDialog=jQuery("#"+containerId+"_owlDialog");if($existingDialog.length>0)$existingDialog.remove();var $container=jQuery("#"+containerId);$container.wrap('\x3cdiv id\x3d"'+containerId+'_parent" \x3e\x3c/div\x3e');$container.removeClass("hidden");var modalOverlay=dkbModalOverlay(containerId);var $overlay=jQuery(modalOverlay.containerEl);$overlay.addClass("owlDialog");$overlay.prop("id",containerId+"_owlDialog");handleCarouselResize(jQuery(".owlDialog"),
maxWidth,false);$container.find(".no_owl").removeClass("no_owl");showOwlCarousel($container);jQuery(window).resize(function(){handleCarouselResize(jQuery(".owlDialog"),maxWidth,false)});jQuery("#"+containerId+"_parent").css("display","none");window.setTimeout(function(){jQuery(".owl-carousel").data("owlCarousel").reload()},100);window.setTimeout(function(){jQuery(".owl-carousel").data("owlCarousel").reload()},300);window.setTimeout(function(){jQuery(".owl-carousel").data("owlCarousel").reload()},
600)}function handleCarouselResize($overlay,maxWidth,ignoreHasViewPortChanged){if(jQuery(window).outerWidth()*.9>maxWidth){$overlay.find(".overlayPlayerContent").css("width",maxWidth+"px");$overlay.addClass("DialogFixedWidth")}else if($overlay.hasClass("DialogFixedWidth")){$overlay.removeClass("DialogFixedWidth");$overlay.find(".overlayPlayerContent").css("width","")}}
function bindOwlCarousel(){if(typeof jQuery.fn.owlCarousel!=="undefined"){var targetSelector=jQuery(".caroufredsel_wrapper");targetSelector.each(function(){var currentElement=jQuery(this);currentElement.removeAttr("style");currentElement.children().removeAttr("style");jQuery(this).html(currentElement.html());jQuery(this).find("+ .pager").remove()});var owl=targetSelector.find("\x3e ul");owl.owlCarousel({itemsCustom:[[0,1],[390,2],[440,2],[512,3],[768,4],[1024,4],[1200,4],[1400,4],[1600,4]],navigation:true,
addClassActive:true,rewindNav:true});showOwlCarousel(jQuery("body"))}}
function showOwlCarousel($owlParent){if(typeof jQuery.fn.owlCarousel!=="undefined"){var $carousel=$owlParent.find(".always_display.owl-carousel");if($carousel.closest(".no_owl").length==0){$carousel.owlCarousel({navigation:true,slideSpeed:300,paginationSpeed:400,singleItem:true,addClassActive:true,rewindNav:false,touchDrag:true});$carousel.find(".owl-next, .owl-prev").on("click touchstart",function(e){var instance=jQuery(this).closest(".owl-carousel");var currentTrigger=jQuery(e.currentTarget);var owldata=
instance.data("owlCarousel");if(typeof owldata.currentIsFirst=="undefined")owldata.currentIsFirst=true;if(typeof owldata.currentIsLast=="undefined")owldata.currentIsLast=false;if(owldata.currentIsLast&&currentTrigger.hasClass("owl-next")){var inserthtml=owldata.$owlItems[0].outerHTML;instance.find(".owl-wrapper").append(inserthtml);var newitem=instance.find(".owl-item:last-child").addClass("customadded");instance.find(".owl-wrapper").css("transition","all "+owldata.userOptions.slideSpeed+"ms ease 0s");
var targetx_translation=owldata.itemsAmount*owldata.itemWidth;instance.find(".owl-wrapper").css("transform","translate3d(-"+targetx_translation+"px, 0px, 0px)");window.setTimeout(function(){owldata.jumpTo(0);owldata.currentItem=0;owldata.currentIsLast=false;owldata.currentIsFirst=true;newitem.remove()},owldata.userOptions.paginationSpeed)}else if(owldata.currentIsFirst&&currentTrigger.hasClass("owl-prev")){inserthtml=owldata.$owlItems[owldata.$owlItems.length-1].outerHTML;instance.find(".owl-wrapper").prepend(inserthtml);
newitem=instance.find(".owl-item:first-child").addClass("customadded").css({marginLeft:"-"+owldata.itemWidth+"px"});instance.find(".owl-wrapper").css("transition","all "+owldata.userOptions.slideSpeed+"ms ease 0s");targetx_translation=owldata.itemWidth;instance.find(".owl-wrapper").css("transform","translate3d("+targetx_translation+"px, 0px, 0px)");window.setTimeout(function(){owldata.jumpTo(owldata.maximumItem);owldata.currentItem=owldata.maximumItem;owldata.currentIsLast=true;owldata.currentIsFirst=
false;newitem.remove()},owldata.userOptions.paginationSpeed)}else;if(owldata.currentItem==owldata.maximumItem){owldata.currentIsLast=true;owldata.currentIsFirst=false}else if(owldata.currentItem==0){owldata.currentIsFirst=true;owldata.currentIsLast=false}else owldata.currentIsFirst=owldata.currentIsLast=false});var start_x=0;var start_y=0;var direction="";$wrapper=$carousel.find(".owl-wrapper");$wrapper.bind("touchstart",function(e){var touch=e.originalEvent.touches[0];start_x=touch.pageX;start_y=
touch.pageY});$wrapper.bind("touchmove",function(e){e.preventDefault();var instance=jQuery(this).closest(".owl-carousel");var owldata=instance.data("owlCarousel");var touch=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];var elm=jQuery(this).offset();var x=touch.pageX-elm.left;var y=touch.pageY-elm.top;if(x<jQuery(this).width()&&x>0)if(y<jQuery(this).height()&&y>0)if(touch.pageX>start_x)direction="right";else if(start_x>touch.pageX&&start_x)direction="left"});$wrapper.bind("touchend",
function(e){var instance=jQuery(this).closest(".owl-carousel");var owldata=instance.data("owlCarousel");if(direction=="left"){if(owldata.next()==false)instance.find(".owl-next").trigger("click")}else if(direction=="right")if(owldata.prev()==false)instance.find(".owl-prev").trigger("click")})}}}
function tryFormatDate(datestring,oldPattern,newPattern){var formatedDate="";try{formatedDate=jQuery.datepicker.formatDate(newPattern,jQuery.datepicker.parseDate(oldPattern,datestring))}catch(err){}return formatedDate}
function initTooltips(){jQuery(document).on("click",function(e){hideTooltipp(jQuery(".toolTippLink"))});jQuery(".toolTippLink").each(function(){jQuery(this).click(function(e){jQuery(this).trigger("touchstart")})});jQuery(".toolTippLink").on("touchstart click",function(e){e.preventDefault();e.stopPropagation();showTooltipp(this)});jQuery(".tooltipp, .toolTippInner:before").on("click touchstart",function(e){e.stopPropagation();e.preventDefault();hideTooltipp(jQuery(this).closest(".toolTippLink"))});
jQuery(".toolTippLink").hover(function(){showTooltippHover(this)},function(){hideTooltippHover(this)})}function showTooltippHover(tt){if(is_large_up()||!is_touch_device())showTooltipp(tt)}function hideTooltippHover(tt){if(is_large_up()||!is_touch_device())hideTooltipp(tt)}
function showTooltipp(tt){jQuery(tt).addClass("hover");if(!jQuery(tooltipp).hasClass("large")){var tooltipp=jQuery(tt).find(".tooltipp");var contentHeight=jQuery(tt).find(".toolTippInner").outerHeight();if(contentHeight>130)jQuery(tooltipp).addClass("large")}if(is_large_up()&&jQuery(tt).parents(".tooltipp_bottom").hasClass("force_tooltipp_left"))jQuery(tooltipp).addClass("tooltipp_left");else{var tooltippWidth=jQuery(tooltipp).outerWidth();var posLeft=jQuery(tt).offset().left+10;var pageWidth=jQuery("html").outerWidth();
if(tooltippWidth+posLeft>pageWidth)if(is_small_and_down())jQuery(tooltipp).css("left",pageWidth-posLeft-tooltippWidth+"px");else jQuery(tooltipp).addClass("tooltipp_left");else if(is_small_and_down());else jQuery(tooltipp).removeClass("tooltipp_left")}if(is_small_and_down()){var scrolltop=jQuery(window).scrollTop();var ttOffsetTop=jQuery(tt).offset().top;var heightBanner=jQuery(".grid4.band").outerHeight();var ttHeight=jQuery(tooltipp).outerHeight();jQuery(tooltipp).css("top","-"+(Math.min(ttHeight,
ttOffsetTop-heightBanner-scrolltop)-10)+"px");jQuery(document).on("touchstart",closeToolTipOnTouchStart)}}function closeToolTipOnTouchStart(){hideTooltipp(jQuery(".toolTippLink"));jQuery(document).off("touchstart",closeToolTipOnTouchStart)}function hideTooltipp(tt){jQuery(tt).removeClass("hover");jQuery(tt).find(".tooltipp").css("left","").css("top","")}
function handleHeadlineForApplicationNav(){var h1=jQuery("h1");var h1_small=jQuery("h1.show-for-small-down");var appNavRoot=jQuery(".applicationNav");if(jQuery(appNavRoot).length>0){if(is_small_and_down()&&jQuery(h1).length>0&&jQuery(h1_small).length==0){var appNavRootHeadline=jQuery(jQuery(appNavRoot).get(0)).find("li.selected .text");if(jQuery(appNavRootHeadline).length==0)jQuery(appNavRoot).addClass("noneSelected");if(jQuery(appNavRootHeadline).length>0){var h1Clone=jQuery(h1).get(0).cloneNode(true);
jQuery(h1Clone).find("a").each(function(){jQuery(this).remove()});jQuery(h1).addClass("hide-for-small-down");jQuery(h1Clone).addClass("show-for-small-down");var h1Headline=jQuery.trim(jQuery(h1Clone).html());var h1SubHeadline=jQuery.trim(jQuery(appNavRootHeadline).html());if(h1Headline==h1SubHeadline)jQuery(h1Clone).html(h1Headline);else jQuery(h1Clone).html(h1Headline+": "+h1SubHeadline);jQuery(h1).after(jQuery(h1Clone))}}var amountclass="amount_child_"+jQuery(jQuery(appNavRoot).get(0)).find("li").length;
if(!jQuery(appNavRoot).hasClass(amountclass))jQuery(appNavRoot).addClass(amountclass)}}
function initSpinner(){jQuery("form").submit(function(event){if(event!=undefined&&event.delegateTarget!=undefined&&jQuery(event.delegateTarget).hasClass("noSpinner"))return;if(jQuery(this).prop("target").length==0)showSpinner()});jQuery("a:not(.noSpinner):not(.pager-navigator-link):not(.sortColumn):not(.evt-download):not(.modal)").each(function(){var attrHref=jQuery(this).attr("href");if(!nullOrEmpty(jQuery(this).prop("href"))&&(nullOrEmpty(attrHref)||!attrHref.toUpperCase().indexOf("JAVA")==0&&!attrHref.toUpperCase().indexOf("MAILTO")==
0&&!attrHref.toUpperCase().indexOf("#")==0)&&(nullOrEmpty(jQuery(this).prop("target"))||jQuery(this).prop("target").length==0)&&(nullOrEmpty(jQuery(this).prop("onclick"))||jQuery(this).prop("onclick").length==0)&&!jQuery(this).parent().hasClass("accordionLink"))jQuery(this).bind("click",function(e){if(e!=null&&e!=undefined&&e.which!=2)showSpinner()})})}function nullOrEmpty(obj){return obj==null||obj==undefined||jQuery.trim(obj).length==0}
function is_android(){return jQuery("html").hasClass("is_android")}function is_app(){return jQuery("html").hasClass("portal_app")}function is_ipad(){return jQuery("html").hasClass("is_pad")}var ajaxLoadingClass="ajax_loading";
function prepareSpinnerOnce(){if(!jQuery("html").hasClass("noSpinner")&&jQuery("."+ajaxLoadingClass).length<1){var root=div(ajaxLoadingClass);root.setAttribute("style","display:none");var spinner_container=div("spinner_container");var spinner=div("spinner");if(is_android()){var spinner_inner=div("spinner_inner");var spinner_layer=div("spinner_layer");spinner_layer.appendChild(div2("circle-clipper left","circle"));spinner_layer.appendChild(div2("gap-patch left","circle"));spinner_layer.appendChild(div2("circle-clipper right",
"circle"));spinner_inner.appendChild(spinner_layer);spinner.appendChild(spinner_inner)}else for(var i=0;i<13;i++)spinner.appendChild(div());spinner_container.appendChild(spinner);root.appendChild(div("ui-widget-overlay"));root.appendChild(spinner_container);jQuery("body").prepend(root)}}
function showSpinner(){var $ajaxLoading=jQuery("."+ajaxLoadingClass);if($ajaxLoading.length>0){$ajaxLoading.show();jQuery("#mm-blocker").hide();window.setTimeout(function(){jQuery("."+ajaxLoadingClass+" .spinner_container").on("click touchstart",function(){hideSpinner()})},5*1E3)}return true}function hideSpinner(){jQuery(".ajax_loading").hide()}function div2(class1,class2){var d1=div(class1);var d2=div(class2);d1.appendChild(d2);return d1}
function div(className){var div=document.createElement("div");if(className)div.setAttribute("class",className);return div}function enhanceTablePager(){jQuery(".pagingModule").each(function(){if(jQuery(this).find("a.butPrev0").length>0)jQuery(this).addClass("hasArrowLeft");if(jQuery(this).find("a.butNext0").length>0)jQuery(this).addClass("hasArrowRight")})}
function css_browser_selector(u){var ua=u.toLowerCase();var is=function(t){return ua.indexOf(t)>-1};var g="gecko";var w="webkit";var s="safari";var o="opera";var m="mobile";var h=document.documentElement;var b=[!/opera|webtv/i.test(ua)&&/msie\s(\d)/.test(ua)?"ie ie"+RegExp.$1:is("firefox/2")?g+" ff2":is("firefox/3.5")?g+" ff3 ff3_5":is("firefox/3.6")?g+" ff3 ff3_6":is("firefox/3")?g+" ff3":is("gecko/")?g:is("opera")?o+(/version\/(\d+)/.test(ua)?" "+o+RegExp.$1:/opera(\s|\/)(\d+)/.test(ua)?" "+o+RegExp.$2:
""):is("konqueror")?"konqueror":is("blackberry")?m+" blackberry":is("android")?m+" android":is("chrome")?w+" chrome":is("iron")?w+" iron":is("applewebkit/")?w+" "+s+(/version\/(\d+)/.test(ua)?" "+s+RegExp.$1:""):is("mozilla/")?g:"",is("j2me")?m+" j2me":is("iphone")?m+" iphone":is("ipod")?m+" ipod":is("ipad")?m+" ipad":is("mac")?"mac":is("darwin")?"mac":is("webtv")?"webtv":is("win")?"win"+(is("windows nt 6.0")?" vista":""):is("freebsd")?"freebsd":is("x11")||is("linux")?"linux":"","js"];var $html=jQuery("html");
for(var i=0;i<b.length;i++)if("js"==b[i]||b[i].indexOf("ie")==0){if(!$html.hasClass(b[i]))$html.addClass(b[i])}else if(is_large_up())$html.addClass(b[i]);else $html.removeClass(b[i]);if(navigator.appName=="Netscape"&&u.match(/Trident.*rv\:11\./))$html.addClass("msie")}
function addFixForOpenKeybordOnMobile(){if(is_medium_only()||is_small_and_down()||is_ipad()||is_app())jQuery(document).on("focus","input, textarea",function(){jQuery("html").addClass("keepad_open")}).on("blur","input, textarea",function(){jQuery("html").removeClass("keepad_open")})}function bindSearchWknOnEnter(){if(is_medium_only())jQuery("#searchInput #searchField").bind("keypress",function(event){if(event.which==13)jQuery(this).parent("form").submit()})}
function handleEpaymentOverviewVisibility(){jQuery("#ePaymentOverviewTable").each(function(){jQuery(this).removeClass("hide");if(jQuery(this).find("tr:visible").length==0)jQuery(this).addClass("hide")})}
function handleError(){try{jQuery(".abx-captcha-input.abx-captcha-error").find("label:not(.error)").addClass("error");jQuery("label.error span.error, label span.sytemInfo").each(function(){if(is_medium_up()){if(!jQuery(this).attr("old_hight")){var $parentTabmodul=jQuery(this).closest(".tabModul.js_version");$parentTabmodul.removeClass("js_version");jQuery(this).attr("old_hight",jQuery(this).css("height"));var label=jQuery(this).closest("label");var hadClassPersistentError=false;if(label.hasClass("persistentError")){hadClassPersistentError=
true;label.removeClass("persistentError")}var labelHeight=Math.min(jQuery(label).height(),jQuery(label).css("line-height").replace("px",""));var isInlineLabel=jQuery(label).hasClass("inlineLabel");var isRadioLabel=jQuery(label).hasClass("radio");var $parent=jQuery(this).closest("label.error");$parent.addClass("labelfocus");jQuery(this).css("width",jQuery(this).width());jQuery(this).css("position","relative");var calcHeight=jQuery(this).height();$parentTabmodul.addClass("js_version");jQuery(this).css("width",
"");jQuery(this).css("position","");$parent.removeClass("labelfocus");jQuery(this).css("height",calcHeight+"px");var newTop=-calcHeight-25+labelHeight;if(isInlineLabel)newTop=-jQuery(this).outerHeight()-labelHeight;else if(isRadioLabel)newTop=-calcHeight-labelHeight-4;jQuery(this).css("top",newTop+"px");if(hadClassPersistentError)label.addClass("persistentError")}}else if(jQuery(this).attr("old_hight")){jQuery(this).css("height","");jQuery(this).css("top","");jQuery(this).attr("old_hight","")}})}catch(err){}}
function initTabmodulJsVersion(){jQuery(".tabModul.js_version, .stageModule.js_version").each(function(){var current=jQuery(this).find(".tabs-list li.current a");if(jQuery(current).length==0){current=jQuery(this).find(".tabs-list li:first-child a");if(jQuery(current).length>0)jQuery(current).parents("li").addClass("current")}if(jQuery(current).length==0)jQuery(this).find(".tabbody:first").addClass("current");handleTabClicked(current);jQuery(this).find(".tabs-list a").each(function(){jQuery(this).addClass("noSpinner");
jQuery(this).bind("click",function(e){e.preventDefault();e.stopPropagation();handleTabClicked(jQuery(this))})})})}
function handleTabClicked($clickedEle){if($clickedEle!=undefined){var attrHref=$clickedEle.attr("href");var $tabmodule=$clickedEle.parents(".tabModul, .stageModule");$tabmodule.find(".tabs-list li.current").removeClass("current");$clickedEle.parents("li").addClass("current");$tabmodule.find(".tabbody").each(function(){jQuery(this).removeClass("current");if(jQuery(this).hasClass(attrHref))jQuery(this).addClass("current")})}}
function fixPushTanHintMessage(){var pushtanHint=jQuery(".pushtTanHint");var pushtanHint_target=jQuery("#pushtTanHint_target");if(jQuery(pushtanHint).length>0&&jQuery(pushtanHint_target).length>0){jQuery(pushtanHint_target).replaceWith(jQuery(pushtanHint).get(0).outerHTML);jQuery(pushtanHint).remove()}}function hasLocalStorage(){return typeof localStorage!="undefined"}
function forceViewportDesktop(_true){if(_true){console.log("forcing desktop view");CLX.writeCookie("clxDesktopView","true",null,"/");document.location.reload(true)}else{console.log("using responsive view");CLX.writeCookie("clxDesktopView","false",null,"/");document.location.reload(true)}return false}function openMobileMenu(){if(is_medium_only()||is_small_and_down())jQuery("#mobile_menu").data("mmenu").open()}
function closeMobileMenu(){var mmenu=jQuery("#mobile_menu").data("mmenu");if(mmenu!=undefined)mmenu.close()}
function handlePortfolioOverview(){var template='\x3ctr class\x3d"inline-header-row"\x3e\x3ctd class\x3d"portfolio-security-name" colspan\x3d"6"\x3e\x3c/td\x3e\x3c/tr\x3e';jQuery("[data-dkb-portfolio-extract-name-as-row] div[data-dkb-portfolio-security-name]").each(function(index,element){var $div=jQuery(element);var $originalRow=$div.closest("tr");var $newRow=jQuery(template);$newRow.find(".portfolio-security-name").html($div.html());$newRow.insertBefore($originalRow);$div.remove()})}
function handleFundsSearchResults(){var ratingsRowTemplate='\x3ctr class\x3d"fundsTable--RatingsRow new_row_for_small"\x3e\x3ctd colspan\x3d"3"\x3e\x3cdiv class\x3d"fundsTable--RatingsContainer"\x3e\x3cdiv data-content-placeholder /\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e';var performanceRowTemplate='\x3ctr class\x3d"fundsTable--PerformanceRow new_row_for_small"\x3e\x3ctd data-content-placeholder-1\x3e\x3c/td\x3e\x3ctd data-content-placeholder-3\x3e\x3c/td\x3e\x3ctd data-content-placeholder-5\x3e\x3c/td\x3e\x3ctd\x3e\x3c/td\x3e\x3c/tr\x3e';
jQuery("table[data-dkb-funds-search-results]").each(function(index$$0,table){var $table=jQuery(table);$table.find(".fundsTable--Name").attr("colspan",3);$table.find(".mainRow").each(function(index,row){var $mainRow=jQuery(row);var savingsPlan=$mainRow.find(".fundsTable--SavingsPlan").html();var rating=$mainRow.find(".fundsTable--Rating").html();var $ratingRow=jQuery(ratingsRowTemplate);var ratingRowHtml="";if(savingsPlan)ratingRowHtml+="\x3cdiv\x3e"+savingsPlan+"\x3c/div\x3e";ratingRowHtml+=rating;
$ratingRow.find("[data-content-placeholder]").replaceWith(ratingRowHtml);$ratingRow.insertAfter($mainRow);var $performanceRow=jQuery(performanceRowTemplate);var performance;for(var i=1;i<=5;i+=2){performance=$mainRow.find(".fundsTable--Performance-"+i+"y").html();$performanceRow.find("[data-content-placeholder-"+i+"]").html(performance).removeAttr("data-content-placeholder-"+i)}$performanceRow.insertAfter($ratingRow)});var header='\x3ctr class\x3d"fundsTable--RatingsRow"\x3e\x3cth colspan\x3d"3"\x3e\x3cdiv class\x3d"fundsTable--RatingsContainer"\x3e';
if($table.find("thead .fundsTable--SavingsPlan").length!==0)header+="\x3cdiv\x3e"+$table.find("thead .fundsTable--SavingsPlan").html()+"\x3c/div\x3e";var performanceHeader="Performance";if(jQuery("#performanceHeader").length>0)performanceHeader=jQuery("#performanceHeader").html();var ratingHeader="Morningstar Rating";if(jQuery("#ratingHeader").length>0)ratingHeader=jQuery("#ratingHeader").html();header+="\x3cdiv\x3e"+ratingHeader.replace(/<br\s*\/?>/g," ")+"\x3c/div\x3e";header+='\x3c/div\x3e\x3c/th\x3e\x3cth\x3e\x3c/th\x3e\x3c/tr\x3e\x3ctr class\x3d"fundsTable--PerformanceRow"\x3e\x3cth\x3e'+
performanceHeader+"\x3cbr/\x3e1 J.\x3c/th\x3e\x3cth\x3e\x3cbr/\x3e3 J.\x3c/th\x3e\x3cth\x3e\x3cbr/\x3e5 J.\x3c/th\x3e\x3cth\x3e\x3c/th\x3e\x3c/tr\x3e";$table.find("thead").append(header)})}function handleMultilineSelectCheckbox(){jQuery(".multiline-select span.checkbox \x3e span.aspect-error \x3e input").each(function(){updateCheckboxStateToParentSpan(jQuery(this));jQuery(this).on("change",function(){updateCheckboxStateToParentSpan(jQuery(this))})})}
function updateCheckboxStateToParentSpan(input){var $input=jQuery(input);if($input.parent().hasClass("aspect-error"))if($input.prop("checked")==true)$input.parent().addClass("is_checked");else $input.parent().removeClass("is_checked")}function chiptanResponsive(){var $flickerTarget=jQuery("#flicketcode_target");if($flickerTarget.length>0)handleChipTanWhenLoaded($flickerTarget)}var chipTanWhenLoadedIndex=0;
function handleChipTanWhenLoaded($flickerTarget){if(chipTanWhenLoadedIndex<100){chipTanWhenLoadedIndex++;if($flickerTarget.find("#rsct_opptan_hint").length>0){$flickerTarget.find("#rsct_opptan_hint").addClass("use_new_row_on_small");handleNewRowOnSmall()}else setTimeout(handleChipTanWhenLoaded,100,$flickerTarget)}}
function handleFooterAccordion(){var start_width=600;if(is_medium_and_down()){var $footer=jQuery(".richfooter.mobileAccordion");if($footer.length>0){if(!$footer.hasClass("initialized")){$footer.addClass("initialized");$footer.find(".footer_col").each(function(){var opener=jQuery(this).find("\x3e h4");var content=opener.next();var container=jQuery(this).closest(".mobileAccordion");opener.append("\x3cspan class\x3d'trigger_icon'\x3e\x3c/span\x3e");opener.bind("click",function(e){if(window.innerWidth<=
start_width)if(opener.hasClass("open")){content.stop(false,true).slideUp();opener.removeClass("open")}else{container.find(".open").removeClass("open").next().stop(false,true).slideUp();content.stop(false,true).slideDown();opener.addClass("open")}})})}if(window.innerWidth<=start_width){$footer.find(".footer_col \x3e ul").slideUp(0);$footer.find(".footer_col \x3e h4.open").removeClass("open");$footer.find(".footer_col \x3e h4.initopen").addClass("open");$footer.find(".footer_col \x3e h4.initopen + ul").slideDown(0)}else $footer.find(".footer_col \x3e ul").slideDown(0)}}if(window.innerWidth>
start_width)jQuery(".footer_col ul").css({"display":"block"})}window.atmMapMode=0;
function loadAtmSearchInDialog(atmMapMode_){window.atmMapMode=0;if(atmMapMode_)window.atmMapMode=atmMapMode_;var mapsDialogId="mapsDialog";if(jQuery("#"+mapsDialogId).length==0)jQuery("html").append('\x3cdiv id\x3d"'+mapsDialogId+'"\x3e\x3c/div\x3e');var openAtmDialog=function(){Abaxx.dkbMap.activateMap();jQuery("#"+mapsDialogId).dialog({dialogClass:"gaa_search_dialog",modal:true,width:is_medium_and_down()?"90%":"950px",position:["center",15],beforeClose:function(event,ui){Abaxx.dkbMap.deactivateMap()},
open:function(){jQuery(this).closest(".ui-dialog").next().click(function(){jQuery("#"+mapsDialogId).closest(".ui-dialog").find(".ui-icon-closethick").click()})}})};if(typeof google=="undefined")jQuery.ajax("/DkbTransactionBanking/content/AtmSearch.xhtml").done(function(data){jQuery("#"+mapsDialogId).append(jQuery(data).find("#mapContent"));openAtmDialog()}).fail(function(jqXHR,textStatus,errorThrown){console.log(jqXHR)});else{openAtmDialog();Abaxx.dkbMap.updateMapMode();Abaxx.dkbMap.searchAtmUserPos()}return false}
function initSpecialTermsContainer(){jQuery(document).ready(function(){jQuery("button.mandatoryRequired").bind("click",function(){if(jQuery('.specialTermsContainer input[type\x3d"checkbox"]:not(:checked)').length==0)return true;else{alert("Bitte bestätigen sie zuerst alle Punkte.");return false}})})}
function handleCmsTableModule(){if(is_small_and_down())jQuery(".tableModule:not(.initialized) .table").each(function(){var $orgTable=jQuery(this);var $tableModule=$orgTable.closest(".tableModule");var smallContainer=document.createElement("div");smallContainer.className="show-for-small-down";var $smallContainer=jQuery(smallContainer);var columnSize=jQuery($orgTable).find(".table-head .column").length;for(var i=1;i<columnSize;i++){var $clonedTable=$orgTable.clone().addClass("noMargin");$clonedTable.find(".column:not(:nth-child(1), :nth-child("+
(i+1)+"))").remove();$smallContainer.append($clonedTable)}$tableModule.append($smallContainer);$tableModule.addClass("initialized");$orgTable.addClass("show-for-medium-up");initTooltips()})}function unfocus(ele){var tempInputId="tempInputForUnfocus";var tempInput=document.createElement("input");tempInput.id=tempInputId;jQuery(ele).after(jQuery(tempInput));jQuery("#"+tempInputId).focus();jQuery("#"+tempInputId).remove()}
function handleWebtreckId(){jQuery('a[onclick*\x3d"ENV_COUNT"]').each(function(index,button){jQuery(button).attr("onclick",jQuery(button).attr("onclick").replace("{ENV_COUNT}",index+1))})}
Abaxx.define("dkb_session_handler",function(){function init(options){var defaults={uiCountdownId:null,timeoutTarget:null,ajaxPollingUrl:null,updateSessionDurationUrl:null,updateIntervalInMs:1E3*60,initialSessionDurationInMs:12*60*1E3};settings=jQuery.extend({},defaults,options);sessionEndTimeMs=(new Date).getTime()+settings.initialSessionDurationInMs;setupUiUpdateInterval();setupSessionEndTimePollingInterval()}function setupUiUpdateInterval(){if(settings.uiCountdownId)window.setInterval(function(){updateSessionCountdown()},
500)}function setupSessionEndTimePollingInterval(){if(isPollingActivated()&&!sessionPollingIntervalId)sessionPollingIntervalId=window.setInterval(function(){updateSessionStateFromServer(settings.ajaxPollingUrl)},settings.updateIntervalInMs)}function isPollingActivated(){return settings.ajaxPollingUrl&&settings.updateIntervalInMs>0}function isPollingActive(){return sessionPollingIntervalId!==null}function stopSessionEndTimePollingInterval(){if(sessionPollingIntervalId){window.clearInterval(sessionPollingIntervalId);
sessionPollingIntervalId=null}}function updateSessionPollingInterval(remainingSessionTimeInMs){if(remainingSessionTimeInMs<settings.updateIntervalInMs){stopSessionEndTimePollingInterval();window.setTimeout(function(){updateSessionStateFromServer(settings.ajaxPollingUrl)},remainingSessionTimeInMs)}else setupSessionEndTimePollingInterval()}function getRemainingSessionDurationInMs(){return sessionEndTimeMs-(new Date).getTime()}function callSessionRefresh(){updateSessionStateFromServer(settings.updateSessionDurationUrl)}
function updateSessionStateFromServer(useUrl){jQuery.ajax(useUrl,{global:false,dataType:"json",timeout:6E3,success:function(result){if(result[0].publicSession){sessionEndTimeMs=-1;navigateToTimeoutTarget()}else{var remainingSessionInMs=result[0].remainingSessionDurationMs;if(remainingSessionInMs&&remainingSessionInMs>0){sessionEndTimeMs=(new Date).getTime()+remainingSessionInMs;updateSessionPollingInterval(remainingSessionInMs)}else navigateToTimeoutTarget()}},error:function(result,status){if("timeout"!==
status||"timeout"===status&&!isPollingActive()){sessionEndTimeMs=-1;navigateToTimeoutTarget()}}})}function updateSessionCountdown(){var remainingDurationInMs=getRemainingSessionDurationInMs();if(remainingDurationInMs>0){var countDownElement=document.getElementById(settings.uiCountdownId);if(countDownElement){countDownElement.innerHTML=Abaxx.util.formatTime(remainingDurationInMs);var $countdownElement=jQuery(countDownElement);if(remainingDurationInMs>3*60*1E3)$countdownElement.removeClass("dkbred");
else{$countdownElement.addClass("dkbred");displayHiddenSessionInfo()}}}if(remainingDurationInMs<0&&!isPollingActivated())navigateToTimeoutTarget()}function navigateToTimeoutTarget(){if(settings.timeoutTarget)window.location=settings.timeoutTarget}function displayHiddenSessionInfo(){var $sessionInfoElement=jQuery("#session-info");if($sessionInfoElement.length)$sessionInfoElement.removeClass("hidden");var $lastLoginContainerElement=jQuery("#lastLoginContainer");if($lastLoginContainerElement.length)$lastLoginContainerElement.addClass("hidden")}
var settings={};var sessionEndTimeMs;var sessionPollingIntervalId=null;return{init:init,refreshSession:callSessionRefresh}});
(function($){function Keypad(){this._curInst=null;this._disabledFields=[];this._keypadShowing=false;this._keyCode=0;this._specialKeys=[];this.addKeyDef("CLOSE","close",function(inst){plugin._curInst=inst._inline?inst:plugin._curInst;plugin._hidePlugin()});this.addKeyDef("CLEAR","clear",function(inst){plugin._clearValue(inst)});this.addKeyDef("BACK","back",function(inst){plugin._backValue(inst)});this.addKeyDef("SHIFT","shift",function(inst){plugin._shiftKeypad(inst)});this.addKeyDef("SPACE_BAR","spacebar",
function(inst){plugin._selectValue(inst," ")},true);this.addKeyDef("SPACE","space");this.addKeyDef("HALF_SPACE","half-space");this.addKeyDef("ENTER","enter",function(inst){plugin._selectValue(inst,"\r")},true);this.addKeyDef("TAB","tab",function(inst){plugin._selectValue(inst,"\t")},true);this.qwertyAlphabetic=["qwertyuiop","asdfghjkl","zxcvbnm"];this.qwertyLayout=["!@#$%^\x26*()_\x3d"+this.HALF_SPACE+this.SPACE+this.CLOSE,this.HALF_SPACE+"`~[]{}\x3c\x3e\\|/"+this.SPACE+"789","qwertyuiop'\""+this.HALF_SPACE+
"456",this.HALF_SPACE+"asdfghjkl;:"+this.SPACE+"123",this.SPACE+"zxcvbnm,.?"+this.SPACE+this.HALF_SPACE+"-0+",""+this.TAB+this.ENTER+this.SPACE_BAR+this.SHIFT+this.HALF_SPACE+this.BACK+this.CLEAR];this.regional=[];this.regional[""]={buttonText:"...",buttonStatus:"Open the keypad",closeText:"Close",closeStatus:"Close the keypad",clearText:"Clear",clearStatus:"Erase all the text",backText:"Back",backStatus:"Erase the previous character",spacebarText:"\x26nbsp;",spacebarStatus:"Space",enterText:"Enter",
enterStatus:"Carriage return",tabText:"→",tabStatus:"Horizontal tab",shiftText:"Shift",shiftStatus:"Toggle upper/lower case characters",alphabeticLayout:this.qwertyAlphabetic,fullLayout:this.qwertyLayout,isAlphabetic:this.isAlphabetic,isNumeric:this.isNumeric,toUpper:this.toUpper,isRTL:false};this._defaults={showOn:"focus",buttonImage:"",buttonImageOnly:false,showAnim:"show",showOptions:{},duration:"normal",appendText:"",useThemeRoller:false,keypadClass:"",prompt:"",layout:["123"+this.CLOSE,"456"+
this.CLEAR,"789"+this.BACK,this.SPACE+"0"],separator:"",target:null,keypadOnly:true,randomiseAlphabetic:false,randomiseNumeric:false,randomiseOther:false,randomiseAll:false,beforeShow:null,onKeypress:null,onClose:null};$.extend(this._defaults,this.regional[""]);this.mainDiv=$('\x3cdiv class\x3d"'+this._mainDivClass+'" style\x3d"display: none;"\x3e\x3c/div\x3e')}function isNotChained(command,otherArgs){if(command=="option"&&(otherArgs.length==0||otherArgs.length==1&&typeof otherArgs[0]=="string"))return true;
return $.inArray(command,getters)>-1}$.extend(Keypad.prototype,{markerClassName:"hasKeypad",propertyName:"keypad",_mainDivClass:"shadowBox",_inlineClass:"keypad-inline",_appendClass:"keypad-append",_triggerClass:"keypad-trigger",_disableClass:"keypad-disabled",_inlineEntryClass:"keypad-keyentry",_rtlClass:"keypad-rtl",_rowClass:"keypad-row",_promptClass:"keypad-prompt",_specialClass:"keypad-special",_namePrefixClass:"keypad-",_keyClass:"keypad-key",_keyDownClass:"keypad-key-down",setDefaults:function(settings){$.extend(this._defaults,
settings||{});return this},addKeyDef:function(id,name,action,noHighlight){if(this._keyCode==32)throw"Only 32 special keys allowed";this[id]=String.fromCharCode(this._keyCode++);this._specialKeys.push({code:this[id],id:id,name:name,action:action,noHighlight:noHighlight});return this},_attachPlugin:function(target,options){target=$(target);if(target.hasClass(this.markerClassName))return;var inline=!target[0].nodeName.toLowerCase().match(/input|textarea/);var inst={options:$.extend({},this._defaults,
options),_inline:inline,_mainDiv:inline?$('\x3cdiv class\x3d"'+this._inlineClass+'"\x3e\x3c/div\x3e'):plugin.mainDiv,ucase:false};this._setInput(target,inst);this._connectKeypad(target,inst);if(inline){target.append(inst._mainDiv).bind("click."+this.propertyName,function(){inst._input.focus()});this._updateKeypad(inst)}else if(target.is(":disabled"))this._disablePlugin(target)},_setInput:function(target,inst){inst._input=$(!inst._inline?target:inst.options.target||'\x3cinput type\x3d"text" class\x3d"'+
this._inlineEntryClass+'" disabled\x3d"disabled"/\x3e');if(inst._inline){target.find("input").remove();if(!inst.options.target)target.append(inst._input)}},_connectKeypad:function(target,inst){target=$(target);var appendText=inst.options.appendText;if(appendText)target[inst.options.isRTL?"before":"after"]('\x3cspan class\x3d"'+this._appendClass+'"\x3e'+appendText+"\x3c/span\x3e");if(!inst._inline){if(inst.options.showOn=="focus"||inst.options.showOn=="both")target.bind("focus."+this.propertyName,
this._showPlugin).bind("keydown."+this.propertyName,this._doKeyDown);if(inst.options.showOn=="button"||inst.options.showOn=="both"){var buttonStatus=inst.options.buttonStatus;var buttonImage=inst.options.buttonImage;var trigger=$(inst.options.buttonImageOnly?$('\x3ca href\x3d"#vt" class\x3d"vt-control date-picker-control" tabindex\x3d"0" /\x3e'):$('\x3cbutton type\x3d"button" title\x3d"'+buttonStatus+'"\x3e\x3c/button\x3e').html(buttonImage==""?inst.options.buttonText:$('\x3cimg src\x3d"'+buttonImage+
'" alt\x3d"'+buttonStatus+'" title\x3d"'+buttonStatus+'"/\x3e')));target[inst.options.isRTL?"before":"after"](trigger);trigger.addClass(this._triggerClass).click(function(){if(plugin._keypadShowing&&plugin._lastField==target[0])plugin._hidePlugin();else plugin._showPlugin(target[0]);return false})}}inst.saveReadonly=target.attr("readonly");target.addClass(this.markerClassName).data(this.propertyName,inst)[inst.options.keypadOnly?"attr":"removeAttr"]("readonly",true).bind("setData."+this.propertyName,
function(event,key,value){inst.options[key]=value}).bind("getData."+this.propertyName,function(event,key){return inst.options[key]})},_optionPlugin:function(target,options,value){target=$(target);var inst=target.data(this.propertyName);if(!options||typeof options=="string"&&value==null){var name=options;options=(inst||{}).options;return options&&name?options[name]:options}if(!target.hasClass(this.markerClassName))return;options=options||{};if(typeof options=="string"){name=options;options={};options[name]=
value}if(this._curInst==inst)this._hidePlugin();$.extend(inst.options,options);this._setInput(target,inst);this._updateKeypad(inst)},_destroyPlugin:function(target){target=$(target);if(!target.hasClass(this.markerClassName))return;var inst=target.data(this.propertyName);if(this._curInst==inst)this._hidePlugin();target.siblings("."+this._appendClass).remove().end().siblings("."+this._triggerClass).remove().end().prev("."+this._inlineEntryClass).remove();target.removeClass(this.markerClassName).empty().unbind("."+
this.propertyName).removeData(this.propertyName)[inst.saveReadonly?"attr":"removeAttr"]("readonly",true);inst._input.removeData(this.propertyName)},_enablePlugin:function(target){target=$(target);if(!target.hasClass(this.markerClassName))return;var nodeName=target[0].nodeName.toLowerCase();if(nodeName.match(/input|textarea/)){target[0].disabled=false;target.siblings("button."+this._triggerClass).each(function(){this.disabled=false}).end().siblings("img."+this._triggerClass).css({opacity:"1.0",cursor:""})}else if(nodeName.match(/div|span/)){target.children("."+
this._disableClass).remove();var inst=target.data(this.propertyName);inst._mainDiv.find("button").removeAttr("disabled")}this._disabledFields=$.map(this._disabledFields,function(value){return value==target[0]?null:value})},_disablePlugin:function(target){target=$(target);if(!target.hasClass(this.markerClassName))return;var nodeName=target[0].nodeName.toLowerCase();if(nodeName.match(/input|textarea/)){target[0].disabled=true;target.siblings("button."+this._triggerClass).each(function(){this.disabled=
true}).end().siblings("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"})}else if(nodeName.match(/div|span/)){var inline=target.children("."+this._inlineClass);var offset=inline.offset();var relOffset={left:0,top:0};inline.parents().each(function(){if($(this).css("position")=="relative"){relOffset=$(this).offset();return false}});target.prepend('\x3cdiv class\x3d"'+this._disableClass+'" style\x3d"width: '+inline.outerWidth()+"px; height: "+inline.outerHeight()+"px; left: "+(offset.left-
relOffset.left)+"px; top: "+(offset.top-relOffset.top)+'px;"\x3e\x3c/div\x3e');var inst=target.data(this.propertyName);inst._mainDiv.find("button").attr("disabled","disabled")}this._disabledFields=$.map(this._disabledFields,function(value){return value==target[0]?null:value});this._disabledFields[this._disabledFields.length]=target[0]},_isDisabledPlugin:function(target){return target&&$.inArray(target,this._disabledFields)>-1},_showPlugin:function(field){field=field.target||field;if(plugin._isDisabledPlugin(field)||
plugin._lastField==field)return;var inst=$.data(field,plugin.propertyName);plugin._hidePlugin(null,"");plugin._lastField=field;plugin._pos=plugin._findPos(field);plugin._pos[1]+=field.offsetHeight;var isFixed=false;$(field).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return!isFixed});var offset={left:plugin._pos[0],top:plugin._pos[1]};plugin._pos=null;inst._mainDiv.css({position:"absolute",display:"block",top:"-1000px",width:"auto"});plugin._updateKeypad(inst);offset=plugin._checkOffset(inst,
offset,isFixed);inst._mainDiv.css({position:isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"});var duration=inst.options.duration;var showAnim=inst.options.showAnim;var postProcess=function(){plugin._keypadShowing=true};if($.effects&&($.effects[showAnim]||$.effects.effect&&$.effects.effect[showAnim])){var data=inst._mainDiv.data();for(var key in data)if(key.match(/^ec\.storage\./))data[key]=inst._mainDiv.css(key.replace(/ec\.storage\./,""));inst._mainDiv.data(data).show(showAnim,
inst.options.showOptions,duration,postProcess)}else inst._mainDiv[showAnim||"show"](showAnim?duration:0,postProcess);if(inst._input[0].type!="hidden")inst._input[0].focus();plugin._curInst=inst},_updateKeypad:function(inst){var borders=this._getBorders(inst._mainDiv);inst._mainDiv.empty().append(this._generateHTML(inst)).removeClass().addClass(inst.options.keypadClass+(inst.options.useThemeRoller?" ui-widget ui-widget-content":"")+(inst.options.isRTL?" "+this._rtlClass:"")+" "+(inst._inline?this._inlineClass:
this._mainDivClass));if($.isFunction(inst.options.beforeShow))inst.options.beforeShow.apply(inst._input?inst._input[0]:null,[inst._mainDiv,inst])},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:3,thick:5}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var pos=inst._input?this._findPos(inst._input[0]):null;var browserWidth=window.innerWidth||document.documentElement.clientWidth;
var browserHeight=window.innerHeight||document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;var width=0;inst._mainDiv.find(":not(div)").each(function(){width=Math.max(width,this.offsetLeft+$(this).outerWidth(true))});inst._mainDiv.css("width",width+1);if(inst.options.isRTL||offset.left+inst._mainDiv.outerWidth()-scrollX>browserWidth)offset.left=Math.max(isFixed?0:scrollX,
pos[0]+(inst._input?inst._input.outerWidth():0)-(isFixed?scrollX:0)-inst._mainDiv.outerWidth());else offset.left=Math.max(isFixed?0:scrollX,offset.left-(isFixed?scrollX:0));if(offset.top+inst._mainDiv.outerHeight()-scrollY>browserHeight)offset.top=Math.max(isFixed?0:scrollY,pos[1]-(isFixed?scrollY:0)-inst._mainDiv.outerHeight());else offset.top=Math.max(isFixed?0:scrollY,offset.top-(isFixed?scrollY:0));return offset},_findPos:function(obj){for(;obj&&(obj.type=="hidden"||obj.nodeType!=1);)obj=obj.nextSibling;
var position=$(obj).offset();return[position.left,position.top]},_hidePlugin:function(field,duration){var inst=this._curInst;if(!inst||field&&inst!=$.data(field,this.propertyName))return;if(this._keypadShowing){duration=duration!=null?duration:inst.options.duration;var showAnim=inst.options.showAnim;if($.effects&&($.effects[showAnim]||$.effects.effect&&$.effects.effect[showAnim]))inst._mainDiv.hide(showAnim,inst.options.showOptions,duration);else inst._mainDiv[showAnim=="slideDown"?"slideUp":showAnim==
"fadeIn"?"fadeOut":"hide"](showAnim?duration:0)}if($.isFunction(inst.options.onClose))inst.options.onClose.apply(inst._input?inst._input[0]:null,[inst._input.val(),inst]);if(this._keypadShowing){this._keypadShowing=false;this._lastField=null}if(inst._inline)inst._input.val("");this._curInst=null},_doKeyDown:function(e){if(e.keyCode==9){plugin.mainDiv.stop(true,true);plugin._hidePlugin()}},_checkExternalClick:function(event){if(!plugin._curInst)return;var target=$(event.target);if(!target.parents().andSelf().hasClass(plugin._mainDivClass)&&
!target.hasClass(plugin.markerClassName)&&!target.parents().andSelf().hasClass(plugin._triggerClass)&&plugin._keypadShowing)plugin._hidePlugin()},_shiftKeypad:function(inst){inst.ucase=!inst.ucase;this._updateKeypad(inst);inst._input.focus()},_clearValue:function(inst){this._setValue(inst,"",0);this._notifyKeypress(inst,plugin.DEL)},_backValue:function(inst){var field=inst._input[0];var value=inst._input.val();var range=[value.length,value.length];if(field.setSelectionRange)range=inst._input.attr("readonly")||
inst._input.attr("disabled")?range:[field.selectionStart,field.selectionEnd];else if(field.createTextRange)range=inst._input.attr("readonly")||inst._input.attr("disabled")?range:this._getIERange(field);this._setValue(inst,value.length==0?"":value.substr(0,range[0]-1)+value.substr(range[1]),range[0]-1);this._notifyKeypress(inst,plugin.BS)},_selectValue:function(inst,value){this.insertValue(inst._input[0],value);this._setValue(inst,inst._input.val());this._notifyKeypress(inst,value)},insertValue:function(input,
value){input=input.jquery?input:$(input);var field=input[0];var newValue=input.val();var range=[newValue.length,newValue.length];if(field.setSelectionRange)range=input.attr("readonly")||input.attr("disabled")?range:[field.selectionStart,field.selectionEnd];else if(field.createTextRange)range=input.attr("readonly")||input.attr("disabled")?range:this._getIERange(field);input.val(newValue.substr(0,range[0])+value+newValue.substr(range[1]));pos=range[0]+value.length;if(input.is(":visible"))input.focus();
if(field.setSelectionRange){if(input.is(":visible"))field.setSelectionRange(pos,pos)}else if(field.createTextRange){range=field.createTextRange();range.move("character",pos);range.select()}},_getIERange:function(field){field.focus();var selectionRange=document.selection.createRange().duplicate();var beforeRange=this._getIETextRange(field);beforeRange.setEndPoint("EndToStart",selectionRange);var checkCRLF=function(range){var origText=range.text;var text=origText;for(var finished=false;true;)if(range.compareEndPoints("StartToEnd",
range)==0)break;else{range.moveEnd("character",-1);if(range.text==origText)text+="\r\n";else break}return text};var beforeText=checkCRLF(beforeRange);var selectionText=checkCRLF(selectionRange);return[beforeText.length,beforeText.length+selectionText.length]},_getIETextRange:function(field){var isInput=field.nodeName.toLowerCase()=="input";var range=isInput?field.createTextRange():document.body.createTextRange();if(!isInput)range.moveToElementText(field);return range},_setValue:function(inst,value){var maxlen=
inst._input.attr("maxlength");if(maxlen>-1)value=value.substr(0,maxlen);inst._input.val(value);if(!$.isFunction(inst.options.onKeypress))inst._input.trigger("change")},_notifyKeypress:function(inst,key){if($.isFunction(inst.options.onKeypress))inst.options.onKeypress.apply(inst._input?inst._input[0]:null,[key,inst._input.val(),inst])},_generateHTML:function(inst){var html=!inst.options.prompt?"":'\x3cdiv class\x3d"'+this._promptClass+(inst.options.useThemeRoller?" ui-widget-header ui-corner-all":
"")+'"\x3e'+inst.options.prompt+"\x3c/div\x3e";var layout=this._randomiseLayout(inst);for(var i$$0=0;i$$0<layout.length;i$$0++){html+='\x3cdiv class\x3d"'+this._rowClass+'"\x3e';var keys=layout[i$$0].split(inst.options.separator);for(var j=0;j<keys.length;j++){if(inst.ucase)keys[j]=inst.options.toUpper(keys[j]);var keyDef=this._specialKeys[keys[j].charCodeAt(0)];if(keyDef)html+=keyDef.action?'\x3cbutton type\x3d"button" class\x3d"'+this._specialClass+" "+this._namePrefixClass+keyDef.name+(inst.options.useThemeRoller?
" ui-corner-all ui-state-default"+(keyDef.noHighlight?"":" ui-state-highlight"):"")+'" title\x3d"'+inst.options[keyDef.name+"Status"]+'"\x3e'+(inst.options[keyDef.name+"Text"]||"\x26nbsp;")+"\x3c/button\x3e":'\x3cdiv class\x3d"'+this._namePrefixClass+keyDef.name+'"\x3e\x3c/div\x3e';else html+='\x3cbutton type\x3d"button" class\x3d"'+this._keyClass+(inst.options.useThemeRoller?" ui-corner-all ui-state-default":"")+'"\x3e'+(keys[j]==" "?"\x26nbsp;":keys[j])+"\x3c/button\x3e"}html+="\x3c/div\x3e"}html=
$(html);var thisInst=inst;var activeClasses=this._keyDownClass+(inst.options.useThemeRoller?" ui-state-active":"");html.find("button").mousedown(function(){$(this).addClass(activeClasses)}).mouseup(function(){$(this).removeClass(activeClasses)}).mouseout(function(){$(this).removeClass(activeClasses)}).filter("."+this._keyClass).click(function(){plugin._selectValue(thisInst,$(this).text())});$.each(this._specialKeys,function(i,keyDef){html.find("."+plugin._namePrefixClass+keyDef.name).click(function(){keyDef.action.apply(thisInst._input,
[thisInst])})});return html},_randomiseLayout:function(inst){if(!inst.options.randomiseNumeric&&!inst.options.randomiseAlphabetic&&!inst.options.randomiseOther&&!inst.options.randomiseAll)return inst.options.layout;var numerics=[];var alphas=[];var others=[];var newLayout=[];for(var i=0;i<inst.options.layout.length;i++){newLayout[i]="";var keys=inst.options.layout[i].split(inst.options.separator);for(var j=0;j<keys.length;j++){if(this._isControl(keys[j]))continue;if(inst.options.randomiseAll)others.push(keys[j]);
else if(inst.options.isNumeric(keys[j]))numerics.push(keys[j]);else if(inst.options.isAlphabetic(keys[j]))alphas.push(keys[j]);else others.push(keys[j])}}if(inst.options.randomiseNumeric)this._shuffle(numerics);if(inst.options.randomiseAlphabetic)this._shuffle(alphas);if(inst.options.randomiseOther||inst.options.randomiseAll)this._shuffle(others);var n=0;var a=0;var o=0;for(i=0;i<inst.options.layout.length;i++){keys=inst.options.layout[i].split(inst.options.separator);for(j=0;j<keys.length;j++)newLayout[i]+=
(this._isControl(keys[j])?keys[j]:inst.options.randomiseAll?others[o++]:inst.options.isNumeric(keys[j])?numerics[n++]:inst.options.isAlphabetic(keys[j])?alphas[a++]:others[o++])+inst.options.separator}return newLayout},_isControl:function(ch){return ch<" "},isAlphabetic:function(ch){return ch>="A"&&ch<="Z"||ch>="a"&&ch<="z"},isNumeric:function(ch){return ch>="0"&&ch<="9"},toUpper:function(ch){return ch.toUpperCase()},_shuffle:function(values){for(var i=values.length-1;i>0;i--){var j=Math.floor(Math.random()*
values.length);var ch=values[i];values[i]=values[j];values[j]=ch}}});var getters=["isDisabled"];$.fn.keypad=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(isNotChained(options,otherArgs))return plugin["_"+options+"Plugin"].apply(plugin,[this[0]].concat(otherArgs));return this.each(function(){if(typeof options=="string"){if(!plugin["_"+options+"Plugin"])throw"Unknown command: "+options;plugin["_"+options+"Plugin"].apply(plugin,[this].concat(otherArgs))}else plugin._attachPlugin(this,
options||{})})};var plugin=$.keypad=new Keypad;$(function(){$(document.body).append(plugin.mainDiv).mousedown(plugin._checkExternalClick)})})(jQuery);
(function($){$.keypad.qwertzAlphabetic=["qwertzuiopüß","asdfghjklöä","yxcvbnm"];$.keypad.qwertzLayout=['!"§$%\x26/()\x3d?`'+$.keypad.BACK+$.keypad.HALF_SPACE+"$£€/","\x3c\x3e°^@{[]}\\~´;:"+$.keypad.HALF_SPACE+"789*",$.keypad.qwertzAlphabetic[0]+"+*"+$.keypad.HALF_SPACE+"456-",$.keypad.HALF_SPACE+$.keypad.qwertzAlphabetic[1]+"#'"+$.keypad.SPACE+"123+","|"+$.keypad.qwertzAlphabetic[2]+"µ,.-_"+$.keypad.SPACE+$.keypad.HALF_SPACE+".0,\x3d",$.keypad.SHIFT+$.keypad.SPACE+$.keypad.SPACE_BAR+$.keypad.SPACE+
$.keypad.SPACE+$.keypad.SPACE+$.keypad.CLEAR+$.keypad.SPACE+$.keypad.SPACE+$.keypad.HALF_SPACE+$.keypad.CLOSE];$.keypad.regional["de"]={buttonText:"...",buttonStatus:"Öffnen",closeText:"schließen",closeStatus:"schließen",clearText:"löschen",clearStatus:"Gesamten Inhalt löschen",backText:"zurück",backStatus:"Letzte Eingabe löschen",shiftText:"umschalten",shiftStatus:"Zwischen Groß- und Kleinschreibung wechseln",spacebarText:"\x26nbsp;",spacebarStatus:"",enterText:"Enter",enterStatus:"",tabText:"→",
tabStatus:"",alphabeticLayout:$.keypad.qwertzAlphabetic,fullLayout:$.keypad.qwertzLayout,isAlphabetic:$.keypad.isAlphabetic,isNumeric:$.keypad.isNumeric,toUpper:$.keypad.toUpper,isRTL:false};$.keypad.setDefaults($.keypad.regional["de"])})(jQuery);
(function(module){if(typeof define==="function"&&define.amd)define(["jquery"],module);else module(jQuery)})(function(jQuery,undefined){function moveend(e){var w;var h;var event;w=e.target.offsetWidth;h=e.target.offsetHeight;event={distX:e.distX,distY:e.distY,velocityX:e.velocityX,velocityY:e.velocityY,finger:e.finger};if(e.distX>e.distY)if(e.distX>-e.distY){if(e.distX/w>settings.threshold||e.velocityX*e.distX/w*settings.sensitivity>1){event.type="swiperight";trigger(e.currentTarget,event)}}else{if(-e.distY/
h>settings.threshold||e.velocityY*e.distY/w*settings.sensitivity>1){event.type="swipeup";trigger(e.currentTarget,event)}}else if(e.distX>-e.distY){if(e.distY/h>settings.threshold||e.velocityY*e.distY/w*settings.sensitivity>1){event.type="swipedown";trigger(e.currentTarget,event)}}else if(-e.distX/w>settings.threshold||e.velocityX*e.distX/w*settings.sensitivity>1){event.type="swipeleft";trigger(e.currentTarget,event)}}function getData(node){var data=jQuery.data(node,"event_swipe");if(!data){data={count:0};
jQuery.data(node,"event_swipe",data)}return data}var add=jQuery.event.add;var remove=jQuery.event.remove;var trigger=function(node,type,data){jQuery.event.trigger(type,data,node)};var settings={threshold:.4,sensitivity:6};jQuery.event.special.swipe=jQuery.event.special.swipeleft=jQuery.event.special.swiperight=jQuery.event.special.swipeup=jQuery.event.special.swipedown={setup:function(data,namespaces,eventHandle){data=getData(this);if(data.count++>0)return;add(this,"moveend",moveend);return true},
teardown:function(){var data=getData(this);if(--data.count>0)return;remove(this,"moveend",moveend);return true},settings:settings}});if(typeof Object.create!=="function")Object.create=function(obj){function F(){}F.prototype=obj;return new F};
(function($,window,document){var Carousel={init:function(options,el){var base=this;base.$elem=jQuery(el);base.options=$.extend({},$.fn.owlCarousel.options,base.$elem.data(),options);base.userOptions=options;base.loadContent()},loadContent:function(){function getData(data){var i;var content="";if(typeof base.options.jsonSuccess==="function")base.options.jsonSuccess.apply(this,[data]);else{for(i in data.owl)if(data.owl.hasOwnProperty(i))content+=data.owl[i].item;base.$elem.html(content)}base.logIn()}
var base=this;var url;if(typeof base.options.beforeInit==="function")base.options.beforeInit.apply(this,[base.$elem]);if(typeof base.options.jsonPath==="string"){url=base.options.jsonPath;$.getJSON(url,getData)}else base.logIn()},logIn:function(){var base=this;base.$elem.data("owl-originalStyles",base.$elem.attr("style"));base.$elem.data("owl-originalClasses",base.$elem.attr("class"));base.$elem.css({opacity:0});base.orignalItems=base.options.items;base.checkBrowser();base.wrapperWidth=0;base.checkVisible=
null;base.setVars()},setVars:function(){var base=this;if(base.$elem.children().length===0)return false;base.baseClass();base.eventTypes();base.$userItems=base.$elem.children();base.itemsAmount=base.$userItems.length;base.wrapItems();base.$owlItems=base.$elem.find(".owl-item");base.$owlWrapper=base.$elem.find(".owl-wrapper");base.playDirection="next";base.prevItem=0;base.prevArr=[0];base.currentItem=0;base.customEvents();base.onStartup()},onStartup:function(){var base=this;base.updateItems();base.calculateAll();
base.buildControls();base.updateControls();base.response();base.moveEvents();base.stopOnHover();base.owlStatus();if(base.options.transitionStyle!==false)base.transitionTypes(base.options.transitionStyle);if(base.options.autoPlay===true)base.options.autoPlay=5E3;base.play();base.$elem.find(".owl-wrapper").css("display","block");if(!base.$elem.is(":visible"))base.watchVisibility();else base.$elem.css("opacity",1);base.onstartup=false;base.eachMoveUpdate();if(typeof base.options.afterInit==="function")base.options.afterInit.apply(this,
[base.$elem])},eachMoveUpdate:function(){var base=this;if(base.options.lazyLoad===true)base.lazyLoad();if(base.options.autoHeight===true)base.autoHeight();base.onVisibleItems();if(typeof base.options.afterAction==="function")base.options.afterAction.apply(this,[base.$elem])},updateVars:function(){var base=this;if(typeof base.options.beforeUpdate==="function")base.options.beforeUpdate.apply(this,[base.$elem]);base.watchVisibility();base.updateItems();base.calculateAll();base.updatePosition();base.updateControls();
base.eachMoveUpdate();if(typeof base.options.afterUpdate==="function")base.options.afterUpdate.apply(this,[base.$elem])},reload:function(){var base=this;window.setTimeout(function(){base.updateVars()},0)},watchVisibility:function(){var base=this;if(base.$elem.is(":visible")===false){base.$elem.css({opacity:0});window.clearInterval(base.autoPlayInterval);window.clearInterval(base.checkVisible)}else return false;base.checkVisible=window.setInterval(function(){if(base.$elem.is(":visible")){base.reload();
base.$elem.animate({opacity:1},200);window.clearInterval(base.checkVisible)}},500)},wrapItems:function(){var base=this;base.$userItems.wrapAll('\x3cdiv class\x3d"owl-wrapper"\x3e').wrap('\x3cdiv class\x3d"owl-item"\x3e\x3c/div\x3e');base.$elem.find(".owl-wrapper").wrap('\x3cdiv class\x3d"owl-wrapper-outer"\x3e');base.wrapperOuter=base.$elem.find(".owl-wrapper-outer");base.$elem.css("display","block")},baseClass:function(){var base=this;var hasBaseClass=base.$elem.hasClass(base.options.baseClass);
var hasThemeClass=base.$elem.hasClass(base.options.theme);if(!hasBaseClass)base.$elem.addClass(base.options.baseClass);if(!hasThemeClass)base.$elem.addClass(base.options.theme)},updateItems:function(){var base=this;var width;var i;if(base.options.responsive===false)return false;if(base.options.singleItem===true){base.options.items=base.orignalItems=1;base.options.itemsCustom=false;base.options.itemsDesktop=false;base.options.itemsDesktopSmall=false;base.options.itemsTablet=false;base.options.itemsTabletSmall=
false;base.options.itemsMobile=false;return false}width=jQuery(base.options.responsiveBaseWidth).width();if(width>(base.options.itemsDesktop[0]||base.orignalItems))base.options.items=base.orignalItems;if(base.options.itemsCustom!==false){base.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(i=0;i<base.options.itemsCustom.length;i+=1)if(base.options.itemsCustom[i]!=undefined)if(base.options.itemsCustom[i][0]<=width)base.options.items=base.options.itemsCustom[i][1]}else{if(width<=base.options.itemsDesktop[0]&&
base.options.itemsDesktop!==false)base.options.items=base.options.itemsDesktop[1];if(width<=base.options.itemsDesktopSmall[0]&&base.options.itemsDesktopSmall!==false)base.options.items=base.options.itemsDesktopSmall[1];if(width<=base.options.itemsTablet[0]&&base.options.itemsTablet!==false)base.options.items=base.options.itemsTablet[1];if(width<=base.options.itemsTabletSmall[0]&&base.options.itemsTabletSmall!==false)base.options.items=base.options.itemsTabletSmall[1];if(width<=base.options.itemsMobile[0]&&
base.options.itemsMobile!==false)base.options.items=base.options.itemsMobile[1]}if(base.options.items>base.itemsAmount&&base.options.itemsScaleUp===true)base.options.items=base.itemsAmount},response:function(){var base=this;var smallDelay;var lastWindowWidth;if(base.options.responsive!==true)return false;lastWindowWidth=jQuery(window).width();base.resizer=function(){if(jQuery(window).width()!==lastWindowWidth){if(base.options.autoPlay!==false)window.clearInterval(base.autoPlayInterval);window.clearTimeout(smallDelay);
smallDelay=window.setTimeout(function(){lastWindowWidth=jQuery(window).width();base.updateVars()},base.options.responsiveRefreshRate)}};jQuery(window).resize(base.resizer)},updatePosition:function(){var base=this;base.jumpTo(base.currentItem);if(base.options.autoPlay!==false)base.checkAp()},appendItemsSizes:function(){var base=this;var roundPages=0;var lastItem=base.itemsAmount-base.options.items;base.$owlItems.each(function(index){var $this=jQuery(this);$this.css({"width":base.itemWidth}).data("owl-item",
Number(index));if(index%base.options.items===0||index===lastItem)if(!(index>lastItem))roundPages+=1;$this.data("owl-roundPages",roundPages)})},appendWrapperSizes:function(){var base=this;var width=base.$owlItems.length*base.itemWidth;base.$owlWrapper.css({"width":width*2,"left":0});base.appendItemsSizes()},calculateAll:function(){var base=this;base.calculateWidth();base.appendWrapperSizes();base.loops();base.max()},calculateWidth:function(){var base=this;base.itemWidth=Math.round(base.$elem.width()/
base.options.items)},max:function(){var base=this;var maximum=(base.itemsAmount*base.itemWidth-base.options.items*base.itemWidth)*-1;if(base.options.items>base.itemsAmount){base.maximumItem=0;maximum=0;base.maximumPixels=0}else{base.maximumItem=base.itemsAmount-base.options.items;base.maximumPixels=maximum}return maximum},min:function(){return 0},loops:function(){var base=this;var prev=0;var elWidth=0;var i;var item;var roundPageNum;base.positionsInArray=[0];base.pagesInArray=[];for(i=0;i<base.itemsAmount;i+=
1){elWidth+=base.itemWidth;base.positionsInArray.push(-elWidth);if(base.options.scrollPerPage===true){item=jQuery(base.$owlItems[i]);roundPageNum=item.data("owl-roundPages");if(roundPageNum!==prev){base.pagesInArray[prev]=base.positionsInArray[i];prev=roundPageNum}}}},buildControls:function(){var base=this;if(base.options.navigation===true||base.options.pagination===true)base.owlControls=jQuery('\x3cdiv class\x3d"owl-controls"/\x3e').toggleClass("clickable",!base.browser.isTouch).appendTo(base.$elem);
if(base.options.pagination===true)base.buildPagination();if(base.options.navigation===true)base.buildButtons()},buildButtons:function(){var base=this;var buttonsWrapper=jQuery('\x3cdiv class\x3d"owl-buttons"/\x3e');base.owlControls.append(buttonsWrapper);base.buttonPrev=jQuery("\x3cdiv/\x3e",{"class":"owl-prev","html":base.options.navigationText[0]||""});base.buttonNext=jQuery("\x3cdiv/\x3e",{"class":"owl-next","html":base.options.navigationText[1]||""});buttonsWrapper.append(base.buttonPrev).append(base.buttonNext);
buttonsWrapper.on("touchstart.owlControls mousedown.owlControls",'div[class^\x3d"owl"]',function(event){event.preventDefault()});buttonsWrapper.on("touchend.owlControls mouseup.owlControls",'div[class^\x3d"owl"]',function(event){event.preventDefault();if(jQuery(this).hasClass("owl-next"))base.next();else base.prev()})},buildPagination:function(){var base=this;base.paginationWrapper=jQuery('\x3cdiv class\x3d"owl-pagination"/\x3e');base.owlControls.append(base.paginationWrapper);base.paginationWrapper.on("touchend.owlControls mouseup.owlControls",
".owl-page",function(event){event.preventDefault();if(Number(jQuery(this).data("owl-page"))!==base.currentItem)base.goTo(Number(jQuery(this).data("owl-page")),true)})},updatePagination:function(){var base=this;var counter;var lastPage;var lastItem;var i;var paginationButton;var paginationButtonInner;if(base.options.pagination===false)return false;base.paginationWrapper.html("");counter=0;lastPage=base.itemsAmount-base.itemsAmount%base.options.items;for(i=0;i<base.itemsAmount;i+=1)if(i%base.options.items===
0){counter+=1;if(lastPage===i)lastItem=base.itemsAmount-base.options.items;paginationButton=jQuery("\x3cdiv/\x3e",{"class":"owl-page"});paginationButtonInner=jQuery("\x3cspan\x3e\x3c/span\x3e",{"text":base.options.paginationNumbers===true?counter:"","class":base.options.paginationNumbers===true?"owl-numbers":""});paginationButton.append(paginationButtonInner);paginationButton.data("owl-page",lastPage===i?lastItem:i);paginationButton.data("owl-roundPages",counter);base.paginationWrapper.append(paginationButton)}base.checkPagination()},
checkPagination:function(){var base=this;if(base.options.pagination===false)return false;base.paginationWrapper.find(".owl-page").each(function(){if(jQuery(this).data("owl-roundPages")===jQuery(base.$owlItems[base.currentItem]).data("owl-roundPages")){base.paginationWrapper.find(".owl-page").removeClass("active");jQuery(this).addClass("active")}})},checkNavigation:function(){var base=this;if(base.options.navigation===false)return false;if(base.options.rewindNav===false)if(base.currentItem===0&&base.maximumItem===
0){base.buttonPrev.addClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem===0&&base.maximumItem!==0){base.buttonPrev.addClass("disabled");base.buttonNext.removeClass("disabled")}else if(base.currentItem===base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem!==0&&base.currentItem!==base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.removeClass("disabled")}},updateControls:function(){var base=
this;base.updatePagination();base.checkNavigation();if(base.owlControls)if(base.options.items>=base.itemsAmount)base.owlControls.hide();else base.owlControls.show()},destroyControls:function(){var base=this;if(base.owlControls)base.owlControls.remove()},next:function(speed){var base=this;if(base.isTransition)return false;base.currentItem+=base.options.scrollPerPage===true?base.options.items:1;if(base.currentItem>base.maximumItem+(base.options.scrollPerPage===true?base.options.items-1:0))if(base.options.rewindNav===
true){base.currentItem=0;speed="rewind"}else{base.currentItem=base.maximumItem;return false}base.goTo(base.currentItem,speed)},prev:function(speed){var base=this;if(base.isTransition)return false;if(base.options.scrollPerPage===true&&base.currentItem>0&&base.currentItem<base.options.items)base.currentItem=0;else base.currentItem-=base.options.scrollPerPage===true?base.options.items:1;if(base.currentItem<0)if(base.options.rewindNav===true){base.currentItem=base.maximumItem;speed="rewind"}else{base.currentItem=
0;return false}base.goTo(base.currentItem,speed)},goTo:function(position,speed,drag){var base=this;var goToPixel;if(base.isTransition)return false;if(typeof base.options.beforeMove==="function")base.options.beforeMove.apply(this,[base.$elem]);if(position>=base.maximumItem)position=base.maximumItem;else if(position<=0)position=0;base.currentItem=base.owl.currentItem=position;if(base.options.transitionStyle!==false&&drag!=="drag"&&base.options.items===1&&base.browser.support3d===true){base.swapSpeed(0);
if(base.browser.support3d===true)base.transition3d(base.positionsInArray[position]);else base.css2slide(base.positionsInArray[position],1);base.afterGo();base.singleItemTransition();return false}goToPixel=base.positionsInArray[position];if(base.browser.support3d===true){base.isCss3Finish=false;if(speed===true){base.swapSpeed("paginationSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.paginationSpeed)}else if(speed==="rewind"){base.swapSpeed(base.options.rewindSpeed);window.setTimeout(function(){base.isCss3Finish=
true},base.options.rewindSpeed)}else{base.swapSpeed("slideSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.slideSpeed)}base.transition3d(goToPixel)}else if(speed===true)base.css2slide(goToPixel,base.options.paginationSpeed);else if(speed==="rewind")base.css2slide(goToPixel,base.options.rewindSpeed);else base.css2slide(goToPixel,base.options.slideSpeed);base.afterGo()},jumpTo:function(position){var base=this;if(typeof base.options.beforeMove==="function")base.options.beforeMove.apply(this,
[base.$elem]);if(position>=base.maximumItem||position===-1)position=base.maximumItem;else if(position<=0)position=0;base.swapSpeed(0);if(base.browser.support3d===true)base.transition3d(base.positionsInArray[position]);else base.css2slide(base.positionsInArray[position],1);base.currentItem=base.owl.currentItem=position;base.afterGo()},afterGo:function(){var base=this;base.prevArr.push(base.currentItem);base.prevItem=base.owl.prevItem=base.prevArr[base.prevArr.length-2];base.prevArr.shift(0);if(base.prevItem!==
base.currentItem){base.checkPagination();base.checkNavigation();base.eachMoveUpdate();if(base.options.autoPlay!==false)base.checkAp()}if(typeof base.options.afterMove==="function"&&base.prevItem!==base.currentItem)base.options.afterMove.apply(this,[base.$elem])},stop:function(){var base=this;base.apStatus="stop";window.clearInterval(base.autoPlayInterval)},checkAp:function(){var base=this;if(base.apStatus!=="stop")base.play()},play:function(){var base=this;base.apStatus="play";if(base.options.autoPlay===
false)return false;window.clearInterval(base.autoPlayInterval);base.autoPlayInterval=window.setInterval(function(){base.next(true)},base.options.autoPlay)},swapSpeed:function(action){var base=this;if(action==="slideSpeed")base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed));else if(action==="paginationSpeed")base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed));else if(typeof action!=="string")base.$owlWrapper.css(base.addCssSpeed(action))},addCssSpeed:function(speed){return{"-webkit-transition":"all "+
speed+"ms ease","-moz-transition":"all "+speed+"ms ease","-o-transition":"all "+speed+"ms ease","transition":"all "+speed+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"","transition":""}},doTranslate:function(pixels){return{"-webkit-transform":"translate3d("+pixels+"px, 0px, 0px)","-moz-transform":"translate3d("+pixels+"px, 0px, 0px)","-o-transform":"translate3d("+pixels+"px, 0px, 0px)","-ms-transform":"translate3d("+pixels+"px, 0px, 0px)",
"transform":"translate3d("+pixels+"px, 0px,0px)"}},transition3d:function(value){var base=this;base.$owlWrapper.css(base.doTranslate(value))},css2move:function(value){var base=this;base.$owlWrapper.css({"left":value})},css2slide:function(value,speed){var base=this;base.isCssFinish=false;base.$owlWrapper.stop(true,true).animate({"left":value},{duration:speed||base.options.slideSpeed,complete:function(){base.isCssFinish=true}})},checkBrowser:function(){var base=this;var translate3D="translate3d(0px, 0px, 0px)";
var tempElem=document.createElement("div");var regex;var asSupport;var support3d;var isTouch;tempElem.style.cssText="  -moz-transform:"+translate3D+"; -ms-transform:"+translate3D+"; -o-transform:"+translate3D+"; -webkit-transform:"+translate3D+"; transform:"+translate3D;regex=/translate3d\(0px, 0px, 0px\)/g;asSupport=tempElem.style.cssText.match(regex);support3d=asSupport!==null&&asSupport.length===1;isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints;base.browser={"support3d":support3d,
"isTouch":isTouch}},moveEvents:function(){var base=this;if(base.options.mouseDrag!==false||base.options.touchDrag!==false){base.gestures();base.disabledEvents()}},eventTypes:function(){var base=this;var types=["s","e","x"];base.ev_types={};if(base.options.mouseDrag===true&&base.options.touchDrag===true)types=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"];else if(base.options.mouseDrag===false&&base.options.touchDrag===true)types=["touchstart.owl",
"touchmove.owl","touchend.owl touchcancel.owl"];else if(base.options.mouseDrag===true&&base.options.touchDrag===false)types=["mousedown.owl","mousemove.owl","mouseup.owl"];base.ev_types.start=types[0];base.ev_types.move=types[1];base.ev_types.end=types[2]},disabledEvents:function(){var base=this;base.$elem.on("dragstart.owl",function(event){event.preventDefault()});base.$elem.on("mousedown.disableTextSelect",function(e){return jQuery(e.target).is("input, textarea, select, option")})},gestures:function(){function getTouches(event){if(event.touches!==
undefined)return{x:event.touches[0].pageX,y:event.touches[0].pageY};if(event.touches===undefined){if(event.pageX!==undefined)return{x:event.pageX,y:event.pageY};if(event.pageX===undefined)return{x:event.clientX,y:event.clientY}}}function swapEvents(type){if(type==="on"){jQuery(document).on(base.ev_types.move,dragMove);jQuery(document).on(base.ev_types.end,dragEnd)}else if(type==="off"){jQuery(document).off(base.ev_types.move);jQuery(document).off(base.ev_types.end)}}function dragStart(event){var ev=
event.originalEvent||event||window.event;var position;if(ev.which===3)return false;if(base.itemsAmount<=base.options.items)return;if(base.isCssFinish===false&&!base.options.dragBeforeAnimFinish)return false;if(base.isCss3Finish===false&&!base.options.dragBeforeAnimFinish)return false;if(base.options.autoPlay!==false)window.clearInterval(base.autoPlayInterval);if(base.browser.isTouch!==true&&!base.$owlWrapper.hasClass("grabbing"))base.$owlWrapper.addClass("grabbing");base.newPosX=0;base.newRelativeX=
0;jQuery(this).css(base.removeTransition());position=jQuery(this).position();locals.relativePos=position.left;locals.offsetX=getTouches(ev).x-position.left;locals.offsetY=getTouches(ev).y-position.top;swapEvents("on");locals.sliding=false;locals.targetElement=ev.target||ev.srcElement}function dragMove(event){var ev=event.originalEvent||event||window.event;var minSwipe;var maxSwipe;base.newPosX=getTouches(ev).x-locals.offsetX;base.newPosY=getTouches(ev).y-locals.offsetY;base.newRelativeX=base.newPosX-
locals.relativePos;if(typeof base.options.startDragging==="function"&&locals.dragging!==true&&base.newRelativeX!==0){locals.dragging=true;base.options.startDragging.apply(base,[base.$elem])}if((base.newRelativeX>8||base.newRelativeX<-8)&&base.browser.isTouch===true){if(ev.preventDefault!==undefined)ev.preventDefault();else ev.returnValue=false;locals.sliding=true}if((base.newPosY>10||base.newPosY<-10)&&locals.sliding===false)jQuery(document).off("touchmove.owl");minSwipe=function(){return base.newRelativeX/
5};maxSwipe=function(){return base.maximumPixels+base.newRelativeX/5};base.newPosX=Math.max(Math.min(base.newPosX,minSwipe()),maxSwipe());if(base.browser.support3d===true)base.transition3d(base.newPosX);else base.css2move(base.newPosX)}function dragEnd(event){var ev$$0=event.originalEvent||event||window.event;var newPosition;var handlers;var owlStopEvent;ev$$0.target=ev$$0.target||ev$$0.srcElement;locals.dragging=false;if(base.browser.isTouch!==true)base.$owlWrapper.removeClass("grabbing");if(base.newRelativeX<
0)base.dragDirection=base.owl.dragDirection="left";else base.dragDirection=base.owl.dragDirection="right";if(base.newRelativeX!==0){newPosition=base.getNewPosition();base.goTo(newPosition,false,"drag");if(locals.targetElement===ev$$0.target&&base.browser.isTouch!==true){jQuery(ev$$0.target).on("click.disable",function(ev){ev.stopImmediatePropagation();ev.stopPropagation();ev.preventDefault();jQuery(ev.target).off("click.disable")});handlers=$._data(ev$$0.target,"events").click;owlStopEvent=handlers.pop();
handlers.splice(0,0,owlStopEvent)}}swapEvents("off")}var base=this;var locals={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};base.isCssFinish=true;base.$elem.on(base.ev_types.start,".owl-wrapper",dragStart)},getNewPosition:function(){var base=this;var newPosition=base.closestItem();if(newPosition>base.maximumItem){base.currentItem=base.maximumItem;newPosition=base.maximumItem}else if(base.newPosX>=0){newPosition=
0;base.currentItem=0}return newPosition},closestItem:function(){var base=this;var array=base.options.scrollPerPage===true?base.pagesInArray:base.positionsInArray;var goal=base.newPosX;var closest=null;$.each(array,function(i,v){if(goal-base.itemWidth/20>array[i+1]&&goal-base.itemWidth/20<v&&base.moveDirection()==="left"){closest=v;if(base.options.scrollPerPage===true)base.currentItem=$.inArray(closest,base.positionsInArray);else base.currentItem=i}else if(goal+base.itemWidth/20<v&&goal+base.itemWidth/
20>(array[i+1]||array[i]-base.itemWidth)&&base.moveDirection()==="right")if(base.options.scrollPerPage===true){closest=array[i+1]||array[array.length-1];base.currentItem=$.inArray(closest,base.positionsInArray)}else{closest=array[i+1];base.currentItem=i+1}});return base.currentItem},moveDirection:function(){var base=this;var direction;if(base.newRelativeX<0){direction="right";base.playDirection="next"}else{direction="left";base.playDirection="prev"}return direction},customEvents:function(){var base=
this;base.$elem.on("owl.next",function(){base.next()});base.$elem.on("owl.prev",function(){base.prev()});base.$elem.on("owl.play",function(event,speed){base.options.autoPlay=speed;base.play();base.hoverStatus="play"});base.$elem.on("owl.stop",function(){base.stop();base.hoverStatus="stop"});base.$elem.on("owl.goTo",function(event,item){base.goTo(item)});base.$elem.on("owl.jumpTo",function(event,item){base.jumpTo(item)})},stopOnHover:function(){var base=this;if(base.options.stopOnHover===true&&base.browser.isTouch!==
true&&base.options.autoPlay!==false){base.$elem.on("mouseover",function(){base.stop()});base.$elem.on("mouseout",function(){if(base.hoverStatus!=="stop")base.play()})}},lazyLoad:function(){var base=this;var i;var $item;var itemNumber;var $lazyImg;var follow;if(base.options.lazyLoad===false)return false;for(i=0;i<base.itemsAmount;i+=1){$item=jQuery(base.$owlItems[i]);if($item.data("owl-loaded")==="loaded")continue;itemNumber=$item.data("owl-item");$lazyImg=$item.find(".lazyOwl");if(typeof $lazyImg.data("src")!==
"string"){$item.data("owl-loaded","loaded");continue}if($item.data("owl-loaded")===undefined){$lazyImg.hide();$item.addClass("loading").data("owl-loaded","checked")}if(base.options.lazyFollow===true)follow=itemNumber>=base.currentItem;else follow=true;if(follow&&itemNumber<base.currentItem+base.options.items&&$lazyImg.length)base.lazyPreload($item,$lazyImg)}},lazyPreload:function($item,$lazyImg){function showImage(){$item.data("owl-loaded","loaded").removeClass("loading");$lazyImg.removeAttr("data-src");
if(base.options.lazyEffect==="fade")$lazyImg.fadeIn(400);else $lazyImg.show();if(typeof base.options.afterLazyLoad==="function")base.options.afterLazyLoad.apply(this,[base.$elem])}function checkLazyImage(){iterations+=1;if(base.completeImg($lazyImg.get(0))||isBackgroundImg===true)showImage();else if(iterations<=100)window.setTimeout(checkLazyImage,100);else showImage()}var base=this;var iterations=0;var isBackgroundImg;if($lazyImg.prop("tagName")==="DIV"){$lazyImg.css("background-image","url("+$lazyImg.data("src")+
")");isBackgroundImg=true}else $lazyImg[0].src=$lazyImg.data("src");checkLazyImage()},autoHeight:function(){function addHeight(){var $currentItem=jQuery(base.$owlItems[base.currentItem]).height();base.wrapperOuter.css("height",$currentItem+"px");if(!base.wrapperOuter.hasClass("autoHeight"))window.setTimeout(function(){base.wrapperOuter.addClass("autoHeight")},0)}function checkImage(){iterations+=1;if(base.completeImg($currentimg.get(0)))addHeight();else if(iterations<=100)window.setTimeout(checkImage,
100);else base.wrapperOuter.css("height","")}var base=this;var $currentimg=jQuery(base.$owlItems[base.currentItem]).find("img");var iterations;if($currentimg.get(0)!==undefined){iterations=0;checkImage()}else addHeight()},completeImg:function(img){var naturalWidthType;if(!img.complete)return false;naturalWidthType=typeof img.naturalWidth;if(naturalWidthType!=="undefined"&&img.naturalWidth===0)return false;return true},onVisibleItems:function(){var base=this;var i;if(base.options.addClassActive===
true)base.$owlItems.removeClass("active");base.visibleItems=[];for(i=base.currentItem;i<base.currentItem+base.options.items;i+=1){base.visibleItems.push(i);if(base.options.addClassActive===true)jQuery(base.$owlItems[i]).addClass("active")}base.owl.visibleItems=base.visibleItems},transitionTypes:function(className){var base=this;base.outClass="owl-"+className+"-out";base.inClass="owl-"+className+"-in"},singleItemTransition:function(){function transStyles(prevPos){return{"position":"relative","left":prevPos+
"px"}}var base=this;var outClass=base.outClass;var inClass=base.inClass;var $currentItem=base.$owlItems.eq(base.currentItem);var $prevItem=base.$owlItems.eq(base.prevItem);var prevPos=Math.abs(base.positionsInArray[base.currentItem])+base.positionsInArray[base.prevItem];var origin=Math.abs(base.positionsInArray[base.currentItem])+base.itemWidth/2;var animEnd="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";base.isTransition=true;base.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":origin+
"px","-moz-perspective-origin":origin+"px","perspective-origin":origin+"px"});$prevItem.css(transStyles(prevPos,10)).addClass(outClass).on(animEnd,function(){base.endPrev=true;$prevItem.off(animEnd);base.clearTransStyle($prevItem,outClass)});$currentItem.addClass(inClass).on(animEnd,function(){base.endCurrent=true;$currentItem.off(animEnd);base.clearTransStyle($currentItem,inClass)})},clearTransStyle:function(item,classToRemove){var base=this;item.css({"position":"","left":""}).removeClass(classToRemove);
if(base.endPrev&&base.endCurrent){base.$owlWrapper.removeClass("owl-origin");base.endPrev=false;base.endCurrent=false;base.isTransition=false}},owlStatus:function(){var base=this;base.owl={"userOptions":base.userOptions,"baseElement":base.$elem,"userItems":base.$userItems,"owlItems":base.$owlItems,"currentItem":base.currentItem,"prevItem":base.prevItem,"visibleItems":base.visibleItems,"isTouch":base.browser.isTouch,"browser":base.browser,"dragDirection":base.dragDirection}},clearEvents:function(){var base=
this;base.$elem.off(".owl owl mousedown.disableTextSelect");jQuery(document).off(".owl owl");jQuery(window).off("resize",base.resizer)},unWrap:function(){var base=this;if(base.$elem.children().length!==0){base.$owlWrapper.unwrap();base.$userItems.unwrap().unwrap();if(base.owlControls)base.owlControls.remove()}base.clearEvents();base.$elem.attr("style",base.$elem.data("owl-originalStyles")||"").attr("class",base.$elem.data("owl-originalClasses"))},destroy:function(){var base=this;base.stop();window.clearInterval(base.checkVisible);
base.unWrap();base.$elem.removeData()},reinit:function(newOptions){var base=this;var options=$.extend({},base.userOptions,newOptions);base.unWrap();base.init(options,base.$elem)},addItem:function(htmlString,targetPosition){var base=this;var position;if(!htmlString)return false;if(base.$elem.children().length===0){base.$elem.append(htmlString);base.setVars();return false}base.unWrap();if(targetPosition===undefined||targetPosition===-1)position=-1;else position=targetPosition;if(position>=base.$userItems.length||
position===-1)base.$userItems.eq(-1).after(htmlString);else base.$userItems.eq(position).before(htmlString);base.setVars()},removeItem:function(targetPosition){var base=this;var position;if(base.$elem.children().length===0)return false;if(targetPosition===undefined||targetPosition===-1)position=-1;else position=targetPosition;base.unWrap();base.$userItems.eq(position).remove();base.setVars()}};$.fn.owlCarousel=function(options){return this.each(function(){if(jQuery(this).data("owl-init")===true)return false;
jQuery(this).data("owl-init",true);var carousel=Object.create(Carousel);carousel.init(options,this);$.data(this,"owlCarousel",carousel)})};$.fn.owlCarousel.options={items:5,itemsCustom:false,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:false,itemsMobile:[479,1],singleItem:false,itemsScaleUp:false,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:false,stopOnHover:false,navigation:false,navigationText:["prev","next"],rewindNav:true,scrollPerPage:false,
pagination:true,paginationNumbers:false,responsive:true,responsiveRefreshRate:200,responsiveBaseWidth:window,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:false,lazyFollow:true,lazyEffect:"fade",autoHeight:false,jsonPath:false,jsonSuccess:false,dragBeforeAnimFinish:true,mouseDrag:true,touchDrag:true,addClassActive:false,transitionStyle:false,beforeUpdate:false,afterUpdate:false,beforeInit:false,afterInit:false,beforeMove:false,afterMove:false,afterAction:false,startDragging:false,afterLazyLoad:false}})(jQuery,
window,document);
!function(t$$0){function n$$1(){t$$0[s$$1].glbl||(d$$1={$wndw:t$$0(window),$html:t$$0("html"),$body:t$$0("body")},a$$0={},l$$0={},r$$1={},t$$0.each([a$$0,l$$0,r$$1],function(e$$0,t){t.add=function(e){e=e.split(" ");for(var n in e)t[e[n]]=t.mm(e[n])}}),a$$0.mm=function(e){return"mm-"+e},a$$0.add("wrapper menu vertical panel nopanel current highest opened subopened header hasheader title btn prev next first last listview nolistview selected divider spacer hidden fullsubopen"),a$$0.umm=function(e){return"mm-"==
e.slice(0,3)&&(e=e.slice(3)),e},l$$0.mm=function(e){return"mm-"+e},l$$0.add("parent sub"),r$$1.mm=function(e){return e+".mm"},r$$1.add("transitionend webkitTransitionEnd mousedown mouseup touchstart touchmove touchend click keydown"),t$$0[s$$1]._c=a$$0,t$$0[s$$1]._d=l$$0,t$$0[s$$1]._e=r$$1,t$$0[s$$1].glbl=d$$1)}var s$$1="mmenu";var i$$1="5.0.4";if(!t$$0[s$$1]){t$$0[s$$1]=function(e,t,n){this.$menu=e,this._api=["bind","init","update","setSelected","getInstance","openPanel","closePanel","closeAllPanels"],
this.opts=t,this.conf=n,this.vars={},this.cbck={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var s=this.$menu.children(this.conf.panelNodetype);return this._initAddons(),this.init(s),"function"==typeof this.___debug&&this.___debug(),this},t$$0[s$$1].version=i$$1,t$$0[s$$1].addons={},t$$0[s$$1].uniqueId=0,t$$0[s$$1].defaults={extensions:[],onClick:{setSelected:!0},slidingSubmenus:!0},t$$0[s$$1].configuration={classNames:{panel:"Panel",vertical:"Vertical",
selected:"Selected",divider:"Divider",spacer:"Spacer"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},t$$0[s$$1].prototype={init:function(e){e=e.not("."+a$$0.nopanel),e=this._initPanels(e),this.trigger("init",e),this.trigger("update")},update:function(){this.trigger("update")},setSelected:function(e){this.$menu.find("."+a$$0.listview).children().removeClass(a$$0.selected),e.addClass(a$$0.selected),this.trigger("setSelected",e)},openPanel:function(e){var n=e.parent();
if(n.hasClass(a$$0.vertical)){var s=n.parents("."+a$$0.subopened);if(s.length)return this.openPanel(s.first());n.addClass(a$$0.opened)}else{if(e.hasClass(a$$0.current))return;var i=t$$0(this.$menu).children("."+a$$0.panel);var l=i.filter("."+a$$0.current);i.removeClass(a$$0.highest).removeClass(a$$0.current).not(e).not(l).not("."+a$$0.vertical).addClass(a$$0.hidden),e.hasClass(a$$0.opened)?l.addClass(a$$0.highest).removeClass(a$$0.opened).removeClass(a$$0.subopened):(e.addClass(a$$0.highest),l.addClass(a$$0.subopened)),
e.removeClass(a$$0.hidden).addClass(a$$0.current),setTimeout(function(){e.removeClass(a$$0.subopened).addClass(a$$0.opened)},this.conf.openingInterval)}this.trigger("openPanel",e)},closePanel:function(e){var t=e.parent();t.hasClass(a$$0.vertical)&&(t.removeClass(a$$0.opened),this.trigger("closePanel",e))},closeAllPanels:function(){this.$menu.find("."+a$$0.listview).children().removeClass(a$$0.selected).filter("."+a$$0.vertical).removeClass(a$$0.opened);var e=this.$menu.children("."+a$$0.panel);var t=
e.first();this.$menu.children("."+a$$0.panel).not(t).removeClass(a$$0.subopened).removeClass(a$$0.opened).removeClass(a$$0.current).removeClass(a$$0.highest).addClass(a$$0.hidden),this.openPanel(t)},togglePanel:function(e){var t=e.parent();t.hasClass(a$$0.vertical)&&this[t.hasClass(a$$0.opened)?"closePanel":"openPanel"](e)},getInstance:function(){return this},bind:function(e,t){this.cbck[e]=this.cbck[e]||[],this.cbck[e].push(t)},trigger:function(){var t=this;var n=Array.prototype.slice.call(arguments);
var s=n.shift();if(this.cbck[s])for(e in this.cbck[s])this.cbck[s][e].apply(t,n)},_initMenu:function(){this.opts.offCanvas&&this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("*")).filter("[id]").each(function(){t$$0(this).attr("id",a$$0.mm(t$$0(this).attr("id")))})),this.$menu.contents().each(function(){3==t$$0(this)[0].nodeType&&t$$0(this).remove()}),this.$menu.parent().addClass(a$$0.wrapper);var e=[a$$0.menu];this.opts.slidingSubmenus||e.push(a$$0.vertical),this.opts.extensions=
this.opts.extensions.length?"mm-"+this.opts.extensions.join(" mm-"):"",this.opts.extensions&&e.push(this.opts.extensions),this.$menu.addClass(e.join(" "))},_initPanels:function(e$$0){var n$$0=this;this.__findAddBack(e$$0,"ul, ol").not("."+a$$0.nolistview).addClass(a$$0.listview);var s$$0=this.__findAddBack(e$$0,"."+a$$0.listview).children();this.__refactorClass(s$$0,this.conf.classNames.selected,"selected"),this.__refactorClass(s$$0,this.conf.classNames.divider,"divider"),this.__refactorClass(s$$0,
this.conf.classNames.spacer,"spacer"),this.__refactorClass(this.__findAddBack(e$$0,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel");var i$$0=t$$0();var r$$0=e$$0.add(this.__findAddBack(e$$0,"."+a$$0.listview).children().children(this.conf.panelNodetype)).not("."+a$$0.nopanel);this.__refactorClass(r$$0,this.conf.classNames.vertical,"vertical"),this.opts.slidingSubmenus||r$$0.addClass(a$$0.vertical),r$$0.each(function(){var e=t$$0(this);var s=e;e.is("ul, ol")?(e.wrap('\x3cdiv class\x3d"'+
a$$0.panel+'" /\x3e'),s=e.parent()):s.addClass(a$$0.panel);var l=e.attr("id");e.removeAttr("id"),s.attr("id",l||n$$0.__getUniqueId()),e.hasClass(a$$0.vertical)&&(e.removeClass(n$$0.conf.classNames.vertical),s.add(s.parent()).addClass(a$$0.vertical)),i$$0=i$$0.add(s);var r=s.children().first();var d=s.children().last();r.is("."+a$$0.listview)&&r.addClass(a$$0.first),d.is("."+a$$0.listview)&&d.addClass(a$$0.last)});var d$$0=t$$0("."+a$$0.panel,this.$menu);i$$0.each(function(){var e=t$$0(this);var n=
e.parent();var s=n.children("a, span");if(!n.is("."+a$$0.menu)&&!e.data(l$$0.parent)){if(n.data(l$$0.sub,e),e.data(l$$0.parent,n),n.parent().is("."+a$$0.listview)){var i=e.attr("id");var r=t$$0('\x3ca class\x3d"'+a$$0.next+'" href\x3d"#'+i+'" data-target\x3d"#'+i+'" /\x3e').insertBefore(s);s.is("a")||r.addClass(a$$0.fullsubopen)}if(!n.hasClass(a$$0.vertical)){var d=n.closest("."+a$$0.panel);if(d.length){i=d.attr("id");e.prepend('\x3cdiv class\x3d"'+a$$0.header+'"\x3e\x3ca class\x3d"'+a$$0.btn+" "+
a$$0.prev+'" href\x3d"#'+i+'" data-target\x3d"#'+i+'"\x3e\x3c/a\x3e\x3ca class\x3d"'+a$$0.title+'"\x3e'+s.text()+"\x3c/a\x3e\x3c/div\x3e"),e.addClass(a$$0.hasheader)}}}});var o=this.__findAddBack(e$$0,"."+a$$0.listview).children("."+a$$0.selected).removeClass(a$$0.selected).last().addClass(a$$0.selected);o.add(o.parentsUntil("."+a$$0.menu,"li")).filter("."+a$$0.vertical).addClass(a$$0.opened).end().not("."+a$$0.vertical).each(function(){t$$0(this).parentsUntil("."+a$$0.menu,"."+a$$0.panel).not("."+
a$$0.vertical).first().addClass(a$$0.opened).parentsUntil("."+a$$0.menu,"."+a$$0.panel).not("."+a$$0.vertical).first().addClass(a$$0.opened).addClass(a$$0.subopened)}),o.children("."+a$$0.panel).not("."+a$$0.vertical).addClass(a$$0.opened).parentsUntil("."+a$$0.menu,"."+a$$0.panel).not("."+a$$0.vertical).first().addClass(a$$0.opened).addClass(a$$0.subopened);var c=d$$0.filter("."+a$$0.opened);return c.length||(c=i$$0.first()),c.addClass(a$$0.opened).last().addClass(a$$0.current),i$$0.not("."+a$$0.vertical).not(c.last()).addClass(a$$0.hidden).end().appendTo(this.$menu),
i$$0},_initAnchors:function(){var e=this;d$$1.$body.on(r$$1.click+"-oncanvas","a[href]",function(n){var i=t$$0(this);var l=!1;var r=e.$menu.find(i).length;for(var o in t$$0[s$$1].addons)if(l=t$$0[s$$1].addons[o].clickAnchor.call(e,i,r))break;if(!l&&r){var c=i.attr("href");if(c.length>1&&"#"==c.slice(0,1)){var h=t$$0(c,e.$menu);h.is("."+a$$0.panel)&&(l=!0,e[i.parent().hasClass(a$$0.vertical)?"togglePanel":"openPanel"](h))}}if(l&&n.preventDefault(),!l&&r&&i.is("."+a$$0.listview+" \x3e li \x3e a")&&
!i.is('[rel\x3d"external"]')&&!i.is('[target\x3d"_blank"]')){e.__valueOrFn(e.opts.onClick.setSelected,i)&&e.setSelected(t$$0(n.target).parent());var u=e.__valueOrFn(e.opts.onClick.preventDefault,i,"#"==c.slice(0,1));u&&n.preventDefault(),e.__valueOrFn(e.opts.onClick.blockUI,i,!u)&&d$$1.$html.addClass(a$$0.blocking),e.__valueOrFn(e.opts.onClick.close,i,u)&&e.close()}})},_initAddons:function(){for(var e in t$$0[s$$1].addons)t$$0[s$$1].addons[e].add.call(this),t$$0[s$$1].addons[e].add=function(){};for(e in t$$0[s$$1].addons)t$$0[s$$1].addons[e].setup.call(this)},
__api:function(){var e=this;var n={};return t$$0.each(this._api,function(){var t=this;n[t]=function(){var s=e[t].apply(e,arguments);return"undefined"==typeof s?n:s}}),n},__valueOrFn:function(e,t,n){return"function"==typeof e?e.call(t[0]):"undefined"==typeof e&&"undefined"!=typeof n?n:e},__refactorClass:function(e,t,n){return e.filter("."+t).removeClass(t).addClass(a$$0[n])},__findAddBack:function(e,t){return e.find(t).add(e.filter(t))},__filterListItems:function(e){return e.not("."+a$$0.divider).not("."+
a$$0.hidden)},__transitionend:function(e,t,n){var s=!1;var i=function(){s||t.call(e[0]),s=!0};e.one(r$$1.transitionend,i),e.one(r$$1.webkitTransitionEnd,i),setTimeout(i,1.1*n)},__getUniqueId:function(){return a$$0.mm(t$$0[s$$1].uniqueId++)}},t$$0.fn[s$$1]=function(e,i){return n$$1(),e=t$$0.extend(!0,{},t$$0[s$$1].defaults,e),i=t$$0.extend(!0,{},t$$0[s$$1].configuration,i),this.each(function(){var n=t$$0(this);if(!n.data(s$$1)){var a=new t$$0[s$$1](n,e,i);n.data(s$$1,a.__api())}})},t$$0[s$$1].support=
{touch:"ontouchstart"in window||navigator.msMaxTouchPoints};var a$$0;var l$$0;var r$$1;var d$$1}}(jQuery);
!function(e$$1){var t$$0="mmenu";var o$$0="offCanvas";e$$1[t$$0].addons[o$$0]={setup:function(){if(this.opts[o$$0]){var n=this.opts[o$$0];var i=this.conf[o$$0];a=e$$1[t$$0].glbl,this._api=e$$1.merge(this._api,["open","close","setPage"]),("top"==n.position||"bottom"==n.position)&&(n.zposition="front"),"string"!=typeof i.pageSelector&&(i.pageSelector="\x3e "+i.pageNodetype),a.$allMenus=(a.$allMenus||e$$1()).add(this.$menu),this.vars.opened=!1;var r=[s.offcanvas];"left"!=n.position&&r.push(s.mm(n.position)),
"back"!=n.zposition&&r.push(s.mm(n.zposition)),this.$menu.addClass(r.join(" ")).parent().removeClass(s.wrapper),this.setPage(a.$page),this._initBlocker(),this["_initWindow_"+o$$0](),this.$menu[i.menuInjectMethod+"To"](i.menuWrapperSelector)}},add:function(){s=e$$1[t$$0]._c,n$$0=e$$1[t$$0]._d,i$$0=e$$1[t$$0]._e,s.add("offcanvas slideout modal background opening blocker page"),n$$0.add("style"),i$$0.add("resize")},clickAnchor:function(e){if(!this.opts[o$$0])return!1;var t=this.$menu.attr("id");if(t&&
t.length&&(this.conf.clone&&(t=s.umm(t)),e.is('[href\x3d"#'+t+'"]')))return this.open(),!0;if(a.$page){t=a.$page.attr("id");return t&&t.length&&e.is('[href\x3d"#'+t+'"]')?(this.close(),!0):!1}}},e$$1[t$$0].defaults[o$$0]={position:"left",zposition:"back",modal:!1,moveBackground:!0},e$$1[t$$0].configuration[o$$0]={pageNodetype:"div",pageSelector:null,menuWrapperSelector:"body",menuInjectMethod:"prepend"},e$$1[t$$0].prototype.open=function(){if(!this.vars.opened){var e=this;this._openSetup(),setTimeout(function(){e._openFinish()},
this.conf.openingInterval),this.trigger("open")}},e$$1[t$$0].prototype._openSetup=function(){var e=this;this.closeAllOthers(),a.$page.data(n$$0.style,a.$page.attr("style")||""),a.$wndw.trigger(i$$0.resize+"-offcanvas",[!0]);var t=[s.opened];this.opts[o$$0].modal&&t.push(s.modal),this.opts[o$$0].moveBackground&&t.push(s.background),"left"!=this.opts[o$$0].position&&t.push(s.mm(this.opts[o$$0].position)),"back"!=this.opts[o$$0].zposition&&t.push(s.mm(this.opts[o$$0].zposition)),this.opts.extensions&&
t.push(this.opts.extensions),a.$html.addClass(t.join(" ")),setTimeout(function(){e.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(s.current+" "+s.opened)},e$$1[t$$0].prototype._openFinish=function(){var e=this;this.__transitionend(a.$page,function(){e.trigger("opened")},this.conf.transitionDuration),a.$html.addClass(s.opening),this.trigger("opening")},e$$1[t$$0].prototype.close=function(){if(this.vars.opened){var e=this;this.__transitionend(a.$page,function(){e.$menu.removeClass(s.current).removeClass(s.opened),
a.$html.removeClass(s.opened).removeClass(s.modal).removeClass(s.background).removeClass(s.mm(e.opts[o$$0].position)).removeClass(s.mm(e.opts[o$$0].zposition)),e.opts.extensions&&a.$html.removeClass(e.opts.extensions),a.$page.attr("style",a.$page.data(n$$0.style)),e.vars.opened=!1,e.trigger("closed")},this.conf.transitionDuration),a.$html.removeClass(s.opening),this.trigger("close"),this.trigger("closing")}},e$$1[t$$0].prototype.closeAllOthers=function(){a.$allMenus.not(this.$menu).each(function(){var o=
e$$1(this).data(t$$0);o&&o.close&&o.close()})},e$$1[t$$0].prototype.setPage=function(t){t&&t.length||(t=e$$1(this.conf[o$$0].pageSelector,a.$body),t.length>1&&(t=t.wrapAll("\x3c"+this.conf[o$$0].pageNodetype+" /\x3e").parent())),t.attr("id",t.attr("id")||this.__getUniqueId()),t.addClass(s.page+" "+s.slideout),a.$page=t,this.trigger("setPage",t)},e$$1[t$$0].prototype["_initWindow_"+o$$0]=function(){a.$wndw.off(i$$0.keydown+"-offcanvas").on(i$$0.keydown+"-offcanvas",function(e){return a.$html.hasClass(s.opened)&&
9==e.keyCode?(e.preventDefault(),!1):void 0});var e$$0=0;a.$wndw.off(i$$0.resize+"-offcanvas").on(i$$0.resize+"-offcanvas",function(t,o){if(o||a.$html.hasClass(s.opened)){var n=a.$wndw.height();(o||n!=e$$0)&&(e$$0=n,a.$page.css("minHeight",n))}})},e$$1[t$$0].prototype._initBlocker=function(){var t=this;a.$blck||(a.$blck=e$$1('\x3cdiv id\x3d"'+s.blocker+'" class\x3d"'+s.slideout+'" /\x3e')),a.$blck.appendTo(a.$body).off(i$$0.touchstart+"-offcanvas "+i$$0.touchmove+"-offcanvas").on(i$$0.touchstart+
"-offcanvas "+i$$0.touchmove+"-offcanvas",function(e){e.preventDefault(),e.stopPropagation(),a.$blck.trigger(i$$0.mousedown+"-offcanvas")}).off(i$$0.mousedown+"-offcanvas").on(i$$0.mousedown+"-offcanvas",function(e){e.preventDefault(),a.$html.hasClass(s.modal)||(t.closeAllOthers(),t.close())})};var s;var n$$0;var i$$0;var a}(jQuery);
!function(t$$0){var e$$0="mmenu";var i="autoHeight";t$$0[e$$0].addons[i]={setup:function(){if(this.opts.offCanvas){switch(this.opts.offCanvas.position){case "left":case "right":return}var n=this;var o=this.opts[i];if(this.conf[i],h=t$$0[e$$0].glbl,"boolean"==typeof o&&o&&(o={height:"auto"}),"object"!=typeof o&&(o={}),o=this.opts[i]=t$$0.extend(!0,{},t$$0[e$$0].defaults[i],o),"auto"==o.height){this.$menu.addClass(s.autoheight);var u=function(t){var e=this.$menu.children("."+s.current);_top=parseInt(e.css("top"),
10)||0,_bot=parseInt(e.css("bottom"),10)||0,this.$menu.addClass(s.measureheight),t=t||this.$menu.children("."+s.current),t.is("."+s.vertical)&&(t=t.parents("."+s.panel).not("."+s.vertical).first()),this.$menu.height(t.outerHeight()+_top+_bot).removeClass(s.measureheight)};this.bind("update",u),this.bind("openPanel",u),this.bind("closePanel",u),this.bind("open",u),h.$wndw.off(a.resize+"-autoheight").on(a.resize+"-autoheight",function(){u.call(n)})}}},add:function(){s=t$$0[e$$0]._c,n$$0=t$$0[e$$0]._d,
a=t$$0[e$$0]._e,s.add("autoheight measureheight"),a.add("resize")},clickAnchor:function(){}},t$$0[e$$0].defaults[i]={height:"default"};var s;var n$$0;var a;var h}(jQuery);
!function(o$$0){var t="mmenu";var n="backButton";o$$0[t].addons[n]={setup:function(){if(this.opts.offCanvas){var i=this;var e=this.opts[n];if(this.conf[n],a=o$$0[t].glbl,"boolean"==typeof e&&(e={close:e}),"object"!=typeof e&&(e={}),e=o$$0.extend(!0,{},o$$0[t].defaults[n],e),e.close){var c="#"+i.$menu.attr("id");this.bind("opened",function(){location.hash!=c&&history.pushState(null,document.title,c)}),o$$0(window).on("popstate",function(o){a.$html.hasClass(s.opened)?(o.stopPropagation(),i.close()):
location.hash==c&&(o.stopPropagation(),i.open())})}}},add:function(){return window.history&&window.history.pushState?(s=o$$0[t]._c,i$$0=o$$0[t]._d,e$$0=o$$0[t]._e,void 0):(o$$0[t].addons[n].setup=function(){},void 0)},clickAnchor:function(){}},o$$0[t].defaults[n]={close:!1};var s;var i$$0;var e$$0;var a}(jQuery);
!function(t){var n$$2="mmenu";var i$$0="buttonbars";t[n$$2].addons[i$$0]={setup:function(){this.opts[i$$0],this.conf[i$$0],s=t[n$$2].glbl,this.bind("init",function(n$$1){this.__refactorClass(t("div",n$$1),this.conf.classNames[i$$0].buttonbar,"buttonbar"),t("."+a$$0.buttonbar,n$$1).each(function(){var n$$0=t(this);var i=n$$0.children().not("input");var o=n$$0.children().filter("input");n$$0.addClass(a$$0.buttonbar+"-"+i.length),o.each(function(){var n=t(this);var a=i.filter('label[for\x3d"'+n.attr("id")+
'"]');a.length&&n.insertBefore(a)})})})},add:function(){a$$0=t[n$$2]._c,o$$0=t[n$$2]._d,r=t[n$$2]._e,a$$0.add("buttonbar")},clickAnchor:function(){}},t[n$$2].configuration.classNames[i$$0]={buttonbar:"Buttonbar"};var a$$0;var o$$0;var r;var s}(jQuery);
!function(t){var n$$1="mmenu";var e$$0="counters";t[n$$1].addons[e$$0]={setup:function(){var c=this;var o=this.opts[e$$0];this.conf[e$$0],s$$0=t[n$$1].glbl,"boolean"==typeof o&&(o={add:o,update:o}),"object"!=typeof o&&(o={}),o=this.opts[e$$0]=t.extend(!0,{},t[n$$1].defaults[e$$0],o),this.bind("init",function(n){this.__refactorClass(t("em",n),this.conf.classNames[e$$0].counter,"counter")}),o.add&&this.bind("init",function(n$$0){n$$0.each(function(){var n=t(this).data(a.parent);n&&(n.children("em."+
i.counter).length||n.prepend(t('\x3cem class\x3d"'+i.counter+'" /\x3e')))})}),o.update&&this.bind("update",function(){this.$menu.find("."+i.panel).each(function(){var n=t(this);var e=n.data(a.parent);if(e){var s=e.children("em."+i.counter);s.length&&(n=n.children("."+i.listview),n.length&&s.html(c.__filterListItems(n.children()).length))}})})},add:function(){i=t[n$$1]._c,a=t[n$$1]._d,c$$0=t[n$$1]._e,i.add("counter search noresultsmsg")},clickAnchor:function(){}},t[n$$1].defaults[e$$0]={add:!1,update:!1},
t[n$$1].configuration.classNames[e$$0]={counter:"Counter"};var i;var a;var c$$0;var s$$0}(jQuery);
!function(i$$0){var e$$1="mmenu";var s$$1="dividers";i$$0[e$$1].addons[s$$1]={setup:function(){var n$$0=this;var a=this.opts[s$$1];if(this.conf[s$$1],l=i$$0[e$$1].glbl,"boolean"==typeof a&&(a={add:a,fixed:a}),"object"!=typeof a&&(a={}),a=this.opts[s$$1]=i$$0.extend(!0,{},i$$0[e$$1].defaults[s$$1],a),this.bind("init",function(){this.__refactorClass(i$$0("li",this.$menu),this.conf.classNames[s$$1].collapsed,"collapsed")}),a.add&&this.bind("init",function(e$$0){switch(a.addTo){case "panels":var s$$0=
e$$0;break;default:s$$0=i$$0(a.addTo,this.$menu).filter("."+d.panel)}i$$0("."+d.divider,s$$0).remove(),s$$0.find("."+d.listview).not("."+d.vertical).each(function(){var e="";n$$0.__filterListItems(i$$0(this).children()).each(function(){var s=i$$0.trim(i$$0(this).children("a, span").text()).slice(0,1).toLowerCase();s!=e&&s.length&&(e=s,i$$0('\x3cli class\x3d"'+d.divider+'"\x3e'+s+"\x3c/li\x3e").insertBefore(this))})})}),a.collapse&&this.bind("init",function(e$$0){i$$0("."+d.divider,e$$0).each(function(){var e=
i$$0(this);var s=e.nextUntil("."+d.divider,"."+d.collapsed);s.length&&(e.children("."+d.subopen).length||(e.wrapInner("\x3cspan /\x3e"),e.prepend('\x3ca href\x3d"#" class\x3d"'+d.subopen+" "+d.fullsubopen+'" /\x3e')))})}),a.fixed){var o=function(e){e=e||this.$menu.children("."+d.current);var s=e.find("."+d.divider).not("."+d.hidden);if(s.length){this.$menu.addClass(d.hasdividers);var n=e.scrollTop()||0;var t="";e.is(":visible")&&e.find("."+d.divider).not("."+d.hidden).each(function(){i$$0(this).position().top+
n<n+1&&(t=i$$0(this).text())}),this.$fixeddivider.text(t)}else this.$menu.removeClass(d.hasdividers)};this.$fixeddivider=i$$0('\x3cul class\x3d"'+d.listview+" "+d.fixeddivider+'"\x3e\x3cli class\x3d"'+d.divider+'"\x3e\x3c/li\x3e\x3c/ul\x3e').prependTo(this.$menu).children(),this.bind("openPanel",o),this.bind("init",function(e){e.off(t$$0.scroll+"-dividers "+t$$0.touchmove+"-dividers").on(t$$0.scroll+"-dividers "+t$$0.touchmove+"-dividers",function(){o.call(n$$0,i$$0(this))})})}},add:function(){d=
i$$0[e$$1]._c,n$$1=i$$0[e$$1]._d,t$$0=i$$0[e$$1]._e,d.add("collapsed uncollapsed fixeddivider hasdividers"),t$$0.add("scroll")},clickAnchor:function(i,e){if(this.opts[s$$1].collapse&&e){var n=i.parent();if(n.is("."+d.divider)){var t=n.nextUntil("."+d.divider,"."+d.collapsed);return n.toggleClass(d.opened),t[n.hasClass(d.opened)?"addClass":"removeClass"](d.uncollapsed),!0}}return!1}},i$$0[e$$1].defaults[s$$1]={add:!1,addTo:"panels",fixed:!1,collapse:!1},i$$0[e$$1].configuration.classNames[s$$1]={collapsed:"Collapsed"};
var d;var n$$1;var t$$0;var l}(jQuery);
!function(e$$0){function t$$0(e,t,n){return t>e&&(e=t),e>n&&(e=n),e}var n$$0="mmenu";var o="dragOpen";e$$0[n$$0].addons[o]={setup:function(){if(this.opts.offCanvas){var i=this;var a=this.opts[o];var p=this.conf[o];if(r=e$$0[n$$0].glbl,"boolean"==typeof a&&(a={open:a}),"object"!=typeof a&&(a={}),a=this.opts[o]=e$$0.extend(!0,{},e$$0[n$$0].defaults[o],a),a.open){var d;var f;var c;var u;var h;var l={};var m=0;var g=!1;var v=!1;var w=0;var _=0;switch(this.opts.offCanvas.position){case "left":case "right":l.events="panleft panright",
l.typeLower="x",l.typeUpper="X",v="width";break;case "top":case "bottom":l.events="panup pandown",l.typeLower="y",l.typeUpper="Y",v="height"}switch(this.opts.offCanvas.position){case "right":case "bottom":l.negative=!0,u=function(e){e>=r.$wndw[v]()-a.maxStartPos&&(m=1)};break;default:l.negative=!1,u=function(e){e<=a.maxStartPos&&(m=1)}}switch(this.opts.offCanvas.position){case "left":l.open_dir="right",l.close_dir="left";break;case "right":l.open_dir="left",l.close_dir="right";break;case "top":l.open_dir=
"down",l.close_dir="up";break;case "bottom":l.open_dir="up",l.close_dir="down"}switch(this.opts.offCanvas.zposition){case "front":h=function(){return this.$menu};break;default:h=function(){return e$$0("."+s.slideout)}}var b=this.__valueOrFn(a.pageNode,this.$menu,r.$page);"string"==typeof b&&(b=e$$0(b));var y=new Hammer(b[0],a.vendors.hammer);y.on("panstart",function(e){u(e.center[l.typeLower]),r.$slideOutNodes=h(),g=l.open_dir}).on(l.events+" panend",function(e){m>0&&e.preventDefault()}).on(l.events,
function(e){if(d=e["delta"+l.typeUpper],l.negative&&(d=-d),d!=w&&(g=d>=w?l.open_dir:l.close_dir),w=d,w>a.threshold&&1==m){if(r.$html.hasClass(s.opened))return;m=2,i._openSetup(),i.trigger("opening"),r.$html.addClass(s.dragging),_=t$$0(r.$wndw[v]()*p[v].perc,p[v].min,p[v].max)}2==m&&(f=t$$0(w,10,_)-("front"==i.opts.offCanvas.zposition?_:0),l.negative&&(f=-f),c="translate"+l.typeUpper+"("+f+"px )",r.$slideOutNodes.css({"-webkit-transform":"-webkit-"+c,transform:c}))}).on("panend",function(){2==m&&(r.$html.removeClass(s.dragging),
r.$slideOutNodes.css("transform",""),i[g==l.open_dir?"_openFinish":"close"]()),m=0})}}},add:function(){return"function"!=typeof Hammer||Hammer.VERSION<2?(e$$0[n$$0].addons[o].setup=function(){},void 0):(s=e$$0[n$$0]._c,i$$0=e$$0[n$$0]._d,a$$0=e$$0[n$$0]._e,s.add("dragging"),void 0)},clickAnchor:function(){}},e$$0[n$$0].defaults[o]={open:!1,maxStartPos:100,threshold:50,vendors:{hammer:{}}},e$$0[n$$0].configuration[o]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}};var s;var i$$0;
var a$$0;var r}(jQuery);
!function(i$$0){var s$$0="mmenu";var a="fixedElements";i$$0[s$$0].addons[a]={setup:function(){if(this.opts.offCanvas){this.opts[a],this.conf[a],t=i$$0[s$$0].glbl;var d=function(i){var s=this.conf.classNames[a].fixed;this.__refactorClass(i.find("."+s),s,"fixed").appendTo(t.$body).addClass(n.slideout)};d.call(this,t.$page),this.bind("setPage",d)}},add:function(){n=i$$0[s$$0]._c,d$$0=i$$0[s$$0]._d,e=i$$0[s$$0]._e,n.add("fixed")},clickAnchor:function(){}},i$$0[s$$0].configuration.classNames[a]={fixed:"Fixed"};
var n;var d$$0;var e;var t}(jQuery);
!function(t){var e$$0="mmenu";var o="footer";t[e$$0].addons[o]={setup:function(){var i=this.opts[o];if(this.conf[o],a=t[e$$0].glbl,"boolean"==typeof i&&(i={add:i,update:i}),"object"!=typeof i&&(i={}),i=this.opts[o]=t.extend(!0,{},t[e$$0].defaults[o],i),i.add){var s$$0=i.content?i.content:i.title;t('\x3cdiv class\x3d"'+n.footer+'" /\x3e').appendTo(this.$menu).append(s$$0),this.$menu.addClass(n.hasfooter)}if(this.$footer=this.$menu.children("."+n.footer),i.update&&this.$footer&&this.$footer.length){var d=
function(e){e=e||this.$menu.children("."+n.current);var s=t("."+this.conf.classNames[o].panelFooter,e).html()||i.title;this.$footer[s?"removeClass":"addClass"](n.hidden),this.$footer.html(s)};this.bind("openPanel",d),this.bind("init",function(){d.call(this,this.$menu.children("."+n.current))})}},add:function(){n=t[e$$0]._c,i$$0=t[e$$0]._d,s$$1=t[e$$0]._e,n.add("footer hasfooter")},clickAnchor:function(){}},t[e$$0].defaults[o]={add:!1,content:!1,title:"",update:!1},t[e$$0].configuration.classNames[o]=
{panelFooter:"Footer"};var n;var i$$0;var s$$1;var a}(jQuery);
!function(e$$0){var t$$0="mmenu";var a="header";e$$0[t$$0].addons[a]={setup:function(){var i=this.opts[a];if(this.conf[a],s$$0=e$$0[t$$0].glbl,"boolean"==typeof i&&(i={add:i,update:i}),"object"!=typeof i&&(i={}),"undefined"==typeof i.content&&(i.content=["prev","title","next"]),i=this.opts[a]=e$$0.extend(!0,{},e$$0[t$$0].defaults[a],i),i.add){if(i.content instanceof Array){var d$$0=e$$0("\x3cdiv /\x3e");var h$$0=0;for(var l$$0=i.content.length;l$$0>h$$0;h$$0++)switch(i.content[h$$0]){case "prev":case "next":case "close":d$$0.append('\x3ca class\x3d"'+
n[i.content[h$$0]]+" "+n.btn+'" href\x3d"#"\x3e\x3c/a\x3e');break;case "title":d$$0.append('\x3ca class\x3d"'+n.title+'"\x3e\x3c/a\x3e');break;default:d$$0.append(i.content[h$$0])}d$$0=d$$0.html()}else d$$0=i.content;e$$0('\x3cdiv class\x3d"'+n.header+'" /\x3e').prependTo(this.$menu).append(d$$0),this.$menu.addClass(n.hasheader),this.bind("init",function(e){e.removeClass(n.hasheader)})}if(this.$header=this.$menu.children("."+n.header),i.update&&this.$header&&this.$header.length){var c=this.$header.find("."+
n.title);var o=this.$header.find("."+n.prev);var f=this.$header.find("."+n.next);var p$$0=this.$header.find("."+n.close);var u$$0=function(e){e=e||this.$menu.children("."+n.current);var t=e.find("."+this.conf.classNames[a].panelHeader);var s=e.find("."+this.conf.classNames[a].panelPrev);var d=e.find("."+this.conf.classNames[a].panelNext);var h=e.data(r.parent);var l=t.html();var p=s.attr("href");var u=d.attr("href");var v=!1;var m=s.html();var $=d.html();switch(l||(l=e.children("."+n.header).children("."+
n.title).html()),l||(l=i.title),p||(p=e.children("."+n.header).children("."+n.prev).attr("href")),i.titleLink){case "anchor":v=h?h.children("a").not("."+n.next).attr("href"):!1;break;case "panel":v=p}c[v?"attr":"removeAttr"]("href",v),c[l?"removeClass":"addClass"](n.hidden),c.html(l),o[p?"attr":"removeAttr"]("href",p),o[p||m?"removeClass":"addClass"](n.hidden),o.html(m),f[u?"attr":"removeAttr"]("href",u),f[u||$?"removeClass":"addClass"](n.hidden),f.html($)};if(this.bind("openPanel",u$$0),this.bind("init",
function(){u$$0.call(this,this.$menu.children("."+n.current))}),this.opts.offCanvas){var v$$0=function(e){p$$0.attr("href","#"+e.attr("id"))};v$$0.call(this,s$$0.$page),this.bind("setPage",v$$0)}}},add:function(){n=e$$0[t$$0]._c,r=e$$0[t$$0]._d,i$$0=e$$0[t$$0]._e,n.add("close")},clickAnchor:function(){}},e$$0[t$$0].defaults[a]={add:!1,title:"Menu",titleLink:"panel",update:!1},e$$0[t$$0].configuration.classNames[a]={panelHeader:"Header",panelNext:"Next",panelPrev:"Prev"};var n;var r;var i$$0;var s$$0}(jQuery);
!function(e$$0){function s$$2(e){switch(e){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1}var a$$2="mmenu";var n$$2="searchfield";e$$0[a$$2].addons[n$$2]={setup:function(){var o=this;var d=this.opts[n$$2];var c$$0=this.conf[n$$2];r$$0=e$$0[a$$2].glbl,"boolean"==typeof d&&(d={add:d,search:d}),"object"!=typeof d&&(d={}),d=this.opts[n$$2]=e$$0.extend(!0,{},e$$0[a$$2].defaults[n$$2],d),this.bind("init",function(a$$1){if(d.add){switch(d.addTo){case "menu":var n$$1=this.$menu;
break;case "panels":n$$1=a$$1;break;default:n$$1=e$$0(d.addTo,this.$menu).filter("."+t.panel)}n$$1.each(function(){var s=e$$0(this);if(!s.is("."+t.panel)||!s.is("."+t.vertical)){if(!s.children("."+t.search).length){var a=c$$0.form?"form":"div";var n=e$$0("\x3c"+a+' class\x3d"'+t.search+'" /\x3e');if(c$$0.form&&"object"==typeof c$$0.form)for(var l in c$$0.form)n.attr(l,c$$0.form[l]);n.append('\x3cinput placeholder\x3d"'+d.placeholder+'" type\x3d"text" autocomplete\x3d"off" /\x3e').prependTo(s),s.addClass(t.hassearch)}if(d.noResults&&
(s.is("."+t.menu)&&(s=s.children("."+t.panel).first()),!s.children("."+t.noresultsmsg).length)){var i=s.children("."+t.listview);e$$0('\x3cdiv class\x3d"'+t.noresultsmsg+'" /\x3e').append(d.noResults)[i.length?"insertBefore":"prependTo"](i.length?i:s)}}})}d.search&&e$$0("."+t.search,this.$menu).each(function(){var a$$0=e$$0(this);if("menu"==d.addTo){var n$$0=e$$0("."+t.panel,o.$menu);var r=o.$menu}else{n$$0=a$$0.closest("."+t.panel);r=n$$0}var c=a$$0.children("input");var h=o.__findAddBack(n$$0,"."+
t.listview).children("li");var u=h.filter("."+t.divider);var f=o.__filterListItems(h);var p="\x3e a";var v=p+", \x3e span";var m=function(){var s$$1=c.val().toLowerCase();n$$0.scrollTop(0),f.add(u).addClass(t.hidden).find("."+t.fullsubopensearch).removeClass(t.fullsubopen).removeClass(t.fullsubopensearch),f.each(function(){var a=e$$0(this);var n=p;(d.showTextItems||d.showSubPanels&&a.find("."+t.next))&&(n=v),e$$0(n,a).text().toLowerCase().indexOf(s$$1)>-1&&a.add(a.prevAll("."+t.divider).first()).removeClass(t.hidden)}),
d.showSubPanels&&n$$0.each(function(){var s$$0=e$$0(this);o.__filterListItems(s$$0.find("."+t.listview).children()).each(function(){var s=e$$0(this);var a=s.data(l$$0.sub);s.removeClass(t.nosubresults),a&&a.find("."+t.listview).children().removeClass(t.hidden)})}),e$$0(n$$0.get().reverse()).each(function(s){var a=e$$0(this);var n=a.data(l$$0.parent);n&&(o.__filterListItems(a.find("."+t.listview).children()).length?(n.hasClass(t.hidden)&&n.children("."+t.next).not("."+t.fullsubopen).addClass(t.fullsubopen).addClass(t.fullsubopensearch),
n.removeClass(t.hidden).removeClass(t.nosubresults).prevAll("."+t.divider).first().removeClass(t.hidden)):"menu"==d.addTo&&(a.hasClass(t.opened)&&setTimeout(function(){o.openPanel(n.closest("."+t.panel))},1.5*(s+1)*o.conf.openingInterval),n.addClass(t.nosubresults)))}),r[f.not("."+t.hidden).length?"removeClass":"addClass"](t.noresults),this.update()};c.off(i$$0.keyup+"-searchfield "+i$$0.change+"-searchfield").on(i$$0.keyup+"-searchfield",function(e){s$$2(e.keyCode)||m.call(o)}).on(i$$0.change+"-searchfield",
function(){m.call(o)})})})},add:function(){t=e$$0[a$$2]._c,l$$0=e$$0[a$$2]._d,i$$0=e$$0[a$$2]._e,t.add("search hassearch noresultsmsg noresults nosubresults fullsubopensearch"),i$$0.add("change keyup")},clickAnchor:function(){}},e$$0[a$$2].defaults[n$$2]={add:!1,addTo:"menu",search:!1,placeholder:"Search",noResults:"No results found.",showTextItems:!1,showSubPanels:!0},e$$0[a$$2].configuration[n$$2]={form:!1};var t;var l$$0;var i$$0;var r$$0}(jQuery);
!function(e$$0){var a$$1="mmenu";var r$$1="sectionIndexer";e$$0[a$$1].addons[r$$1]={setup:function(){var n=this;var s$$0=this.opts[r$$1];this.conf[r$$1],d$$1=e$$0[a$$1].glbl,"boolean"==typeof s$$0&&(s$$0={add:s$$0}),"object"!=typeof s$$0&&(s$$0={}),s$$0=this.opts[r$$1]=e$$0.extend(!0,{},e$$0[a$$1].defaults[r$$1],s$$0),this.bind("init",function(a$$0){if(s$$0.add){switch(s$$0.addTo){case "panels":var r$$0=a$$0;break;default:r$$0=e$$0(s$$0.addTo,this.$menu).filter("."+i.panel)}r$$0.find("."+i.divider).closest("."+
i.panel).addClass(i.hasindexer)}if(!this.$indexer&&this.$menu.children("."+i.hasindexer).length){this.$indexer=e$$0('\x3cdiv class\x3d"'+i.indexer+'" /\x3e').prependTo(this.$menu).append('\x3ca href\x3d"#a"\x3ea\x3c/a\x3e\x3ca href\x3d"#b"\x3eb\x3c/a\x3e\x3ca href\x3d"#c"\x3ec\x3c/a\x3e\x3ca href\x3d"#d"\x3ed\x3c/a\x3e\x3ca href\x3d"#e"\x3ee\x3c/a\x3e\x3ca href\x3d"#f"\x3ef\x3c/a\x3e\x3ca href\x3d"#g"\x3eg\x3c/a\x3e\x3ca href\x3d"#h"\x3eh\x3c/a\x3e\x3ca href\x3d"#i"\x3ei\x3c/a\x3e\x3ca href\x3d"#j"\x3ej\x3c/a\x3e\x3ca href\x3d"#k"\x3ek\x3c/a\x3e\x3ca href\x3d"#l"\x3el\x3c/a\x3e\x3ca href\x3d"#m"\x3em\x3c/a\x3e\x3ca href\x3d"#n"\x3en\x3c/a\x3e\x3ca href\x3d"#o"\x3eo\x3c/a\x3e\x3ca href\x3d"#p"\x3ep\x3c/a\x3e\x3ca href\x3d"#q"\x3eq\x3c/a\x3e\x3ca href\x3d"#r"\x3er\x3c/a\x3e\x3ca href\x3d"#s"\x3es\x3c/a\x3e\x3ca href\x3d"#t"\x3et\x3c/a\x3e\x3ca href\x3d"#u"\x3eu\x3c/a\x3e\x3ca href\x3d"#v"\x3ev\x3c/a\x3e\x3ca href\x3d"#w"\x3ew\x3c/a\x3e\x3ca href\x3d"#x"\x3ex\x3c/a\x3e\x3ca href\x3d"#y"\x3ey\x3c/a\x3e\x3ca href\x3d"#z"\x3ez\x3c/a\x3e\x3ca href\x3d"##"\x3e#\x3c/a\x3e'),
this.$indexer.children().on(h$$0.mouseover+"-searchfield "+i.touchmove+"-searchfield",function(){var a=e$$0(this).attr("href").slice(1);var r=n.$menu.children("."+i.current);var h=r.find("."+i.listview);var d=!1;var s=r.scrollTop();var t=h.position().top+parseInt(h.css("margin-top"),10)+parseInt(h.css("padding-top"),10)+s;r.scrollTop(0),h.children("."+i.divider).not("."+i.hidden).each(function(){d===!1&&a==e$$0(this).text().slice(0,1).toLowerCase()&&(d=e$$0(this).position().top+t)}),r.scrollTop(d!==
!1?d:s)});var d$$0=function(e){n.$menu[(e.hasClass(i.hasindexer)?"add":"remove")+"Class"](i.hasindexer)};this.bind("openPanel",d$$0),d$$0.call(this,this.$menu.children("."+i.current))}})},add:function(){i=e$$0[a$$1]._c,n$$0=e$$0[a$$1]._d,h$$0=e$$0[a$$1]._e,i.add("indexer hasindexer"),h$$0.add("mouseover touchmove")},clickAnchor:function(e){return e.parent().is("."+i.indexer)?!0:void 0}},e$$0[a$$1].defaults[r$$1]={add:!1,addTo:"panels"};var i;var n$$0;var h$$0;var d$$1}(jQuery);
!function(t){var e$$1="mmenu";var c$$0="toggles";t[e$$1].addons[c$$0]={setup:function(){var n=this;this.opts[c$$0],this.conf[c$$0],l$$0=t[e$$1].glbl,this.bind("init",function(e$$0){this.__refactorClass(t("input",e$$0),this.conf.classNames[c$$0].toggle,"toggle"),this.__refactorClass(t("input",e$$0),this.conf.classNames[c$$0].check,"check"),t("input."+s.toggle+", input."+s.check,e$$0).each(function(){var e=t(this);var c=e.closest("li");var i=e.hasClass(s.toggle)?"toggle":"check";var l=e.attr("id")||
n.__getUniqueId();c.children('label[for\x3d"'+l+'"]').length||(e.attr("id",l),c.prepend(e),t('\x3clabel for\x3d"'+l+'" class\x3d"'+s[i]+'"\x3e\x3c/label\x3e').insertBefore(c.children("a, span").last()))})})},add:function(){s=t[e$$1]._c,n$$0=t[e$$1]._d,i$$0=t[e$$1]._e,s.add("toggle check")},clickAnchor:function(){}},t[e$$1].configuration.classNames[c$$0]={toggle:"Toggle",check:"Check"};var s;var n$$0;var i$$0;var l$$0}(jQuery);
(function(window){var ua=navigator.userAgent;if(window.HTMLPictureElement&&(/ecko/.test(ua)&&ua.match(/rv\:(\d+)/)&&RegExp.$1<45))addEventListener("resize",function(){var timer;var dummySrc=document.createElement("source");var fixRespimg=function(img){var source;var sizes;var picture=img.parentNode;if(picture.nodeName.toUpperCase()==="PICTURE"){source=dummySrc.cloneNode();picture.insertBefore(source,picture.firstElementChild);setTimeout(function(){picture.removeChild(source)})}else if(!img._pfLastSize||
img.offsetWidth>img._pfLastSize){img._pfLastSize=img.offsetWidth;sizes=img.sizes;img.sizes+=",100vw";setTimeout(function(){img.sizes=sizes})}};var findPictureImgs=function(){var i;var imgs=document.querySelectorAll("picture \x3e img, img[srcset][sizes]");for(i=0;i<imgs.length;i++)fixRespimg(imgs[i])};var onResize=function(){clearTimeout(timer);timer=setTimeout(findPictureImgs,99)};var mq=window.matchMedia&&matchMedia("(orientation: landscape)");var init=function(){onResize();if(mq&&mq.addListener)mq.addListener(onResize)};
dummySrc.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";if(/^[c|i]|d$/.test(document.readyState||""))init();else document.addEventListener("DOMContentLoaded",init);return onResize}())})(window);
(function(window,document,undefined){function isSpace(c){return c===" "||c==="\t"||c==="\n"||c==="\f"||c==="\r"}function detectTypeSupport(type,typeUri){var image=new window.Image;image.onerror=function(){types[type]=false;picturefill()};image.onload=function(){types[type]=image.width===1;picturefill()};image.src=typeUri;return"pending"}function updateMetrics(){isVwDirty=false;DPR=window.devicePixelRatio;cssCache={};sizeLengthCache={};pf.DPR=DPR||1;units.width=Math.max(window.innerWidth||0,docElem.clientWidth);
units.height=Math.max(window.innerHeight||0,docElem.clientHeight);units.vw=units.width/100;units.vh=units.height/100;evalId=[units.height,units.width,DPR].join("-");units.em=pf.getEmValue();units.rem=units.em}function chooseLowRes(lowerValue,higherValue,dprValue,isCached){var bonusFactor;var tooMuch;var bonus;var meanDensity;if(cfg.algorithm==="saveData")if(lowerValue>2.7)meanDensity=dprValue+1;else{tooMuch=higherValue-dprValue;bonusFactor=Math.pow(lowerValue-.6,1.5);bonus=tooMuch*bonusFactor;if(isCached)bonus+=
.1*bonusFactor;meanDensity=lowerValue+bonus}else meanDensity=dprValue>1?Math.sqrt(lowerValue*higherValue):lowerValue;return meanDensity>dprValue}function applyBestCandidate(img){var srcSetCandidates;var matchingSet=pf.getSet(img);var evaluated=false;if(matchingSet!=="pending"){evaluated=evalId;if(matchingSet){srcSetCandidates=pf.setRes(matchingSet);pf.applySetCandidate(srcSetCandidates,img)}}img[pf.ns].evaled=evaluated}function ascendingSort(a,b){return a.res-b.res}function setSrcToCur(img,src,set){var candidate;
if(!set&&src){set=img[pf.ns].sets;set=set&&set[set.length-1]}candidate=getCandidateForSrc(src,set);if(candidate){src=pf.makeUrl(src);img[pf.ns].curSrc=src;img[pf.ns].curCan=candidate;if(!candidate.res)setResolution(candidate,candidate.set.sizes)}return candidate}function getCandidateForSrc(src,set){var i;var candidate;var candidates;if(src&&set){candidates=pf.parseSet(set);src=pf.makeUrl(src);for(i=0;i<candidates.length;i++)if(src===pf.makeUrl(candidates[i].url)){candidate=candidates[i];break}}return candidate}
function getAllSourceElements(picture,candidates){var i;var len;var source;var srcset;var sources=picture.getElementsByTagName("source");for(i=0,len=sources.length;i<len;i++){source=sources[i];source[pf.ns]=true;srcset=source.getAttribute("srcset");if(srcset)candidates.push({srcset:srcset,media:source.getAttribute("media"),type:source.getAttribute("type"),sizes:source.getAttribute("sizes")})}}function parseSrcset(input,set){function collectCharacters(regEx){var chars;var match=regEx.exec(input.substring(pos));
if(match){chars=match[0];pos+=chars.length;return chars}}function parseDescriptors(){var pError=false;var w;var d;var h;var i;var candidate={};var desc;var lastChar;var value;var intVal;var floatVal;for(i=0;i<descriptors.length;i++){desc=descriptors[i];lastChar=desc[desc.length-1];value=desc.substring(0,desc.length-1);intVal=parseInt(value,10);floatVal=parseFloat(value);if(regexNonNegativeInteger.test(value)&&lastChar==="w"){if(w||d)pError=true;if(intVal===0)pError=true;else w=intVal}else if(regexFloatingPoint.test(value)&&
lastChar==="x"){if(w||d||h)pError=true;if(floatVal<0)pError=true;else d=floatVal}else if(regexNonNegativeInteger.test(value)&&lastChar==="h"){if(h||d)pError=true;if(intVal===0)pError=true;else h=intVal}else pError=true}if(!pError){candidate.url=url;if(w)candidate.w=w;if(d)candidate.d=d;if(h)candidate.h=h;if(!h&&!d&&!w)candidate.d=1;if(candidate.d===1)set.has1x=true;candidate.set=set;candidates.push(candidate)}}function tokenize(){collectCharacters(regexLeadingSpaces);currentDescriptor="";for(state=
"in descriptor";true;){c=input.charAt(pos);if(state==="in descriptor")if(isSpace(c)){if(currentDescriptor){descriptors.push(currentDescriptor);currentDescriptor="";state="after descriptor"}}else if(c===","){pos+=1;if(currentDescriptor)descriptors.push(currentDescriptor);parseDescriptors();return}else if(c==="("){currentDescriptor=currentDescriptor+c;state="in parens"}else if(c===""){if(currentDescriptor)descriptors.push(currentDescriptor);parseDescriptors();return}else currentDescriptor=currentDescriptor+
c;else if(state==="in parens")if(c===")"){currentDescriptor=currentDescriptor+c;state="in descriptor"}else if(c===""){descriptors.push(currentDescriptor);parseDescriptors();return}else currentDescriptor=currentDescriptor+c;else if(state==="after descriptor")if(isSpace(c));else if(c===""){parseDescriptors();return}else{state="in descriptor";pos-=1}pos+=1}}var inputLength=input.length;var url;var descriptors;var currentDescriptor;var state;var c;var pos=0;for(var candidates=[];true;){collectCharacters(regexLeadingCommasOrSpaces);
if(pos>=inputLength)return candidates;url=collectCharacters(regexLeadingNotSpaces);descriptors=[];if(url.slice(-1)===","){url=url.replace(regexTrailingCommas,"");parseDescriptors()}else tokenize()}}function parseSizes(strValue){function parseComponentValues(str){function pushComponent(){if(component){componentArray.push(component);component=""}}function pushComponentArray(){if(componentArray[0]){listArray.push(componentArray);componentArray=[]}}var chrctr;var component="";var componentArray=[];var listArray=
[];var parenDepth=0;var pos=0;for(var inComment=false;true;){chrctr=str.charAt(pos);if(chrctr===""){pushComponent();pushComponentArray();return listArray}else if(inComment)if(chrctr==="*"&&str[pos+1]==="/"){inComment=false;pos+=2;pushComponent();continue}else{pos+=1;continue}else if(isSpace(chrctr))if(str.charAt(pos-1)&&isSpace(str.charAt(pos-1))||!component){pos+=1;continue}else if(parenDepth===0){pushComponent();pos+=1;continue}else chrctr=" ";else if(chrctr==="(")parenDepth+=1;else if(chrctr===
")")parenDepth-=1;else if(chrctr===","){pushComponent();pushComponentArray();pos+=1;continue}else if(chrctr==="/"&&str.charAt(pos+1)==="*"){inComment=true;pos+=2;continue}component=component+chrctr;pos+=1}}function isValidNonNegativeSourceSizeValue(s){if(regexCssLengthWithUnits.test(s)&&parseFloat(s)>=0)return true;if(regexCssCalc.test(s))return true;if(s==="0"||s==="-0"||s==="+0")return true;return false}var regexCssLengthWithUnits=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;
var regexCssCalc=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;var i;var unparsedSizesList;var unparsedSizesListLength;var unparsedSize;var lastComponentValue;var size;unparsedSizesList=parseComponentValues(strValue);unparsedSizesListLength=unparsedSizesList.length;for(i=0;i<unparsedSizesListLength;i++){unparsedSize=unparsedSizesList[i];lastComponentValue=unparsedSize[unparsedSize.length-1];if(isValidNonNegativeSourceSizeValue(lastComponentValue)){size=lastComponentValue;unparsedSize.pop()}else continue;
if(unparsedSize.length===0)return size;unparsedSize=unparsedSize.join(" ");if(!pf.matchesMedia(unparsedSize))continue;return size}return"100vw"}document.createElement("picture");var warn;var eminpx;var alwaysCheckWDescriptor;var evalId;var pf={};var isSupportTestReady=false;var noop=function(){};var image$$0=document.createElement("img");var getImgAttr=image$$0.getAttribute;var setImgAttr=image$$0.setAttribute;var removeImgAttr=image$$0.removeAttribute;var docElem=document.documentElement;var types=
{};var cfg={algorithm:""};var srcAttr="data-pfsrc";var srcsetAttr=srcAttr+"set";var ua=navigator.userAgent;var supportAbort=/rident/.test(ua)||/ecko/.test(ua)&&ua.match(/rv\:(\d+)/)&&RegExp.$1>35;var curSrcProp="currentSrc";var regWDesc=/\s+\+?\d+(e\d+)?w/;var regSize=/(\([^)]+\))?\s*(.+)/;var setOptions=window.picturefillCFG;var baseStyle="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)";var fsCss=
"font-size:100%!important;";var isVwDirty=true;var cssCache={};var sizeLengthCache={};var DPR=window.devicePixelRatio;var units={px:1,"in":96};var anchor=document.createElement("a");var alreadyRun=false;var regexLeadingSpaces=/^[ \t\n\r\u000c]+/;var regexLeadingCommasOrSpaces=/^[, \t\n\r\u000c]+/;var regexLeadingNotSpaces=/^[^ \t\n\r\u000c]+/;var regexTrailingCommas=/[,]+$/;var regexNonNegativeInteger=/^\d+$/;var regexFloatingPoint=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;var on=function(obj,
evt,fn,capture){if(obj.addEventListener)obj.addEventListener(evt,fn,capture||false);else if(obj.attachEvent)obj.attachEvent("on"+evt,fn)};var memoize=function(fn){var cache={};return function(input){if(!(input in cache))cache[input]=fn(input);return cache[input]}};var evalCSS=function(){var regLength=/^([\d\.]+)(em|vw|px)$/;var replace=function(){var args=arguments;var index=0;for(var string=args[0];++index in args;)string=string.replace(args[index],args[++index]);return string};var buildStr=memoize(function(css){return"return "+
replace((css||"").toLowerCase(),/\band\b/g,"\x26\x26",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1\x3e\x3d",/max-([a-z-\s]+):/g,"e.$1\x3c\x3d",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/ig,"")+";"});return function(css,length){var parsedLength;if(!(css in cssCache)){cssCache[css]=false;if(length&&(parsedLength=css.match(regLength)))cssCache[css]=parsedLength[1]*units[parsedLength[2]];else try{cssCache[css]=(new Function("e",buildStr(css)))(units)}catch(e){}}return cssCache[css]}}();
var setResolution=function(candidate,sizesattr){if(candidate.w){candidate.cWidth=pf.calcListLength(sizesattr||"100vw");candidate.res=candidate.w/candidate.cWidth}else candidate.res=candidate.d;return candidate};var picturefill=function(opt){if(!isSupportTestReady)return;var elements;var i;var plen;var options=opt||{};if(options.elements&&options.elements.nodeType===1)if(options.elements.nodeName.toUpperCase()==="IMG")options.elements=[options.elements];else{options.context=options.elements;options.elements=
null}elements=options.elements||pf.qsa(options.context||document,options.reevaluate||options.reselect?pf.sel:pf.selShort);if(plen=elements.length){pf.setupRun(options);alreadyRun=true;for(i=0;i<plen;i++)pf.fillImg(elements[i],options);pf.teardownRun(options)}};warn=window.console&&console.warn?function(message){console.warn(message)}:noop;if(!(curSrcProp in image$$0))curSrcProp="src";types["image/jpeg"]=true;types["image/gif"]=true;types["image/png"]=true;types["image/svg+xml"]=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image",
"1.1");pf.ns=("pf"+(new Date).getTime()).substr(0,9);pf.supSrcset="srcset"in image$$0;pf.supSizes="sizes"in image$$0;pf.supPicture=!!window.HTMLPictureElement;if(pf.supSrcset&&pf.supPicture&&!pf.supSizes)(function(image2){image$$0.srcset="data:,a";image2.src="data:,a";pf.supSrcset=image$$0.complete===image2.complete;pf.supPicture=pf.supSrcset&&pf.supPicture})(document.createElement("img"));if(pf.supSrcset&&!pf.supSizes)(function(){var width2="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw\x3d\x3d";
var width1="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";var img=document.createElement("img");var test=function(){var width=img.width;if(width===2)pf.supSizes=true;alwaysCheckWDescriptor=pf.supSrcset&&!pf.supSizes;isSupportTestReady=true;setTimeout(picturefill)};img.onload=test;img.onerror=test;img.setAttribute("sizes","9px");img.srcset=width1+" 1w,"+width2+" 9w";img.src=width1})();else isSupportTestReady=true;pf.selShort="picture\x3eimg,img[srcset]";pf.sel=pf.selShort;
pf.cfg=cfg;pf.DPR=DPR||1;pf.u=units;pf.types=types;pf.setSize=noop;pf.makeUrl=memoize(function(src){anchor.href=src;return anchor.href});pf.qsa=function(context,sel){return"querySelector"in context?context.querySelectorAll(sel):[]};pf.matchesMedia=function(){if(window.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches)pf.matchesMedia=function(media){return!media||matchMedia(media).matches};else pf.matchesMedia=pf.mMQ;return pf.matchesMedia.apply(this,arguments)};pf.mMQ=function(media){return media?
evalCSS(media):true};pf.calcLength=function(sourceSizeValue){var value=evalCSS(sourceSizeValue,true)||false;if(value<0)value=false;return value};pf.supportsType=function(type){return type?types[type]:true};pf.parseSize=memoize(function(sourceSizeStr){var match=(sourceSizeStr||"").match(regSize);return{media:match&&match[1],length:match&&match[2]}});pf.parseSet=function(set){if(!set.cands)set.cands=parseSrcset(set.srcset,set);return set.cands};pf.getEmValue=function(){var body;if(!eminpx&&(body=document.body)){var div=
document.createElement("div");var originalHTMLCSS=docElem.style.cssText;var originalBodyCSS=body.style.cssText;div.style.cssText=baseStyle;docElem.style.cssText=fsCss;body.style.cssText=fsCss;body.appendChild(div);eminpx=div.offsetWidth;body.removeChild(div);eminpx=parseFloat(eminpx,10);docElem.style.cssText=originalHTMLCSS;body.style.cssText=originalBodyCSS}return eminpx||16};pf.calcListLength=function(sourceSizeListStr){if(!(sourceSizeListStr in sizeLengthCache)||cfg.uT){var winningLength=pf.calcLength(parseSizes(sourceSizeListStr));
sizeLengthCache[sourceSizeListStr]=!winningLength?units.width:winningLength}return sizeLengthCache[sourceSizeListStr]};pf.setRes=function(set){var candidates;if(set){candidates=pf.parseSet(set);var i=0;for(var len=candidates.length;i<len;i++)setResolution(candidates[i],set.sizes)}return candidates};pf.setRes.res=setResolution;pf.applySetCandidate=function(candidates,img){if(!candidates.length)return;var candidate;var i;var j;var length;var bestCandidate;var curSrc;var curCan;var candidateSrc;var abortCurSrc;
var imageData=img[pf.ns];var dpr=pf.DPR;curSrc=imageData.curSrc||img[curSrcProp];curCan=imageData.curCan||setSrcToCur(img,curSrc,candidates[0].set);if(curCan&&curCan.set===candidates[0].set){abortCurSrc=supportAbort&&!img.complete&&curCan.res-.1>dpr;if(!abortCurSrc){curCan.cached=true;if(curCan.res>=dpr)bestCandidate=curCan}}if(!bestCandidate){candidates.sort(ascendingSort);length=candidates.length;bestCandidate=candidates[length-1];for(i=0;i<length;i++){candidate=candidates[i];if(candidate.res>=
dpr){j=i-1;if(candidates[j]&&(abortCurSrc||curSrc!==pf.makeUrl(candidate.url))&&chooseLowRes(candidates[j].res,candidate.res,dpr,candidates[j].cached))bestCandidate=candidates[j];else bestCandidate=candidate;break}}}if(bestCandidate){candidateSrc=pf.makeUrl(bestCandidate.url);imageData.curSrc=candidateSrc;imageData.curCan=bestCandidate;if(candidateSrc!==curSrc)pf.setSrc(img,bestCandidate);pf.setSize(img)}};pf.setSrc=function(img,bestCandidate){var origWidth;img.src=bestCandidate.url;if(bestCandidate.set.type===
"image/svg+xml"){origWidth=img.style.width;img.style.width=img.offsetWidth+1+"px";if(img.offsetWidth+1)img.style.width=origWidth}};pf.getSet=function(img){var i;var set;var supportsType;var match=false;var sets=img[pf.ns].sets;for(i=0;i<sets.length&&!match;i++){set=sets[i];if(!set.srcset||!pf.matchesMedia(set.media)||!(supportsType=pf.supportsType(set.type)))continue;if(supportsType==="pending")set=supportsType;match=set;break}return match};pf.parseSets=function(element,parent,options){var srcsetAttribute;
var imageSet;var isWDescripor;var srcsetParsed;var hasPicture=parent&&parent.nodeName.toUpperCase()==="PICTURE";var imageData=element[pf.ns];if(imageData.src===undefined||options.src){imageData.src=getImgAttr.call(element,"src");if(imageData.src)setImgAttr.call(element,srcAttr,imageData.src);else removeImgAttr.call(element,srcAttr)}if(imageData.srcset===undefined||options.srcset||!pf.supSrcset||element.srcset){srcsetAttribute=getImgAttr.call(element,"srcset");imageData.srcset=srcsetAttribute;srcsetParsed=
true}imageData.sets=[];if(hasPicture){imageData.pic=true;getAllSourceElements(parent,imageData.sets)}if(imageData.srcset){imageSet={srcset:imageData.srcset,sizes:getImgAttr.call(element,"sizes")};imageData.sets.push(imageSet);isWDescripor=(alwaysCheckWDescriptor||imageData.src)&&regWDesc.test(imageData.srcset||"");if(!isWDescripor&&imageData.src&&!getCandidateForSrc(imageData.src,imageSet)&&!imageSet.has1x){imageSet.srcset+=", "+imageData.src;imageSet.cands.push({url:imageData.src,d:1,set:imageSet})}}else if(imageData.src)imageData.sets.push({srcset:imageData.src,
sizes:null});imageData.curCan=null;imageData.curSrc=undefined;imageData.supported=!(hasPicture||imageSet&&!pf.supSrcset||isWDescripor&&!pf.supSizes);if(srcsetParsed&&pf.supSrcset&&!imageData.supported)if(srcsetAttribute){setImgAttr.call(element,srcsetAttr,srcsetAttribute);element.srcset=""}else removeImgAttr.call(element,srcsetAttr);if(imageData.supported&&!imageData.srcset&&(!imageData.src&&element.src||element.src!==pf.makeUrl(imageData.src)))if(imageData.src===null)element.removeAttribute("src");
else element.src=imageData.src;imageData.parsed=true};pf.fillImg=function(element,options){var imageData;var extreme=options.reselect||options.reevaluate;if(!element[pf.ns])element[pf.ns]={};imageData=element[pf.ns];if(!extreme&&imageData.evaled===evalId)return;if(!imageData.parsed||options.reevaluate)pf.parseSets(element,element.parentNode,options);if(!imageData.supported)applyBestCandidate(element);else imageData.evaled=evalId};pf.setupRun=function(){if(!alreadyRun||isVwDirty||DPR!==window.devicePixelRatio)updateMetrics()};
if(pf.supPicture){picturefill=noop;pf.fillImg=noop}else(function(){var isDomReady;var regReady=window.attachEvent?/d$|^c/:/d$|^c|^i/;var run=function(){var readyState=document.readyState||"";timerId=setTimeout(run,readyState==="loading"?200:999);if(document.body){pf.fillImgs();isDomReady=isDomReady||regReady.test(readyState);if(isDomReady)clearTimeout(timerId)}};var timerId=setTimeout(run,document.body?9:99);var debounce=function(func,wait){var timeout;var timestamp;var later=function(){var last=
new Date-timestamp;if(last<wait)timeout=setTimeout(later,wait-last);else{timeout=null;func()}};return function(){timestamp=new Date;if(!timeout)timeout=setTimeout(later,wait)}};var lastClientWidth=docElem.clientHeight;var onResize=function(){isVwDirty=Math.max(window.innerWidth||0,docElem.clientWidth)!==units.width||docElem.clientHeight!==lastClientWidth;lastClientWidth=docElem.clientHeight;if(isVwDirty)pf.fillImgs()};on(window,"resize",debounce(onResize,99));on(document,"readystatechange",run)})();
pf.picturefill=picturefill;pf.fillImgs=picturefill;pf.teardownRun=noop;picturefill._=pf;for(window.picturefillCFG={pf:pf,push:function(args){var name=args.shift();if(typeof pf[name]==="function")pf[name].apply(pf,args);else{cfg[name]=args[0];if(alreadyRun)pf.fillImgs({reselect:true})}}};setOptions&&setOptions.length;)window.picturefillCFG.push(setOptions.shift());window.picturefill=picturefill;if(typeof module==="object"&&typeof module.exports==="object")module.exports=picturefill;else if(typeof define===
"function"&&define.amd)define("picturefill",function(){return picturefill});if(!pf.supPicture)types["image/webp"]=detectTypeSupport("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA\x3d\x3d")})(window,document);
jQuery("#dkb_banking_header").ready(function(){function is_page_end(){return jQuery(window).scrollTop()<1?true:document.body.scrollHeight-document.body.clientHeight-jQuery(window).scrollTop()<10}function hidePint($header){$header.addClass("pint-hidden").removeClass("pint-visible")}function showPint($header){if(!jQuery("#mobile_menu").hasClass("mm-opened")){headerStickyReactivate($header);$header.css("position","fixed");$header.addClass("pint-visible").removeClass("pint-hidden")}}function headerStickyDeactivate($header){$header.css("top",
"0px").css("position","absolute")}function headerStickyReactivate($header){$header.css("top","").css("position","")}function handleStickyHeader(){var $header=jQuery("#dkb_banking_header");if(initialHeaderHeight==0){$header.css("padding-bottom","0");initialHeaderHeight=$header.outerHeight()}var newMarginContentTop=initialHeaderHeight;if(is_large_up())newMarginContentTop+=25;else if(is_small_up())newMarginContentTop+=15;jQuery("#contentHome").css("padding-top",newMarginContentTop+"px");var $htmlNode=
jQuery("html");if($htmlNode.hasClass("portal_app")&&$htmlNode.hasClass("is_apple_device")&&jQuery("body").hasClass("hasModalOverlay"))hidePint($header);else{var nst=jQuery(this).scrollTop();if(nst<newMarginContentTop){if(!$header.hasClass("pint-visible")||nst<=0){$header.removeClass("pint-visible");headerStickyDeactivate($header)}}else{if(nst<ost)showPint($header);else if(is_page_end()&&is_touch_device())showPint($header);else hidePint($header);if($htmlNode.hasClass("keepad_open"))headerStickyDeactivate($header)}ost=
nst}}var ost=0;var initialHeaderHeight=0;jQuery(document).ready(function(){handleStickyHeader();jQuery(window).scroll(function(){handleStickyHeader()});jQuery(window).resize(function(){initialHeaderHeight=0;handleStickyHeader()})})});"use strict";
(function(factory,jQuery,Zepto){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else if(typeof exports==="object")module.exports=factory(require("jquery"));else factory(jQuery||Zepto)})(function($){var Mask=function(el,mask,options){var p={invalid:[],getCaret:function(){try{var sel;var pos=0;var ctrl=el.get(0);var dSel=document.selection;var cSelStart=ctrl.selectionStart;if(dSel&&navigator.appVersion.indexOf("MSIE 10")===-1){sel=dSel.createRange();sel.moveStart("character",-p.val().length);
pos=sel.text.length}else if(cSelStart||cSelStart==="0")pos=cSelStart;return pos}catch(e){}},setCaret:function(pos){try{if(el.is(":focus")){var range;var ctrl=el.get(0);if(ctrl.setSelectionRange&&navigator.userAgent.indexOf("Android")==-1){ctrl.focus();ctrl.setSelectionRange(pos,pos)}else{range=ctrl.createTextRange();range.collapse(true);range.moveEnd("character",pos);range.moveStart("character",pos);range.select()}}}catch(e){}},events:function(){el.on("keydown.mask",function(e){el.data("mask-keycode",
e.keyCode||e.which)}).on($.jMaskGlobals.useInput?"input.mask":"keyup.mask",p.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){el.keydown().keyup()},100)}).on("change.mask",function(){el.data("changed",true)}).on("blur.mask",function(){if(oldValue!==p.val()&&!el.data("changed"))el.trigger("change");el.data("changed",false)}).on("blur.mask",function(){oldValue=p.val()}).on("focus.mask",function(e){if(options.selectOnFocus===true)$(e.target).select()}).on("focusout.mask",function(){if(options.clearIfNotMatch&&
!regexMask.test(p.val()))p.val("")})},getRegexMask:function(){var maskChunks=[];var translation;var pattern;var optional;var recursive;var oRecursive;var r;for(var i=0;i<mask.length;i++){translation=jMask.translation[mask.charAt(i)];if(translation){pattern=translation.pattern.toString().replace(/.{1}$|^.{1}/g,"");optional=translation.optional;recursive=translation.recursive;if(recursive){maskChunks.push(mask.charAt(i));oRecursive={digit:mask.charAt(i),pattern:pattern}}else maskChunks.push(!optional&&
!recursive?pattern:pattern+"?")}else maskChunks.push(mask.charAt(i).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"))}r=maskChunks.join("");if(oRecursive)r=r.replace(new RegExp("("+oRecursive.digit+"(.*"+oRecursive.digit+")?)"),"($1)?").replace(new RegExp(oRecursive.digit,"g"),oRecursive.pattern);return new RegExp(r)},destroyEvents:function(){el.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(v){var isInput=el.is("input");var method=isInput?"val":"text";
var r;if(arguments.length>0){if(el[method]()!==v)el[method](v);r=el}else r=el[method]();return r},getMCharsBeforeCount:function(index,onCleanVal){var count=0;var i=0;for(var maskL=mask.length;i<maskL&&i<index;i++)if(!jMask.translation[mask.charAt(i)]){index=onCleanVal?index+1:index;count++}return count},caretPos:function(originalCaretPos,oldLength,newLength,maskDif){var translation=jMask.translation[mask.charAt(Math.min(originalCaretPos-1,mask.length-1))];return!translation?p.caretPos(originalCaretPos+
1,oldLength,newLength,maskDif):Math.min(originalCaretPos+newLength-oldLength-maskDif,newLength)},behaviour:function(e){e=e||window.event;p.invalid=[];var keyCode=el.data("mask-keycode");if($.inArray(keyCode,jMask.byPassKeys)===-1){var caretPos=p.getCaret();var currVal=p.val();var currValL=currVal.length;var newVal=p.getMasked();var newValL=newVal.length;var maskDif=p.getMCharsBeforeCount(newValL-1)-p.getMCharsBeforeCount(currValL-1);var changeCaret=caretPos<currValL;p.val(newVal);if(changeCaret){if(!(keyCode===
8||keyCode===46))caretPos=p.caretPos(caretPos,currValL,newValL,maskDif);p.setCaret(caretPos)}return p.callbacks(e)}},getMasked:function(skipMaskChars,val){var buf=[];var value=val===undefined?p.val():val+"";var m=0;var maskLen=mask.length;var v=0;var valLen=value.length;var offset=1;var addMethod="push";var resetPos=-1;var lastMaskChar;var check;if(options.reverse){addMethod="unshift";offset=-1;lastMaskChar=0;m=maskLen-1;v=valLen-1;check=function(){return m>-1&&v>-1}}else{lastMaskChar=maskLen-1;check=
function(){return m<maskLen&&v<valLen}}for(;check();){var maskDigit=mask.charAt(m);var valDigit=value.charAt(v);var translation=jMask.translation[maskDigit];if(translation){if(valDigit.match(translation.pattern)){buf[addMethod](valDigit);if(translation.recursive){if(resetPos===-1)resetPos=m;else if(m===lastMaskChar)m=resetPos-offset;if(lastMaskChar===resetPos)m-=offset}m+=offset}else if(translation.optional){m+=offset;v-=offset}else if(translation.fallback){buf[addMethod](translation.fallback);m+=
offset;v-=offset}else p.invalid.push({p:v,v:valDigit,e:translation.pattern});v+=offset}else{if(!skipMaskChars)buf[addMethod](maskDigit);if(valDigit===maskDigit)v+=offset;m+=offset}}var lastMaskCharDigit=mask.charAt(lastMaskChar);if(maskLen===valLen+1&&!jMask.translation[lastMaskCharDigit])buf.push(lastMaskCharDigit);return buf.join("")},callbacks:function(e){var val=p.val();var changed=val!==oldValue;var defaultArgs=[val,e,el,options];var callback=function(name,criteria,args){if(typeof options[name]===
"function"&&criteria)options[name].apply(this,args)};callback("onChange",changed===true,defaultArgs);callback("onKeyPress",changed===true,defaultArgs);callback("onComplete",val.length===mask.length,defaultArgs);callback("onInvalid",p.invalid.length>0,[val,e,el,p.invalid,options])}};el=$(el);var jMask=this;var oldValue=p.val();var regexMask;mask=typeof mask==="function"?mask(p.val(),undefined,el,options):mask;jMask.mask=mask;jMask.options=options;jMask.remove=function(){var caret=p.getCaret();p.destroyEvents();
p.val(jMask.getCleanVal());p.setCaret(caret-p.getMCharsBeforeCount(caret));return el};jMask.getCleanVal=function(){return p.getMasked(true)};jMask.getMaskedVal=function(val){return p.getMasked(false,val)};jMask.init=function(onlyMask){onlyMask=onlyMask||false;options=options||{};jMask.clearIfNotMatch=$.jMaskGlobals.clearIfNotMatch;jMask.byPassKeys=$.jMaskGlobals.byPassKeys;jMask.translation=$.extend({},$.jMaskGlobals.translation,options.translation);jMask=$.extend(true,{},jMask,options);regexMask=
p.getRegexMask();if(onlyMask===false){if(options.placeholder)el.attr("placeholder",options.placeholder);if(el.data("mask"))el.attr("autocomplete","off");p.destroyEvents();p.events();var caret=p.getCaret();p.val(p.getMasked());p.setCaret(caret+p.getMCharsBeforeCount(caret,true))}else{p.events();p.val(p.getMasked())}};jMask.init(!el.is("input"))};$.maskWatchers={};var HTMLAttributes=function(){var input=$(this);var options={};var prefix="data-mask-";var mask=input.attr("data-mask");if(input.attr(prefix+
"reverse"))options.reverse=true;if(input.attr(prefix+"clearifnotmatch"))options.clearIfNotMatch=true;if(input.attr(prefix+"selectonfocus")==="true")options.selectOnFocus=true;if(notSameMaskObject(input,mask,options))return input.data("mask",new Mask(this,mask,options))};var notSameMaskObject=function(field,mask,options){options=options||{};var maskObject=$(field).data("mask");var stringify=JSON.stringify;var value=$(field).val()||$(field).text();try{if(typeof mask==="function")mask=mask(value);return typeof maskObject!==
"object"||stringify(maskObject.options)!==stringify(options)||maskObject.mask!==mask}catch(e){}};var eventSupported=function(eventName){var el=document.createElement("div");var isSupported;eventName="on"+eventName;isSupported=eventName in el;if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};$.fn.mask=function(mask,options){options=options||{};var selector=this.selector;var globals=$.jMaskGlobals;var interval=globals.watchInterval;
var watchInputs=options.watchInputs||globals.watchInputs;var maskFunction=function(){if(notSameMaskObject(this,mask,options))return $(this).data("mask",new Mask(this,mask,options))};$(this).each(maskFunction);if(selector&&selector!==""&&watchInputs){clearInterval($.maskWatchers[selector]);$.maskWatchers[selector]=setInterval(function(){$(document).find(selector).each(maskFunction)},interval)}return this};$.fn.masked=function(val){return this.data("mask").getMaskedVal(val)};$.fn.unmask=function(){clearInterval($.maskWatchers[this.selector]);
delete $.maskWatchers[this.selector];return this.each(function(){var dataMask=$(this).data("mask");if(dataMask)dataMask.remove().removeData("mask")})};$.fn.cleanVal=function(){return this.data("mask").getCleanVal()};$.applyDataMask=function(selector){selector=selector||$.jMaskGlobals.maskElements;var $selector=selector instanceof $?selector:$(selector);$selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes)};var globals={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:true,
watchInterval:300,watchInputs:true,useInput:eventSupported("input"),watchDataMask:false,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:true},"#":{pattern:/\d/,recursive:true},"A":{pattern:/[a-zA-Z0-9]/},"S":{pattern:/[a-zA-Z]/}}};$.jMaskGlobals=$.jMaskGlobals||{};globals=$.jMaskGlobals=$.extend(true,{},globals,$.jMaskGlobals);if(globals.dataMask)$.applyDataMask();setInterval(function(){if($.jMaskGlobals.watchDataMask)$.applyDataMask()},globals.watchInterval)},
window.jQuery,window.Zepto);